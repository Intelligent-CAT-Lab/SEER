17901
Test: public void testSymbolTableWrongRoot() throws Exception { otherPass = new CompilerPass() { @Override public void process(Node externs, Node root) { SymbolTable st = getLastCompiler().acquireSymbolTable(); st.createScope(root, null); st.release(); } }; try { testSame("var x;"); } catch (IllegalArgumentException e) { } }
Code: public void process(Node externs, Node root) { NodeTraversal.traverse(compiler, root, this); if (MAKE_LOCAL_NAMES_UNIQUE) { MakeDeclaredNamesUnique renamer = new MakeDeclaredNamesUnique(); NodeTraversal t = new NodeTraversal(compiler, renamer); t.traverseRoots(externs, root); } removeDuplicateDeclarations(root); new PropogateConstantAnnotations(compiler, assertOnChange) .process(externs, root); }
[[0.02679256 0.02170647 0.02264928 0.01048069 0.05054448 0.05094107
 0.03600721 0.03941807 0.02551717 0.08076479 0.07224689 0.03660764
 0.03600721 0.02248706 0.02043135 0.01687649 0.01349348 0.03549685
 0.02844207 0.04743452 0.01687649 0.01349348 0.01797486 0.03825311
 0.04700825 0.01457272 0.0114773  0.01404864 0.01349348 0.02421558
 0.02834041 0.03985028 0.01457271 0.0114773 ]
[0.02198488 0.01877101 0.01931103 0.00808785 0.05679549 0.04463751
 0.03639708 0.03812336 0.02798079 0.10276556 0.07284538 0.03628308
 0.03639708 0.02156539 0.01806745 0.01758071 0.00997048 0.04206005
 0.02156609 0.04202279 0.01758071 0.00997048 0.01838067 0.05543864
 0.04702198 0.01199366 0.01115564 0.01067221 0.00997048 0.02369913
 0.02281532 0.04493855 0.01199366 0.01115563]
[0.02104183 0.01971602 0.02087416 0.01066365 0.05069457 0.04925783
 0.03330624 0.04813505 0.03385562 0.08341456 0.07959597 0.04013576
 0.03330624 0.02008186 0.0196444  0.01432408 0.0108325  0.04139247
 0.03026484 0.0408377  0.01432408 0.0108325  0.01397268 0.044457
 0.05795694 0.01379749 0.00741122 0.01100139 0.0108325  0.02024657
 0.02371088 0.04887267 0.01379749 0.00741122]
[0.02419623 0.02410492 0.02677882 0.01109954 0.04903588 0.04031537
 0.03759751 0.04070387 0.02493385 0.0624399  0.06672689 0.04282357
 0.03759751 0.01929723 0.02212314 0.01472167 0.01259853 0.04747575
 0.02013516 0.04983364 0.01472167 0.01259853 0.02038318 0.05922404
 0.03750242 0.01738968 0.01272692 0.01217797 0.01259853 0.02719276
 0.02374998 0.04507872 0.01738968 0.01272691]
[0.01981378 0.01950421 0.01998491 0.00888936 0.05655495 0.0371732
 0.04184628 0.04362879 0.03101913 0.08870593 0.07341145 0.03437727
 0.04184628 0.0211707  0.02008407 0.01808996 0.01080023 0.04377355
 0.02334458 0.04096987 0.01808996 0.01080023 0.01804544 0.05615881
 0.04360093 0.0108211  0.00807487 0.0116982  0.01080023 0.02324111
 0.02699303 0.04779163 0.0108211  0.00807487]
[0.0238609  0.01664505 0.02334198 0.01256289 0.05324958 0.04353999
 0.04127105 0.03658599 0.02390078 0.09062684 0.0721131  0.03240745
 0.04127105 0.01884407 0.01828717 0.01602263 0.01268862 0.04440966
 0.02497868 0.04814324 0.01602263 0.01268862 0.01945059 0.0391632
 0.0425775  0.01542405 0.01336117 0.01207487 0.01268862 0.02004786
 0.02620793 0.04675698 0.01542405 0.01336117]
[0.02717869 0.02363811 0.02513406 0.0153173  0.04479747 0.03607217
 0.04279903 0.03485283 0.02011966 0.07267849 0.0469279  0.0402509
 0.04279903 0.0232387  0.0257268  0.02258574 0.01529446 0.04218573
 0.02571952 0.03924808 0.02258574 0.01529446 0.01810142 0.04982078
 0.04311084 0.01618538 0.01523412 0.0136939  0.01529446 0.02519919
 0.02717701 0.0403186  0.01618538 0.01523412]
[0.0220382  0.02122308 0.02031998 0.01032877 0.05471656 0.04946752
 0.03622716 0.04007254 0.02643586 0.06520046 0.07562916 0.04020278
 0.03622716 0.01918555 0.02160286 0.01565476 0.01443009 0.04180108
 0.02983867 0.04794233 0.01565476 0.01443009 0.02302515 0.04443759
 0.04819195 0.01695894 0.0109776  0.01161648 0.01443009 0.02103174
 0.0243122  0.03845233 0.01695894 0.0109776 ]
[0.02405222 0.01689523 0.01925309 0.01203828 0.0535556  0.04567
 0.03567686 0.04698101 0.02773562 0.08503875 0.06846668 0.04468065
 0.03567686 0.0262732  0.02085982 0.01871574 0.01109531 0.04318564
 0.03554269 0.04604371 0.01871574 0.01109531 0.01734372 0.03348422
 0.04188815 0.01387249 0.01046783 0.01372587 0.01109531 0.02113017
 0.02592266 0.03948128 0.01387249 0.01046783]
[0.02407904 0.01468577 0.029053   0.01231482 0.04782156 0.04255961
 0.04278158 0.04254764 0.02032221 0.08476569 0.06901903 0.04341485
 0.04278158 0.0221149  0.02271656 0.01698599 0.0135665  0.04607872
 0.02587732 0.0431506  0.01698599 0.0135665  0.01905494 0.04038417
 0.03624802 0.01425787 0.00985381 0.01501872 0.0135665  0.02712067
 0.02456079 0.03863338 0.01425787 0.00985381]
[0.01849337 0.01361304 0.02023933 0.00497085 0.061146   0.0489087
 0.03634454 0.04322352 0.02333714 0.0995404  0.10332634 0.04311539
 0.03634454 0.01911142 0.01550793 0.01425423 0.00705118 0.03774198
 0.02471699 0.05305421 0.01425423 0.00705118 0.01712639 0.06700035
 0.04616773 0.00957745 0.00566826 0.00784478 0.00705118 0.01883762
 0.0203912  0.03974276 0.00957745 0.00566826]
[0.02504244 0.01721692 0.0268724  0.01407573 0.05077711 0.04342526
 0.03424452 0.04514182 0.02155092 0.07873696 0.07217811 0.03740775
 0.03424452 0.02330974 0.02688774 0.01695629 0.01451523 0.0409108
 0.02148178 0.04368599 0.01695629 0.01451523 0.02306184 0.04935491
 0.03746155 0.01705938 0.0111243  0.01309956 0.01451523 0.02468566
 0.02508067 0.03623972 0.01705937 0.0111243 ]
[0.02717869 0.02363811 0.02513406 0.0153173  0.04479747 0.03607217
 0.04279903 0.03485283 0.02011966 0.07267849 0.0469279  0.0402509
 0.04279903 0.0232387  0.0257268  0.02258574 0.01529446 0.04218573
 0.02571952 0.03924808 0.02258574 0.01529446 0.01810142 0.04982078
 0.04311084 0.01618538 0.01523412 0.0136939  0.01529446 0.02519919
 0.02717701 0.0403186  0.01618538 0.01523412]
[0.02144397 0.01811927 0.02102673 0.00967639 0.05427492 0.04636867
 0.0448591  0.03853449 0.02443564 0.07597147 0.07489118 0.04351436
 0.0448591  0.02429833 0.0164867  0.01576013 0.01256832 0.0347878
 0.02716574 0.04619037 0.01576013 0.01256832 0.01975947 0.04363559
 0.05412241 0.01376995 0.00835218 0.01291509 0.01256832 0.02088356
 0.02138139 0.04692878 0.01376994 0.00835218]
[0.02096689 0.01983777 0.02197012 0.00968867 0.05064645 0.03769482
 0.05735242 0.04406402 0.02360866 0.07216259 0.07479297 0.04398271
 0.05735242 0.02170256 0.0254208  0.01356547 0.00996044 0.05408113
 0.01911249 0.04637592 0.01356547 0.00996044 0.01986452 0.04666312
 0.0422052  0.01322649 0.00827279 0.01093643 0.00996044 0.01624885
 0.02476801 0.03848968 0.01322649 0.00827279]
[0.02938076 0.02374467 0.0291727  0.01748106 0.0439409  0.040294
 0.03211527 0.04084389 0.01895466 0.07059804 0.06482475 0.03028826
 0.03211527 0.02174429 0.03087863 0.02405245 0.01376624 0.03956482
 0.02597346 0.04350406 0.02405245 0.01376624 0.02037786 0.03906592
 0.03250615 0.02254541 0.0141422  0.01581795 0.01376624 0.02624422
 0.03278263 0.03500691 0.02254541 0.0141422 ]
[0.02305017 0.02065567 0.02250712 0.01089767 0.03907707 0.04328255
 0.04087201 0.04127609 0.02355591 0.0794113  0.07884359 0.0435941
 0.04087201 0.01869074 0.01861261 0.01851599 0.0150842  0.04163338
 0.0203022  0.03605501 0.01851599 0.0150842  0.0165013  0.04554264
 0.04812584 0.01819967 0.01193018 0.01235898 0.0150842  0.02803557
 0.02331326 0.04038895 0.01819967 0.01193018]
[0.02323367 0.01814007 0.02086829 0.01054058 0.05591533 0.0472995
 0.03127389 0.04071106 0.0256487  0.08861199 0.08464333 0.03837114
 0.03127389 0.02001517 0.02099493 0.01591844 0.01099231 0.04294964
 0.02065697 0.04953457 0.01591844 0.01099231 0.0194645  0.05189796
 0.04306489 0.01364074 0.01155086 0.00959079 0.01099231 0.02456832
 0.02403657 0.04149721 0.01364074 0.01155087]
[0.01850537 0.01381942 0.01969253 0.0076097  0.04984874 0.04563817
 0.04087556 0.04021125 0.02024693 0.09508228 0.07432075 0.04768628
 0.04087556 0.01564044 0.01588797 0.01641618 0.01170907 0.05259905
 0.02465113 0.05803722 0.01641618 0.01170907 0.01890861 0.04389361
 0.05379497 0.0135622  0.0084131  0.0111992  0.01170907 0.01697422
 0.02384044 0.03825042 0.0135622  0.0084131 ]
[0.0214824  0.01563537 0.0247818  0.00801484 0.06510685 0.03561573
 0.04984083 0.03906095 0.02195104 0.0949455  0.09026952 0.0364124
 0.04984083 0.01787827 0.01794144 0.0125503  0.00966626 0.04144938
 0.01849264 0.0401509  0.0125503  0.00966626 0.01690622 0.05873683
 0.03414637 0.01339729 0.00807368 0.01035843 0.00966626 0.02139539
 0.02827886 0.04426586 0.01339729 0.00807368]
[0.02938076 0.02374467 0.0291727  0.01748106 0.0439409  0.040294
 0.03211527 0.04084389 0.01895466 0.07059804 0.06482475 0.03028826
 0.03211527 0.02174429 0.03087863 0.02405245 0.01376624 0.03956482
 0.02597346 0.04350406 0.02405245 0.01376624 0.02037786 0.03906592
 0.03250615 0.02254541 0.0141422  0.01581795 0.01376624 0.02624422
 0.03278263 0.03500691 0.02254541 0.0141422 ]
[0.02305017 0.02065567 0.02250712 0.01089767 0.03907707 0.04328255
 0.04087201 0.04127609 0.02355591 0.0794113  0.07884359 0.0435941
 0.04087201 0.01869074 0.01861261 0.01851599 0.0150842  0.04163338
 0.0203022  0.03605501 0.01851599 0.0150842  0.0165013  0.04554264
 0.04812584 0.01819967 0.01193018 0.01235898 0.0150842  0.02803557
 0.02331326 0.04038895 0.01819967 0.01193018]
[0.0215109  0.02308603 0.02133472 0.0105797  0.05680246 0.04262831
 0.04191391 0.03921603 0.02593579 0.10212485 0.06472183 0.04319001
 0.04191391 0.02304433 0.02106549 0.01490939 0.01246881 0.04475043
 0.02409711 0.04663553 0.01490939 0.01246881 0.01567905 0.04495984
 0.0337941  0.01306944 0.00913348 0.00883111 0.01246881 0.02430888
 0.02466751 0.04157712 0.01306944 0.00913348]
[0.02659058 0.02007798 0.02741648 0.01240434 0.045368   0.05169337
 0.04005563 0.0313019  0.02141342 0.08124486 0.07245328 0.04062045
 0.04005563 0.01978994 0.01927549 0.01584689 0.01189738 0.04021267
 0.02546408 0.04924379 0.01584689 0.01189738 0.02062914 0.04716137
 0.03975613 0.01522607 0.01062735 0.0144896  0.01189738 0.02069625
 0.02644941 0.04704342 0.01522607 0.01062735]
[0.02460328 0.01597556 0.02222879 0.01003331 0.05244669 0.04779239
 0.04240935 0.04061538 0.01976498 0.09582652 0.06957956 0.04425334
 0.04240935 0.01992711 0.01911255 0.01850545 0.01099762 0.03965998
 0.02448535 0.04423253 0.01850545 0.01099762 0.01549873 0.0491775
 0.04900634 0.01375629 0.00857947 0.01188983 0.01099762 0.02297247
 0.02502785 0.03639594 0.01375629 0.00857947]
[0.018474   0.01628416 0.01883413 0.00820494 0.05819112 0.03954065
 0.04675755 0.04950869 0.02600612 0.07935464 0.09375645 0.0397331
 0.04675755 0.02067217 0.01904787 0.01486102 0.01000063 0.04275733
 0.02052679 0.03946707 0.01486102 0.01000063 0.01721435 0.043657
 0.05473829 0.01345703 0.00774515 0.01119687 0.01000063 0.02102744
 0.02090484 0.04525863 0.01345703 0.00774515]
[0.01879765 0.01714554 0.02614835 0.01071566 0.07105695 0.03602156
 0.04538538 0.0492029  0.02227629 0.08598956 0.07190315 0.04002013
 0.04538538 0.02225763 0.01871281 0.01668032 0.01051986 0.04415503
 0.02526967 0.04549323 0.01668032 0.01051986 0.02091931 0.04087327
 0.03503034 0.0132701  0.00990761 0.01169076 0.01051986 0.02010567
 0.02708757 0.03708066 0.0132701  0.00990761]
[0.02564315 0.01710319 0.01979807 0.00939023 0.04572353 0.04925714
 0.03513657 0.04284194 0.02766507 0.10352027 0.08825362 0.03549075
 0.03513657 0.02350643 0.02009904 0.01322731 0.00960391 0.04341075
 0.02437154 0.04000592 0.01322731 0.00960391 0.01462617 0.06255438
 0.0493719  0.01216464 0.00669828 0.0118177  0.00960391 0.01843268
 0.02124448 0.04260665 0.01216464 0.00669828]
[0.02305017 0.02065567 0.02250712 0.01089767 0.03907707 0.04328255
 0.04087201 0.04127609 0.02355591 0.0794113  0.07884359 0.0435941
 0.04087201 0.01869074 0.01861261 0.01851599 0.0150842  0.04163338
 0.0203022  0.03605501 0.01851599 0.0150842  0.0165013  0.04554264
 0.04812584 0.01819967 0.01193018 0.01235898 0.0150842  0.02803557
 0.02331326 0.04038895 0.01819967 0.01193018]
[0.02297319 0.01697581 0.02136412 0.00962667 0.04659927 0.044821
 0.04043167 0.04004601 0.03204529 0.07764883 0.07706632 0.03765843
 0.04043167 0.0235077  0.02014567 0.01599246 0.0130961  0.04293731
 0.02135241 0.04203346 0.01599246 0.0130961  0.01852799 0.03975182
 0.0561915  0.01475632 0.01105868 0.01193646 0.0130961  0.02455796
 0.02352561 0.04494064 0.01475632 0.01105868]
[0.02021574 0.0166592  0.0280614  0.01117914 0.05197977 0.0416166
 0.04672972 0.03980257 0.02402293 0.08486259 0.06043041 0.048328
 0.04672972 0.01984049 0.01983177 0.01931164 0.01086722 0.03552737
 0.02346847 0.0364479  0.01931164 0.01086722 0.0216671  0.04620996
 0.04100279 0.01433298 0.01123343 0.01425139 0.01086722 0.02423402
 0.02640153 0.04814167 0.01433298 0.01123343]
[0.02088523 0.01612998 0.02349964 0.00747208 0.05897913 0.04741484
 0.04667025 0.04455831 0.02683972 0.10046561 0.07307432 0.03180352
 0.04667025 0.02412545 0.01508447 0.01409941 0.01027101 0.0416411
 0.03371188 0.04139206 0.01409941 0.01027101 0.01736446 0.05338199
 0.03939053 0.01089243 0.00666705 0.01187097 0.01027101 0.02058427
 0.02154138 0.04131779 0.01089243 0.00666704]
[0.018474   0.01628417 0.01883413 0.00820494 0.0581911  0.03954063
 0.04675755 0.04950871 0.02600612 0.07935463 0.09375645 0.03973309
 0.04675755 0.02067217 0.01904787 0.01486102 0.01000063 0.04275735
 0.0205268  0.03946708 0.01486102 0.01000063 0.01721434 0.043657
 0.05473826 0.01345703 0.00774515 0.01119687 0.01000063 0.02102744
 0.02090484 0.04525862 0.01345703 0.00774515]
[0.01879765 0.01714554 0.02614835 0.01071566 0.07105695 0.03602157
 0.04538538 0.04920291 0.02227628 0.08598953 0.07190313 0.04002012
 0.04538538 0.02225763 0.01871281 0.01668031 0.01051986 0.04415504
 0.02526967 0.04549322 0.01668031 0.01051986 0.02091931 0.04087329
 0.03503033 0.0132701  0.00990761 0.01169076 0.01051986 0.02010566
 0.02708757 0.03708065 0.0132701  0.00990761]]