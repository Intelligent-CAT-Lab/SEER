66532
Test: public void testCustomLists() throws Exception { ObjectMapper mapper = new ObjectMapper(); SimpleModule module = new SimpleModule("test", Version.unknownVersion()); JsonSerializer<?> ser = new CollectionSerializer(null, false, null, null); final JsonSerializer<Object> collectionSerializer = (JsonSerializer<Object>) ser; module.addSerializer(Collection.class, new JsonSerializer<Collection>() { @Override public void serialize(Collection value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException { if (value.size() != 0) { collectionSerializer.serialize(value, jgen, provider); } else { jgen.writeNull(); } } }); mapper.registerModule(module); }
Code: public void writeNull() throws IOException { _append(JsonToken.VALUE_NULL); }
tensor([[0.1192, 0.0960, 0.1685, 0.2852, 0.0607, 0.1552, 0.0651, 0.0500],
        [0.0975, 0.0797, 0.1778, 0.3557, 0.0490, 0.1452, 0.0498, 0.0452],
        [0.0883, 0.0850, 0.1656, 0.3173, 0.0630, 0.1782, 0.0602, 0.0424],
        [0.0788, 0.0729, 0.1485, 0.4073, 0.0458, 0.1676, 0.0448, 0.0342],
        [0.0974, 0.0765, 0.1451, 0.3787, 0.0518, 0.1601, 0.0553, 0.0351],
        [0.1191, 0.1015, 0.1800, 0.2169, 0.0753, 0.1631, 0.0821, 0.0620],
        [0.0836, 0.0735, 0.1437, 0.4304, 0.0503, 0.1384, 0.0487, 0.0314],
        [0.0835, 0.0747, 0.1461, 0.3539, 0.0615, 0.1864, 0.0525, 0.0415]])