16879
Test: public void testProxyUnionType() throws Exception { UnionType stringOrNumber = (UnionType) createUnionType(NUMBER_TYPE, STRING_TYPE); UnionType stringOrBoolean = (UnionType) createUnionType(BOOLEAN_TYPE, STRING_TYPE); ObjectType stringOrNumberProxy = new ProxyObjectType(registry, stringOrNumber); ObjectType stringOrBooleanProxy = new ProxyObjectType(registry, stringOrBoolean); }
Code: public JSType getLeastSupertype(JSType that) { if (!that.isUnknownType() && !that.isUnionType()) { for (JSType alternate : alternates) { if (!alternate.isUnknownType() && that.isSubtype(alternate)) { return this; } } } return getLeastSupertype(this, that); }
[[0.02620555 0.06859517 0.01112663 0.04689853 0.03291363 0.07042923
 0.0157639  0.01648421 0.0243945  0.03291363 0.02585528 0.03914556
 0.10052849 0.02332736 0.04647489 0.03291363 0.07042923 0.03055469
 0.01648421 0.07877737 0.03291363 0.02858971 0.02210386 0.01072159
 0.01072159 0.01072159 0.02858971 0.01592087 0.01878018 0.01072159]
[0.01809234 0.08747859 0.00946696 0.05204158 0.03617077 0.07128575
 0.01643035 0.014731   0.0280801  0.03617077 0.02243263 0.03555731
 0.11506089 0.01719252 0.03844561 0.03617077 0.07128575 0.02342985
 0.014731   0.07576774 0.03617077 0.02924189 0.01886529 0.00873587
 0.00873587 0.00873587 0.02924189 0.0139676  0.01754681 0.00873587]
[0.02117869 0.08332123 0.01269782 0.05233825 0.03334875 0.07286908
 0.01449661 0.01589836 0.02938382 0.03334875 0.02633381 0.03905222
 0.12027401 0.01541494 0.04314105 0.03334875 0.07286908 0.02038443
 0.01589836 0.07667699 0.03334875 0.02546973 0.01824911 0.00965028
 0.00965028 0.00965028 0.02546973 0.0132441  0.01334248 0.00965028]
[0.01600254 0.08164176 0.00732489 0.05988071 0.03410785 0.07543373
 0.01610895 0.01408559 0.02769277 0.03410785 0.0262733  0.03045123
 0.1200712  0.01294518 0.05033027 0.03410785 0.07543373 0.02911464
 0.01408559 0.07713905 0.03410785 0.026508   0.01707916 0.00765833
 0.00765833 0.00765833 0.026508   0.01481463 0.01401033 0.00765833]
[0.02751662 0.0425018  0.01541155 0.06517313 0.03956768 0.04800645
 0.01978156 0.02325763 0.0242176  0.03956768 0.02829491 0.03381219
 0.09363614 0.02200043 0.0475373  0.03956768 0.04800645 0.02236067
 0.02325763 0.07341029 0.03956768 0.03227862 0.02236385 0.01469697
 0.01469697 0.01469697 0.03227862 0.0186041  0.01923385 0.01469697]
[0.01524251 0.11949053 0.00475765 0.0686259  0.03205386 0.08594715
 0.00748711 0.00786284 0.01674048 0.03205386 0.01913653 0.02429469
 0.1438879  0.0112083  0.04073872 0.03205386 0.08594715 0.01782951
 0.00786284 0.1057276  0.03205386 0.02007724 0.01215258 0.0049097
 0.0049097  0.0049097  0.02007724 0.0083784  0.00867292 0.0049097 ]
[0.02091706 0.09601934 0.00821823 0.04328565 0.0390767  0.08289352
 0.01739955 0.01300056 0.0197943  0.0390767  0.02337703 0.02683828
 0.10440172 0.01741075 0.05090099 0.0390767  0.08289352 0.01929557
 0.01300056 0.07635625 0.0390767  0.02867767 0.01650522 0.00672668
 0.00672668 0.00672668 0.02867768 0.0126728  0.01425017 0.00672668]
[0.02029362 0.0856794  0.0082008  0.06330837 0.03627474 0.06112129
 0.01298358 0.0132724  0.02070266 0.03627474 0.02289265 0.03098915
 0.11056746 0.02012375 0.04407433 0.03627474 0.06112129 0.02250247
 0.0132724  0.0966191  0.03627474 0.02597217 0.01836729 0.01183059
 0.01183059 0.01183059 0.02597217 0.01274292 0.01679948 0.01183059]
[0.02656255 0.0566568  0.01090286 0.04752089 0.03725452 0.07046503
 0.02373978 0.02105369 0.023913   0.03725452 0.0288794  0.03469162
 0.09153819 0.02218651 0.0520996  0.03725452 0.07046503 0.02098988
 0.02105369 0.05989969 0.03725452 0.02710491 0.02295395 0.01338637
 0.01338637 0.01338637 0.02710491 0.01887047 0.01878402 0.01338637]
[0.02751662 0.0425018  0.01541155 0.06517313 0.03956768 0.04800645
 0.01978156 0.02325763 0.0242176  0.03956768 0.02829491 0.03381219
 0.09363614 0.02200043 0.0475373  0.03956768 0.04800645 0.02236067
 0.02325763 0.07341029 0.03956768 0.03227862 0.02236385 0.01469697
 0.01469697 0.01469697 0.03227862 0.0186041  0.01923385 0.01469697]
[0.02509622 0.07839204 0.00901747 0.05056174 0.04009154 0.0768505
 0.01351683 0.01566892 0.02356137 0.04009154 0.02571955 0.03925605
 0.11463834 0.01467189 0.03583134 0.04009154 0.0768505  0.02890325
 0.01566892 0.07077449 0.04009154 0.02664939 0.0156082  0.00687837
 0.00687837 0.00687837 0.02664939 0.01568055 0.01255343 0.00687837]
[0.02158706 0.08768597 0.00855447 0.0503626  0.04252153 0.06650688
 0.0172271  0.01271972 0.02118666 0.04252153 0.02776609 0.03648581
 0.11093507 0.01465035 0.04305625 0.04252153 0.06650688 0.01881408
 0.01271972 0.07956354 0.04252153 0.0271226  0.0171838  0.00801252
 0.00801252 0.00801252 0.02712261 0.01735879 0.01274774 0.00801252]
[0.03804103 0.05403217 0.01243363 0.05345275 0.03570034 0.06396772
 0.02135319 0.02213782 0.02834794 0.03570034 0.02568313 0.04270647
 0.07813349 0.02307468 0.04304873 0.03570034 0.06396772 0.02306759
 0.02213782 0.06601147 0.03570034 0.0298073  0.02843871 0.01238441
 0.01238441 0.01238441 0.0298073  0.01731024 0.02070014 0.01238441]
[0.02459823 0.07867464 0.01123312 0.0503952  0.03717471 0.06041815
 0.020879   0.02164733 0.02090739 0.03717471 0.02538259 0.03392624
 0.10412242 0.01674115 0.04334076 0.03717471 0.06041815 0.02220919
 0.02164733 0.06782062 0.03717471 0.03101153 0.01932261 0.01297124
 0.01297124 0.01297124 0.03101152 0.01918652 0.01452247 0.01297123]
[0.02187556 0.0854183  0.00768998 0.05048742 0.03244302 0.06948733
 0.01976957 0.01376084 0.02215103 0.03244302 0.02704212 0.02593797
 0.11917661 0.01370938 0.04996132 0.03244302 0.06948733 0.02276666
 0.01376084 0.09307463 0.03244302 0.02891994 0.01889389 0.00893944
 0.00893944 0.00893944 0.02891994 0.01833611 0.01384345 0.00893944]
[0.02751662 0.0425018  0.01541155 0.06517313 0.03956768 0.04800645
 0.01978156 0.02325763 0.0242176  0.03956768 0.02829491 0.03381219
 0.09363614 0.02200043 0.0475373  0.03956768 0.04800645 0.02236067
 0.02325763 0.07341029 0.03956768 0.03227862 0.02236385 0.01469697
 0.01469697 0.01469697 0.03227862 0.0186041  0.01923385 0.01469697]
[0.01524251 0.11949053 0.00475765 0.0686259  0.03205386 0.08594715
 0.00748711 0.00786284 0.01674048 0.03205386 0.01913653 0.02429469
 0.1438879  0.0112083  0.04073872 0.03205386 0.08594715 0.01782951
 0.00786284 0.1057276  0.03205386 0.02007724 0.01215258 0.0049097
 0.0049097  0.0049097  0.02007724 0.0083784  0.00867292 0.0049097 ]
[0.02299812 0.09527628 0.01023788 0.06067167 0.03197334 0.07013261
 0.01274762 0.0133582  0.02885157 0.03197334 0.02292367 0.03878289
 0.12178548 0.01812072 0.03847957 0.03197334 0.07013261 0.01955145
 0.0133582  0.08388776 0.03197334 0.02470194 0.01730975 0.0093658
 0.0093658  0.0093658  0.02470194 0.01336028 0.01327322 0.0093658 ]
[0.02029362 0.0856794  0.0082008  0.06330837 0.03627474 0.06112129
 0.01298358 0.0132724  0.02070266 0.03627474 0.02289265 0.03098915
 0.11056746 0.02012375 0.04407433 0.03627474 0.06112129 0.02250247
 0.0132724  0.0966191  0.03627474 0.02597217 0.01836729 0.01183059
 0.01183059 0.01183059 0.02597217 0.01274292 0.01679948 0.01183059]
[0.02287308 0.05867848 0.01485448 0.05129594 0.03776096 0.06190121
 0.02042213 0.02033815 0.03229139 0.03776096 0.0264306  0.03648008
 0.0879156  0.02385702 0.04187352 0.03776096 0.06190121 0.02036109
 0.02033815 0.07072011 0.03776096 0.03199848 0.02153597 0.0138815
 0.0138815  0.0138815  0.03199847 0.01573941 0.01962557 0.0138815 ]
[0.02751662 0.0425018  0.01541155 0.06517313 0.03956768 0.04800645
 0.01978156 0.02325763 0.0242176  0.03956768 0.02829491 0.03381219
 0.09363614 0.02200043 0.0475373  0.03956768 0.04800645 0.02236067
 0.02325763 0.07341029 0.03956768 0.03227862 0.02236385 0.01469697
 0.01469697 0.01469697 0.03227862 0.0186041  0.01923385 0.01469697]
[0.01671    0.08051688 0.0099878  0.07478793 0.03150102 0.06967092
 0.01186451 0.01155139 0.02410733 0.03150102 0.02895324 0.03565855
 0.12593815 0.01526877 0.03712355 0.03150102 0.06967092 0.02067372
 0.01155139 0.10797873 0.03150102 0.02446066 0.01499429 0.00869207
 0.00869207 0.00869207 0.02446067 0.01175237 0.01154591 0.00869207]
[0.0258047  0.09383665 0.00930592 0.05359483 0.03871867 0.06250778
 0.01545027 0.01980836 0.02174379 0.03871867 0.02036014 0.02844675
 0.0994269  0.01667014 0.04849722 0.03871867 0.06250778 0.02348397
 0.01980836 0.06997363 0.03871867 0.03139459 0.01584313 0.01069389
 0.01069389 0.01069389 0.03139459 0.01528558 0.0172047  0.01069389]
[0.0188902  0.0680437  0.01006446 0.05360334 0.04127897 0.07130724
 0.01950918 0.01528337 0.02532608 0.04127897 0.0252123  0.03287966
 0.09704353 0.01584619 0.04509882 0.04127897 0.07130724 0.0216592
 0.01528337 0.06394449 0.04127897 0.03915596 0.01683756 0.00923332
 0.00923332 0.00923332 0.03915595 0.01702904 0.01546995 0.00923332]
[0.0188902  0.0680437  0.01006446 0.05360334 0.04127897 0.07130724
 0.01950918 0.01528337 0.02532608 0.04127897 0.0252123  0.03287966
 0.09704353 0.01584619 0.04509882 0.04127897 0.07130724 0.0216592
 0.01528337 0.06394449 0.04127897 0.03915596 0.01683756 0.00923332
 0.00923332 0.00923332 0.03915595 0.01702904 0.01546995 0.00923332]
[0.0188902  0.0680437  0.01006446 0.05360334 0.04127897 0.07130724
 0.01950918 0.01528337 0.02532608 0.04127897 0.0252123  0.03287966
 0.09704353 0.01584619 0.04509882 0.04127897 0.07130724 0.0216592
 0.01528337 0.06394449 0.04127897 0.03915596 0.01683756 0.00923332
 0.00923332 0.00923332 0.03915595 0.01702904 0.01546995 0.00923332]
[0.01671    0.08051688 0.0099878  0.07478793 0.03150102 0.06967092
 0.01186451 0.01155139 0.02410733 0.03150102 0.02895324 0.03565855
 0.12593815 0.01526877 0.03712355 0.03150102 0.06967092 0.02067372
 0.01155139 0.10797873 0.03150102 0.02446066 0.01499429 0.00869207
 0.00869207 0.00869207 0.02446067 0.01175237 0.01154591 0.00869207]
[0.02106259 0.09308802 0.01061661 0.06254169 0.03121923 0.06752345
 0.01406906 0.01163718 0.02466618 0.03121923 0.02664413 0.0324618
 0.1050794  0.01830633 0.04030319 0.03121923 0.06752345 0.01893014
 0.01163718 0.10053399 0.03121923 0.03163095 0.01701242 0.00994314
 0.00994314 0.00994314 0.03163095 0.01240646 0.01604535 0.00994314]
[0.01450735 0.08753163 0.00656127 0.05989986 0.04504129 0.07519764
 0.0117073  0.00868642 0.01705799 0.04504129 0.02257955 0.026983
 0.13330904 0.01433044 0.03259131 0.04504129 0.07519764 0.02136852
 0.00868642 0.08211945 0.04504129 0.0292078  0.01275152 0.00752124
 0.00752124 0.00752124 0.0292078  0.01110617 0.00916177 0.00752124]
[0.0188902  0.06804372 0.01006446 0.05360336 0.04127897 0.07130723
 0.01950919 0.01528337 0.02532608 0.04127897 0.0252123  0.03287966
 0.09704351 0.01584619 0.04509882 0.04127897 0.07130723 0.02165921
 0.01528337 0.06394449 0.04127897 0.03915596 0.01683755 0.00923332
 0.00923332 0.00923332 0.03915596 0.01702905 0.01546995 0.00923332]]