18414
Test: public void testIssue724() { CompilerOptions options = createCompilerOptions(); CompilationLevel.ADVANCED_OPTIMIZATIONS .setOptionsForCompilationLevel(options); String code = "isFunction = function(functionToCheck) {" + " var getType = {};" + " return functionToCheck && " + " getType.toString.apply(functionToCheck) === " + " '[object Function]';" + "};"; String result = "isFunction=function(a){var b={};" + "return a&&\"[object Function]\"===b.b.a(a)}"; test(options, code, result); }
Code: public boolean apply(Node n){if (n.isName()) {return n.getString().equals("eval")|| (!fnName.isEmpty()&& n.getString().equals(fnName))|| (!fnRecursionName.isEmpty()&& n.getString().equals(fnRecursionName));}return true;}
[[0.04540842 0.1111225  0.24028245 0.02109798 0.04271083 0.13597341
 0.10854281 0.06548349 0.03894441 0.06762179 0.07000906 0.05280286]
[0.03237362 0.16774596 0.25185257 0.01347321 0.03031135 0.14819723
 0.10837699 0.05166842 0.04014357 0.05180942 0.06310225 0.04094538]
[0.03781136 0.15220359 0.23211163 0.01924933 0.039903   0.14693074
 0.10094556 0.05816608 0.03840714 0.06879743 0.06243435 0.04303988]
[0.04518263 0.11978007 0.23114608 0.02146622 0.04349347 0.13079487
 0.10124758 0.06445352 0.05129845 0.06359346 0.07122514 0.05631851]
[0.04100117 0.13877313 0.25501817 0.02117343 0.04193978 0.10731136
 0.0996601  0.05487787 0.04682789 0.06427266 0.06812742 0.06101705]
[0.03525169 0.11591478 0.27233976 0.01832092 0.03268468 0.13716301
 0.09592894 0.06598131 0.04041263 0.07372114 0.07103064 0.04125055]
[0.05455856 0.11653457 0.30062667 0.01467168 0.05036133 0.10392064
 0.11337787 0.06010308 0.03234088 0.05651819 0.06037652 0.03661001]
[0.03618547 0.13783011 0.24569164 0.01972945 0.04402232 0.13561252
 0.08724928 0.06315463 0.0376836  0.06184811 0.07598836 0.05500449]
[0.0443061  0.13954419 0.23344293 0.02138316 0.05121297 0.12971379
 0.09949437 0.04876731 0.04708283 0.06597163 0.06957819 0.04950249]
[0.04615731 0.10893698 0.26974818 0.02579857 0.04472327 0.11058456
 0.10542747 0.06783254 0.03689681 0.06159008 0.07062214 0.05168209]
[0.04301991 0.12992579 0.2376989  0.02521921 0.04423877 0.1203796
 0.10901438 0.05917626 0.03932893 0.06803858 0.07033935 0.05362032]
[0.03905803 0.16976932 0.20923096 0.02411641 0.04197112 0.11461069
 0.10887961 0.05802956 0.04862294 0.0709991  0.07297125 0.04174105]]