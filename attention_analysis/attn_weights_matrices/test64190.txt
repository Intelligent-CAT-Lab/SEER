64190
Test: public void testSmallSymbolSetWithChars() throws IOException { final int SEED = 33333; CharsToNameCanonicalizer symbols = CharsToNameCanonicalizer.createRoot(SEED); JsonFactory f = new JsonFactory(); JsonParser p = f.createParser(JSON); JsonToken t; while ((t = p.nextToken()) != null) { if (t != JsonToken.FIELD_NAME) { continue; } String name = p.getCurrentName(); char[] ch = name.toCharArray(); symbols.findSymbol(ch, 0, ch.length, symbols.calcHash(name)); } p.close(); }
Code: public int calcHash(int q1){int hash = q1 ^ _seed;hash += (hash >>> 16); ;return hash;}
[[0.0371169  0.02058972 0.07319841 0.03838513 0.10703713 0.0242848
 0.12185148 0.05237305 0.05281793 0.06465286 0.12183928 0.02996805
 0.06654322 0.0293673  0.15997475]
[0.02371239 0.0144437  0.08916338 0.02690294 0.09008578 0.01990266
 0.12285441 0.04089819 0.05075708 0.06114864 0.11569664 0.03197909
 0.08317774 0.02313297 0.20614444]
[0.04462672 0.01754036 0.06802445 0.04597411 0.10238332 0.03195461
 0.0934786  0.0418156  0.04259221 0.07197809 0.0903217  0.03704297
 0.05663709 0.03570758 0.21992259]
[0.02927361 0.01020946 0.0652075  0.02862952 0.09643292 0.02478812
 0.10253613 0.03480291 0.03415427 0.06110255 0.15504375 0.02416175
 0.05812871 0.01982787 0.2557009 ]
[0.0404787  0.02132613 0.06893836 0.04130719 0.10109842 0.0281331
 0.11162569 0.04822784 0.05621833 0.06709388 0.10335141 0.03854143
 0.06169858 0.03142616 0.1805348 ]
[0.04747839 0.02779683 0.07373509 0.05144486 0.09195206 0.04098802
 0.10295121 0.05556533 0.06253539 0.06495139 0.11034738 0.04399171
 0.05925318 0.04635718 0.12065196]
[0.02225164 0.00808191 0.06347347 0.02003475 0.1058265  0.01625383
 0.12921746 0.03741632 0.03772226 0.06533264 0.12328934 0.02177917
 0.07658744 0.01673377 0.2559995 ]
[0.03223918 0.01092168 0.07377174 0.0297599  0.09064502 0.02150902
 0.12200146 0.04112191 0.03824356 0.07388234 0.11687188 0.03448887
 0.06011518 0.0213238  0.23310442]
[0.05086714 0.02464274 0.06977073 0.04180564 0.10449114 0.03066638
 0.09583126 0.05011654 0.05221904 0.07081315 0.09791388 0.04217349
 0.05331527 0.03882916 0.17654438]
[0.0344579  0.01567481 0.07118738 0.03650258 0.11296267 0.02094103
 0.10580417 0.04426507 0.0397903  0.06869123 0.09742664 0.03684956
 0.07118766 0.02986613 0.2143929 ]
[0.03264703 0.01383588 0.07207358 0.02884455 0.09730602 0.02080912
 0.14228618 0.04078151 0.04977475 0.07097411 0.11572932 0.02931811
 0.0616376  0.02629998 0.19768235]
[0.02973888 0.01320872 0.07015938 0.03061697 0.08710282 0.02394833
 0.09899526 0.03553568 0.03876651 0.0617305  0.11153641 0.02904248
 0.06868599 0.02681628 0.27411583]
[0.0416871  0.01423064 0.07359463 0.04374944 0.09965012 0.02153061
 0.10722198 0.03951659 0.03807926 0.05179605 0.14389177 0.03112483
 0.05628755 0.02269337 0.2149461 ]
[0.03324081 0.01327588 0.08254921 0.03215802 0.08786243 0.02278302
 0.11540799 0.03962595 0.05037022 0.0644104  0.12537418 0.03121838
 0.065713   0.02887542 0.207135  ]
[0.02514166 0.01478228 0.08185269 0.02952435 0.10205004 0.02181493
 0.13806066 0.04857766 0.04138019 0.0746377  0.10110342 0.03029493
 0.08986516 0.03288182 0.1680326 ]]