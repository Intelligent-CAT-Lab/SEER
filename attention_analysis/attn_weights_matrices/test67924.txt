67924
Test: public void testXmlAttributesWithNextTextValue() throws Exception { final String XML = "<data max=\"7\" offset=\"9\"/>"; FromXmlParser xp = (FromXmlParser) _xmlFactory.createParser(new StringReader(XML)); xp.close(); }
Code: public String nextTextValue(){_binaryValue = null;if (_nextToken != null) {JsonToken t = _nextToken;_currToken = t;_nextToken = null;if (t == JsonToken.VALUE_STRING) {return _currText;}_updateState(t);return null;}int token = _xmlTokens.next();while (token == XmlTokenStream.XML_START_ELEMENT) {if (false) {_nextToken = JsonToken.FIELD_NAME;_parsingContext = _parsingContext.createChildObjectContext(-1, -1);_currToken = JsonToken.START_OBJECT;return null;}if (_parsingContext.inArray()) {token = _xmlTokens.next();_mayBeLeaf = true;continue;}String name = _xmlTokens.getLocalName();_parsingContext.setCurrentName(name);if (_namesToWrap != null && _namesToWrap.contains(name)) {_xmlTokens.repeatStartElement();}_mayBeLeaf = true;_currToken = JsonToken.FIELD_NAME;return null;}switch (token) {case XmlTokenStream.XML_END_ELEMENT:if (_mayBeLeaf) {_mayBeLeaf = false;_currToken = JsonToken.VALUE_STRING;return (_currText = "");}_currToken = _parsingContext.inArray() ? JsonToken.END_ARRAY : JsonToken.END_OBJECT;_parsingContext = _parsingContext.getParent();_namesToWrap = _parsingContext.getNamesToWrap();break;case XmlTokenStream.XML_ATTRIBUTE_NAME:if (_mayBeLeaf) {_mayBeLeaf = false;_nextToken = JsonToken.FIELD_NAME;_currText = _xmlTokens.getText();;_currToken = JsonToken.START_OBJECT;} else {_parsingContext.setCurrentName(_xmlTokens.getLocalName());_currToken = JsonToken.FIELD_NAME;}break;case XmlTokenStream.XML_ATTRIBUTE_VALUE:_currText = _xmlTokens.getText();_currToken = JsonToken.VALUE_STRING;break;case XmlTokenStream.XML_TEXT:_currText = _xmlTokens.getText();if (_mayBeLeaf) {_mayBeLeaf = false;_xmlTokens.skipEndElement();;return _currText;}_parsingContext.setCurrentName(_cfgNameForTextElement);_nextToken = JsonToken.VALUE_STRING;_currToken = JsonToken.FIELD_NAME;break;case XmlTokenStream.XML_END:_currToken = null;}return null;}
tensor([[0.0070, 0.0087, 0.0072,  ..., 0.0045, 0.0058, 0.0063],
        [0.0069, 0.0077, 0.0079,  ..., 0.0046, 0.0056, 0.0066],
        [0.0048, 0.0098, 0.0057,  ..., 0.0036, 0.0044, 0.0042],
        ...,
        [0.0079, 0.0093, 0.0064,  ..., 0.0066, 0.0098, 0.0055],
        [0.0082, 0.0116, 0.0065,  ..., 0.0047, 0.0075, 0.0058],
        [0.0054, 0.0091, 0.0051,  ..., 0.0036, 0.0051, 0.0043]])