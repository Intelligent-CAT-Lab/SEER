67281
Test: public void testCustomLists() throws Exception { ObjectMapper mapper = new ObjectMapper(); SimpleModule module = new SimpleModule("test", Version.unknownVersion()); JsonSerializer<?> ser = new CollectionSerializer(null, false, null, null, null); final JsonSerializer<Object> collectionSerializer = (JsonSerializer<Object>) ser; module.addSerializer(Collection.class, new JsonSerializer<Collection>() { @Override public void serialize(Collection value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException { if (value.size() != 0) { collectionSerializer.serialize(value, jgen, provider); } else { jgen.writeNull(); } } }); mapper.registerModule(module); }
Code: public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider){String str;if (value instanceof Date) {;return;} else {str = value.toString();};}
[[0.05500685 0.04681836 0.13279302 0.05055339 0.06967683 0.03657614
 0.16250008 0.04308987 0.06148879 0.04848497 0.02703042 0.02851567
 0.04910123 0.06778213 0.05010406 0.03580275 0.03467543]
[0.04360573 0.04409251 0.12367367 0.03349066 0.05184516 0.02461243
 0.24585548 0.04029053 0.0707919  0.04317207 0.03345962 0.01984092
 0.04193668 0.06757753 0.04971504 0.04017189 0.02586824]
[0.05582145 0.04344407 0.11026284 0.05009667 0.07399581 0.03994648
 0.16168994 0.05300468 0.07071911 0.05237333 0.03324864 0.03482971
 0.04558456 0.07058513 0.04159813 0.03051228 0.0322872 ]
[0.03644637 0.03237162 0.16864933 0.03933207 0.05741275 0.02670026
 0.2288138  0.03813959 0.06504671 0.05413953 0.02390806 0.0181693
 0.03533986 0.06420853 0.04798034 0.03518718 0.0281547 ]
[0.04860996 0.04126001 0.15773779 0.03932724 0.0559094  0.03286799
 0.18918446 0.04509995 0.07344936 0.04156472 0.02870197 0.02466856
 0.04268573 0.07435128 0.04221465 0.03639515 0.02597173]
[0.04667633 0.04257082 0.14713793 0.04054425 0.05870005 0.03157985
 0.1989876  0.04387763 0.06891986 0.05378164 0.03514575 0.01820806
 0.04382417 0.05660899 0.04544701 0.04037997 0.02761014]
[0.04151444 0.03385888 0.1561924  0.04885349 0.06535788 0.02902672
 0.19750127 0.05182021 0.07869279 0.04444136 0.02823005 0.0184709
 0.0397502  0.06832755 0.03665553 0.03878297 0.0225233 ]
[0.04424743 0.04061621 0.14546672 0.03845678 0.06095283 0.02810471
 0.20416182 0.03993109 0.07834938 0.04740827 0.03453176 0.02288235
 0.04257432 0.06236383 0.04464819 0.03960935 0.025695  ]
[0.04290833 0.04848197 0.12762792 0.04895328 0.0674258  0.04373895
 0.15012737 0.05015736 0.07446419 0.04852195 0.0338396  0.02806051
 0.05643718 0.05977356 0.0498162  0.03765136 0.03201453]
[0.04614044 0.03928507 0.16387743 0.03697537 0.06107198 0.04008126
 0.1598203  0.04208444 0.06627831 0.05450552 0.03281895 0.02646359
 0.04583725 0.06811786 0.04826983 0.0376417  0.03073066]
[0.04067932 0.04055777 0.13964513 0.04726415 0.06838177 0.0372197
 0.16878247 0.03967776 0.08967011 0.05400092 0.02902914 0.02455188
 0.0321071  0.08532631 0.04577406 0.03329927 0.02403313]
[0.03974742 0.03584968 0.16209704 0.04171115 0.05646591 0.02466452
 0.21710446 0.04718153 0.06415249 0.04989009 0.02504236 0.01804702
 0.04095387 0.07002671 0.04295133 0.04130096 0.02281344]
[0.04236566 0.03567028 0.18100056 0.04401907 0.06139496 0.02829132
 0.17983422 0.0362704  0.07201672 0.04714402 0.02778185 0.02699686
 0.04337713 0.0653466  0.04176385 0.03500567 0.03172089]
[0.04492754 0.03596855 0.14806247 0.04015997 0.06576943 0.03359948
 0.19316027 0.04468993 0.07202801 0.05674026 0.02834592 0.01854626
 0.03657348 0.0736827  0.04836009 0.03244202 0.02694361]
[0.03943665 0.042588   0.14531294 0.03454321 0.05056389 0.02776205
 0.25160998 0.04027082 0.06915653 0.05084071 0.02838687 0.02289375
 0.03980838 0.05107452 0.04469091 0.03785808 0.02320274]
[0.05654757 0.04789617 0.10756964 0.05116149 0.06823964 0.04266559
 0.13201691 0.06145394 0.06386175 0.04308352 0.03425225 0.03979454
 0.04892954 0.06385617 0.05068252 0.04941509 0.03857365]
[0.04324678 0.04615963 0.1380266  0.04399613 0.06250991 0.0322015
 0.20251581 0.05051024 0.0627979  0.04780837 0.02752532 0.02299127
 0.04799926 0.05848268 0.04383748 0.0418584  0.02753264]]