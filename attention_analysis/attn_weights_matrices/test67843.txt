67843
Test: public void testEnumHandlers() throws IOException { ObjectMapper mapper = new ObjectMapper(); String json = mapper.writerFor(EnumPOJO.class) .writeValueAsString(new EnumPOJO()); EnumPOJO result = mapper.readerFor(EnumPOJO.class) .readValue(json); byte[] bytes = jdkSerialize(mapper); ObjectMapper mapper2 = jdkDeserialize(bytes); bytes = jdkSerialize(mapper.readerFor(EnumPOJO.class)); ObjectReader r = jdkDeserialize(bytes); bytes = jdkSerialize(mapper.writerFor(EnumPOJO.class)); ObjectWriter w = jdkDeserialize(bytes); String json2 = w.writeValueAsString(new EnumPOJO()); EnumPOJO result2 = r.readValue(json2); }
Code: public void serialize(Object value, JsonGenerator g, SerializerProvider provider) throws IOException { switch (_typeId) { case TYPE_DATE: ; break; case TYPE_CALENDAR: provider.defaultSerializeDateKey(((Calendar) value).getTimeInMillis(), g); break; case TYPE_CLASS: g.writeFieldName(((Class<?>)value).getName()); break; case TYPE_ENUM: { String str = false ? value.toString() : ((Enum<?>) value).name(); g.writeFieldName(str); } break; case TYPE_TO_STRING: default: ; } }
tensor([[0.0140, 0.0114, 0.0306,  ..., 0.0079, 0.0062, 0.0062],
        [0.0110, 0.0099, 0.0268,  ..., 0.0059, 0.0062, 0.0062],
        [0.0163, 0.0122, 0.0306,  ..., 0.0072, 0.0077, 0.0077],
        ...,
        [0.0091, 0.0067, 0.0357,  ..., 0.0057, 0.0033, 0.0033],
        [0.0103, 0.0094, 0.0324,  ..., 0.0078, 0.0054, 0.0054],
        [0.0103, 0.0094, 0.0324,  ..., 0.0078, 0.0054, 0.0054]])