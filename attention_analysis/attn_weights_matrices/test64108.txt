64108
Test: public void testSimple() { TextBuffer tb = new TextBuffer(new BufferRecycler()); tb.append('a'); tb.append(new char[] { 'X', 'b' }, 1, 1); tb.append("c", 0, 1); }
Code: public char[] expandCurrentSegment(){final char[] curr = _currentSegment;final int len = curr.length;int newLen = (len == MAX_SEGMENT_LEN) ? (MAX_SEGMENT_LEN+1) : Math.min(MAX_SEGMENT_LEN, len + (len >> 1));return (_currentSegment = Arrays.copyOf(curr, newLen));}
tensor([[0.0246, 0.0084, 0.0289, 0.0084, 0.0285, 0.0158, 0.0608, 0.0147, 0.0255,
         0.0158, 0.0229, 0.0422, 0.0158, 0.0479, 0.0375, 0.0558, 0.0395, 0.0465,
         0.0247, 0.0324, 0.0255, 0.0201, 0.0479, 0.0415, 0.0370, 0.0932, 0.0158,
         0.0945, 0.0278],
        [0.0174, 0.0073, 0.0171, 0.0073, 0.0233, 0.0169, 0.0487, 0.0095, 0.0192,
         0.0169, 0.0211, 0.0369, 0.0169, 0.0401, 0.0340, 0.0717, 0.0419, 0.0478,
         0.0135, 0.0397, 0.0192, 0.0157, 0.0401, 0.0351, 0.0446, 0.1522, 0.0169,
         0.1084, 0.0205],
        [0.0217, 0.0099, 0.0220, 0.0099, 0.0261, 0.0182, 0.0444, 0.0127, 0.0199,
         0.0182, 0.0225, 0.0346, 0.0182, 0.0469, 0.0323, 0.0567, 0.0424, 0.0499,
         0.0154, 0.0387, 0.0199, 0.0234, 0.0469, 0.0367, 0.0400, 0.1234, 0.0182,
         0.1088, 0.0221],
        [0.0174, 0.0073, 0.0171, 0.0073, 0.0233, 0.0169, 0.0487, 0.0095, 0.0192,
         0.0169, 0.0211, 0.0369, 0.0169, 0.0401, 0.0340, 0.0717, 0.0419, 0.0478,
         0.0135, 0.0397, 0.0192, 0.0157, 0.0401, 0.0351, 0.0446, 0.1522, 0.0169,
         0.1084, 0.0205],
        [0.0206, 0.0083, 0.0247, 0.0083, 0.0287, 0.0152, 0.0460, 0.0106, 0.0195,
         0.0152, 0.0249, 0.0356, 0.0152, 0.0529, 0.0296, 0.0577, 0.0453, 0.0540,
         0.0165, 0.0341, 0.0195, 0.0157, 0.0529, 0.0359, 0.0372, 0.1288, 0.0152,
         0.1115, 0.0202],
        [0.0294, 0.0119, 0.0281, 0.0119, 0.0308, 0.0244, 0.0477, 0.0178, 0.0241,
         0.0244, 0.0259, 0.0437, 0.0244, 0.0480, 0.0332, 0.0574, 0.0405, 0.0440,
         0.0250, 0.0348, 0.0241, 0.0260, 0.0480, 0.0330, 0.0439, 0.0596, 0.0244,
         0.0868, 0.0273],
        [0.0226, 0.0089, 0.0255, 0.0089, 0.0263, 0.0200, 0.0494, 0.0134, 0.0248,
         0.0200, 0.0299, 0.0398, 0.0200, 0.0691, 0.0289, 0.0560, 0.0439, 0.0494,
         0.0197, 0.0266, 0.0248, 0.0174, 0.0691, 0.0370, 0.0348, 0.0803, 0.0200,
         0.0937, 0.0198],
        [0.0164, 0.0085, 0.0197, 0.0085, 0.0179, 0.0138, 0.0557, 0.0113, 0.0196,
         0.0138, 0.0220, 0.0382, 0.0138, 0.0620, 0.0397, 0.0590, 0.0442, 0.0471,
         0.0189, 0.0326, 0.0196, 0.0192, 0.0620, 0.0373, 0.0365, 0.1218, 0.0138,
         0.1060, 0.0211],
        [0.0188, 0.0081, 0.0250, 0.0081, 0.0234, 0.0166, 0.0583, 0.0104, 0.0212,
         0.0166, 0.0226, 0.0329, 0.0166, 0.0497, 0.0251, 0.0506, 0.0429, 0.0475,
         0.0187, 0.0345, 0.0212, 0.0182, 0.0497, 0.0389, 0.0344, 0.1480, 0.0166,
         0.1078, 0.0181],
        [0.0294, 0.0119, 0.0281, 0.0119, 0.0308, 0.0244, 0.0477, 0.0178, 0.0241,
         0.0244, 0.0259, 0.0437, 0.0244, 0.0480, 0.0332, 0.0574, 0.0405, 0.0440,
         0.0250, 0.0348, 0.0241, 0.0260, 0.0480, 0.0330, 0.0439, 0.0596, 0.0244,
         0.0868, 0.0273],
        [0.0194, 0.0081, 0.0230, 0.0081, 0.0238, 0.0204, 0.0616, 0.0148, 0.0226,
         0.0204, 0.0246, 0.0351, 0.0204, 0.0454, 0.0353, 0.0582, 0.0410, 0.0515,
         0.0192, 0.0367, 0.0226, 0.0223, 0.0454, 0.0357, 0.0410, 0.1074, 0.0204,
         0.0918, 0.0239],
        [0.0221, 0.0080, 0.0263, 0.0080, 0.0236, 0.0148, 0.0507, 0.0105, 0.0263,
         0.0148, 0.0258, 0.0368, 0.0148, 0.0518, 0.0327, 0.0520, 0.0455, 0.0509,
         0.0183, 0.0360, 0.0263, 0.0195, 0.0518, 0.0343, 0.0392, 0.1100, 0.0148,
         0.1123, 0.0222],
        [0.0294, 0.0119, 0.0281, 0.0119, 0.0308, 0.0244, 0.0477, 0.0178, 0.0241,
         0.0244, 0.0259, 0.0437, 0.0244, 0.0480, 0.0332, 0.0574, 0.0405, 0.0440,
         0.0250, 0.0348, 0.0241, 0.0260, 0.0480, 0.0330, 0.0439, 0.0596, 0.0244,
         0.0868, 0.0273],
        [0.0226, 0.0067, 0.0218, 0.0067, 0.0249, 0.0165, 0.0459, 0.0108, 0.0184,
         0.0165, 0.0249, 0.0398, 0.0165, 0.0508, 0.0243, 0.0486, 0.0580, 0.0444,
         0.0196, 0.0307, 0.0184, 0.0211, 0.0508, 0.0392, 0.0360, 0.1216, 0.0165,
         0.1272, 0.0209],
        [0.0134, 0.0059, 0.0156, 0.0059, 0.0189, 0.0143, 0.0518, 0.0078, 0.0209,
         0.0143, 0.0214, 0.0312, 0.0143, 0.0520, 0.0324, 0.0577, 0.0360, 0.0372,
         0.0196, 0.0322, 0.0209, 0.0186, 0.0520, 0.0396, 0.0360, 0.1538, 0.0143,
         0.1452, 0.0170],
        [0.0219, 0.0078, 0.0253, 0.0078, 0.0231, 0.0159, 0.0580, 0.0126, 0.0205,
         0.0159, 0.0222, 0.0344, 0.0159, 0.0491, 0.0311, 0.0478, 0.0393, 0.0481,
         0.0223, 0.0262, 0.0205, 0.0212, 0.0491, 0.0374, 0.0350, 0.1430, 0.0159,
         0.1126, 0.0203],
        [0.0193, 0.0059, 0.0213, 0.0059, 0.0214, 0.0131, 0.0532, 0.0081, 0.0185,
         0.0131, 0.0175, 0.0306, 0.0131, 0.0543, 0.0232, 0.0497, 0.0369, 0.0414,
         0.0233, 0.0286, 0.0185, 0.0177, 0.0543, 0.0374, 0.0323, 0.1531, 0.0131,
         0.1559, 0.0193],
        [0.0209, 0.0102, 0.0176, 0.0102, 0.0249, 0.0134, 0.0410, 0.0107, 0.0257,
         0.0134, 0.0211, 0.0393, 0.0134, 0.0518, 0.0303, 0.0507, 0.0464, 0.0489,
         0.0179, 0.0386, 0.0257, 0.0200, 0.0518, 0.0392, 0.0340, 0.1193, 0.0134,
         0.1299, 0.0205],
        [0.0250, 0.0099, 0.0231, 0.0099, 0.0349, 0.0196, 0.0472, 0.0152, 0.0208,
         0.0196, 0.0228, 0.0397, 0.0196, 0.0404, 0.0299, 0.0656, 0.0523, 0.0502,
         0.0178, 0.0359, 0.0208, 0.0220, 0.0404, 0.0432, 0.0421, 0.0879, 0.0196,
         0.0946, 0.0300],
        [0.0212, 0.0090, 0.0227, 0.0090, 0.0283, 0.0160, 0.0535, 0.0120, 0.0281,
         0.0160, 0.0245, 0.0472, 0.0160, 0.0408, 0.0380, 0.0553, 0.0406, 0.0504,
         0.0200, 0.0301, 0.0281, 0.0244, 0.0408, 0.0471, 0.0485, 0.1015, 0.0160,
         0.0943, 0.0206],
        [0.0188, 0.0081, 0.0250, 0.0081, 0.0234, 0.0166, 0.0583, 0.0104, 0.0212,
         0.0166, 0.0226, 0.0329, 0.0166, 0.0497, 0.0251, 0.0506, 0.0429, 0.0475,
         0.0187, 0.0345, 0.0212, 0.0182, 0.0497, 0.0389, 0.0344, 0.1480, 0.0166,
         0.1078, 0.0181],
        [0.0232, 0.0085, 0.0212, 0.0085, 0.0261, 0.0169, 0.0528, 0.0123, 0.0237,
         0.0169, 0.0190, 0.0375, 0.0169, 0.0547, 0.0296, 0.0537, 0.0506, 0.0413,
         0.0173, 0.0390, 0.0237, 0.0200, 0.0547, 0.0359, 0.0389, 0.1048, 0.0169,
         0.1163, 0.0192],
        [0.0226, 0.0067, 0.0218, 0.0067, 0.0249, 0.0165, 0.0459, 0.0108, 0.0184,
         0.0165, 0.0249, 0.0398, 0.0165, 0.0508, 0.0243, 0.0486, 0.0580, 0.0444,
         0.0196, 0.0307, 0.0184, 0.0211, 0.0508, 0.0392, 0.0360, 0.1216, 0.0165,
         0.1272, 0.0209],
        [0.0255, 0.0124, 0.0266, 0.0124, 0.0251, 0.0154, 0.0508, 0.0117, 0.0210,
         0.0154, 0.0244, 0.0347, 0.0154, 0.0523, 0.0329, 0.0553, 0.0468, 0.0443,
         0.0204, 0.0348, 0.0210, 0.0223, 0.0523, 0.0316, 0.0338, 0.1260, 0.0154,
         0.0980, 0.0222],
        [0.0196, 0.0076, 0.0222, 0.0076, 0.0229, 0.0141, 0.0615, 0.0118, 0.0197,
         0.0141, 0.0244, 0.0331, 0.0141, 0.0453, 0.0351, 0.0635, 0.0376, 0.0463,
         0.0182, 0.0381, 0.0197, 0.0174, 0.0453, 0.0359, 0.0334, 0.1342, 0.0141,
         0.1236, 0.0195],
        [0.0246, 0.0089, 0.0233, 0.0089, 0.0247, 0.0184, 0.0485, 0.0134, 0.0222,
         0.0184, 0.0282, 0.0347, 0.0184, 0.0455, 0.0315, 0.0594, 0.0432, 0.0454,
         0.0205, 0.0401, 0.0222, 0.0213, 0.0455, 0.0483, 0.0378, 0.1074, 0.0184,
         0.0954, 0.0254],
        [0.0294, 0.0119, 0.0281, 0.0119, 0.0308, 0.0244, 0.0477, 0.0178, 0.0241,
         0.0244, 0.0259, 0.0437, 0.0244, 0.0480, 0.0332, 0.0574, 0.0405, 0.0440,
         0.0250, 0.0348, 0.0241, 0.0260, 0.0480, 0.0330, 0.0439, 0.0596, 0.0244,
         0.0868, 0.0273],
        [0.0253, 0.0062, 0.0207, 0.0062, 0.0220, 0.0154, 0.0526, 0.0103, 0.0190,
         0.0154, 0.0223, 0.0382, 0.0154, 0.0460, 0.0379, 0.0557, 0.0370, 0.0595,
         0.0149, 0.0293, 0.0190, 0.0179, 0.0460, 0.0419, 0.0388, 0.1389, 0.0154,
         0.1083, 0.0248],
        [0.0202, 0.0073, 0.0188, 0.0073, 0.0247, 0.0151, 0.0569, 0.0133, 0.0212,
         0.0151, 0.0225, 0.0335, 0.0151, 0.0502, 0.0387, 0.0573, 0.0418, 0.0513,
         0.0211, 0.0352, 0.0212, 0.0191, 0.0502, 0.0434, 0.0379, 0.1091, 0.0151,
         0.1115, 0.0262]])