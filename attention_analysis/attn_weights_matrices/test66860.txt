66860
Test: public void testByteArrayFrom() throws Exception { byte[] data = _convert("c3VyZS4=", byte[].class); byte[] exp = "sure.".getBytes("Ascii"); verifyIntegralArrays(exp, data, exp.length); }
Code: protected Object _convert(Object fromValue, JavaType toValueType) throws IllegalArgumentException { Class<?> targetType = toValueType.getRawClass(); if (targetType != Object.class && !toValueType.hasGenericTypes() && targetType.isAssignableFrom(fromValue.getClass())) { return fromValue; } TokenBuffer buf = new TokenBuffer(this, false); if (isEnabled(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS)) { buf = buf.forceUseOfBigDecimal(true); } try { SerializationConfig config = getSerializationConfig().without(SerializationFeature.WRAP_ROOT_VALUE); _serializerProvider(config).serializeValue(buf, fromValue); final JsonParser jp = buf.asParser(); Object result; final DeserializationConfig deserConfig = getDeserializationConfig(); JsonToken t = _initForReading(jp); if (t == JsonToken.VALUE_NULL) { DeserializationContext ctxt = createDeserializationContext(jp, deserConfig); result = _findRootDeserializer(ctxt, toValueType).getNullValue(ctxt); } else if (t == JsonToken.END_ARRAY || t == JsonToken.END_OBJECT) { result = null; } else { DeserializationContext ctxt = createDeserializationContext(jp, deserConfig); JsonDeserializer<Object> deser = _findRootDeserializer(ctxt, toValueType); result = deser.deserialize(jp, ctxt); } jp.close(); return result; } catch (IOException e) { throw new IllegalArgumentException(e.getMessage(), e); } }
tensor([[0.0104, 0.0036, 0.0034,  ..., 0.0143, 0.0019, 0.0019],
        [0.0111, 0.0038, 0.0032,  ..., 0.0130, 0.0021, 0.0021],
        [0.0120, 0.0042, 0.0042,  ..., 0.0112, 0.0023, 0.0023],
        ...,
        [0.0106, 0.0029, 0.0029,  ..., 0.0142, 0.0016, 0.0016],
        [0.0100, 0.0043, 0.0043,  ..., 0.0117, 0.0022, 0.0022],
        [0.0100, 0.0043, 0.0043,  ..., 0.0117, 0.0022, 0.0022]])