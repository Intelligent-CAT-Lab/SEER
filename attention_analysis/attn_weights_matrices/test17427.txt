17427
Test: public void testNoSymbolMapStripsCallAndDoesntIssueWarnings() { String input = "[goog.getCssName('test'), goog.getCssName(base, 'active')]"; Compiler compiler = new Compiler(); ErrorManager errorMan = new BasicErrorManager() { @Override protected void printSummary() {} @Override public void println(CheckLevel level, JSError error) {} }; compiler.setErrorManager(errorMan); Node root = compiler.parseTestCode(input); useReplacementMap = false; ReplaceCssNames replacer = new ReplaceCssNames(compiler, null); replacer.process(null, root); }
Code: private String toSource(Node n, SourceMap sourceMap) { CodePrinter.Builder builder = new CodePrinter.Builder(n); builder.setPrettyPrint(options.prettyPrint); builder.setLineBreak(options.lineBreak); builder.setSourceMap(sourceMap); builder.setSourceMapDetailLevel(options.sourceMapDetailLevel); Charset charset = options.outputCharset; builder.setOutputCharset(charset); return builder.build(); }
[[0.04270723 0.02994091 0.02148109 0.05259341 0.0505818  0.03153597
 0.05391707 0.02366208 0.0318713  0.01641075 0.01442879 0.03452832
 0.01643844 0.14296782 0.12104142 0.03789173 0.03962322 0.04207035
 0.01641075 0.06370182 0.06140523 0.02779547 0.01317651 0.01381853]
[0.03537688 0.0306544  0.02880084 0.05765389 0.04788542 0.02715048
 0.0495799  0.0234758  0.03273943 0.01850465 0.0119122  0.03621957
 0.02316606 0.11748042 0.11940014 0.04218218 0.04002298 0.04124725
 0.01850465 0.07535173 0.06491466 0.02909716 0.0166386  0.01204068]
[0.03678411 0.03487198 0.02609442 0.04204556 0.046004   0.02849631
 0.05036712 0.02613148 0.03637535 0.0187949  0.01347495 0.03103631
 0.01572021 0.14044066 0.13022366 0.05061801 0.03377496 0.03292883
 0.0187949  0.07059193 0.0549299  0.0309696  0.01575345 0.01477739]
[0.03900342 0.03158922 0.02240055 0.0609457  0.04671337 0.02888068
 0.05975725 0.0222368  0.03063617 0.01553202 0.01183762 0.02918018
 0.01504853 0.13696215 0.13819768 0.03424544 0.03234094 0.04069371
 0.01553202 0.07398841 0.05795422 0.03098223 0.01324786 0.01209379]
[0.03112607 0.04201061 0.03231512 0.04467856 0.03963029 0.03608051
 0.04663631 0.02485259 0.03155738 0.01539329 0.01159956 0.03600589
 0.01629497 0.12913626 0.11461696 0.0452681  0.02630821 0.04350983
 0.01539329 0.11377101 0.04691221 0.02918566 0.01619583 0.01152152]
[0.03475279 0.03735423 0.02467472 0.05537393 0.04585814 0.03221359
 0.05261787 0.02335962 0.03467658 0.01712397 0.01484417 0.03139739
 0.01677086 0.14201434 0.12496027 0.03580607 0.04863241 0.03396117
 0.01712397 0.06176926 0.0534774  0.03342738 0.01461986 0.01319006]
[0.03778647 0.04088229 0.02666298 0.05953982 0.05533235 0.03281249
 0.05444387 0.02808158 0.03955447 0.02561079 0.01620763 0.03258367
 0.02235709 0.10801899 0.0936617  0.03957982 0.03714369 0.03739164
 0.02561079 0.06411133 0.05249675 0.03434944 0.01745478 0.0183256 ]
[0.02843046 0.03095681 0.02010693 0.04734969 0.04175951 0.02913837
 0.0453258  0.02337249 0.03575363 0.01961453 0.01081733 0.02975307
 0.01951065 0.15252675 0.14624214 0.04020885 0.04524724 0.03340682
 0.01961453 0.07777869 0.0476011  0.03097238 0.01265869 0.01185354]
[0.03943767 0.04178318 0.02433708 0.04729151 0.04530992 0.02840125
 0.03934849 0.01877127 0.02302551 0.01739073 0.01410301 0.02512119
 0.01791987 0.15758678 0.15137023 0.0390049  0.03745883 0.03362649
 0.01739073 0.07890379 0.04886803 0.02834162 0.01182656 0.01338134]
[0.04136387 0.03892775 0.02739699 0.06259131 0.05878391 0.03863189
 0.03862569 0.03206738 0.03783781 0.02775259 0.01560628 0.04332833
 0.02243306 0.09811792 0.0698529  0.0379491  0.03732076 0.04739035
 0.02775259 0.06642409 0.05512416 0.03648192 0.02173836 0.01650098]
[0.03921762 0.03565407 0.02149545 0.04399782 0.04728322 0.02769152
 0.05436313 0.02450005 0.03248569 0.01874113 0.01476261 0.029501
 0.02170427 0.1279653  0.14141217 0.06327216 0.03628971 0.03410233
 0.01874113 0.06165671 0.04378461 0.03472378 0.0115809  0.01507357]
[0.04397852 0.03628046 0.02543148 0.05272541 0.05667549 0.03072473
 0.04508464 0.02949409 0.03364706 0.0213169  0.01492604 0.04112888
 0.01934968 0.11956006 0.09646303 0.05610397 0.04087263 0.03619881
 0.0213169  0.05310925 0.06583548 0.02768266 0.01829775 0.01379608]
[0.0365817  0.02743522 0.02133534 0.04258748 0.04754863 0.03166744
 0.04985836 0.02043881 0.02486007 0.01529919 0.01194035 0.02746742
 0.01896862 0.14160104 0.15383402 0.05581635 0.0346905  0.03817109
 0.01529919 0.07699832 0.05802963 0.02926627 0.00883078 0.01147417]
[0.02820428 0.03381519 0.02822163 0.05087854 0.04691577 0.03195204
 0.05980128 0.02258771 0.03314114 0.01550566 0.00997269 0.02895682
 0.01654564 0.14468536 0.1343686  0.03946527 0.04138557 0.04625296
 0.01550566 0.0693432  0.04746009 0.02874805 0.01361685 0.01266995]
[0.03567902 0.02778949 0.02182066 0.05629514 0.04964001 0.03443619
 0.04051538 0.01540837 0.03280307 0.01441099 0.00958313 0.03466519
 0.01815047 0.1464138  0.14373416 0.04111609 0.03185637 0.03955072
 0.01441099 0.08471557 0.05267806 0.03289557 0.01258424 0.00884727]
[0.0318416  0.03990012 0.02164283 0.05470158 0.04330267 0.02933615
 0.05911118 0.02213393 0.03367197 0.01782834 0.0116899  0.02649217
 0.01515638 0.13068609 0.14603582 0.03723879 0.03566051 0.04212754
 0.01782834 0.07934128 0.05347556 0.02767945 0.01212348 0.01099433]
[0.03731176 0.02971083 0.02246956 0.05577552 0.04882511 0.02894807
 0.0504567  0.01941684 0.0258614  0.01780533 0.00969146 0.0238873
 0.01511689 0.16101271 0.14722814 0.04166074 0.03182385 0.03002641
 0.01780533 0.07075199 0.06325051 0.02862294 0.0107471  0.01179346]
[0.03276457 0.02939083 0.02104603 0.03486732 0.04200994 0.03131462
 0.0530627  0.01905835 0.03490296 0.01729439 0.01063154 0.03532499
 0.01211453 0.17140457 0.14572217 0.03933736 0.03247081 0.03756218
 0.01729439 0.08065704 0.04916556 0.03241932 0.01150043 0.00868339]
[0.04136387 0.03892775 0.02739699 0.06259131 0.05878391 0.03863189
 0.03862569 0.03206738 0.03783781 0.02775259 0.01560628 0.04332833
 0.02243306 0.09811792 0.0698529  0.0379491  0.03732076 0.04739035
 0.02775259 0.06642409 0.05512416 0.03648192 0.02173836 0.01650098]
[0.04027687 0.02711564 0.02568603 0.0526842  0.04723793 0.02936969
 0.05015832 0.02628631 0.02677121 0.02041217 0.01456646 0.02891726
 0.02070987 0.16167454 0.13201536 0.04043533 0.03307037 0.0350813
 0.02041217 0.06222305 0.04894407 0.03393999 0.0108947  0.01111715]
[0.03537672 0.04050437 0.02385801 0.04671592 0.04496513 0.03101785
 0.0526995  0.02917174 0.03921288 0.01990595 0.0136317  0.03647967
 0.01786087 0.13203394 0.11066049 0.04069237 0.03988926 0.0354569
 0.01990595 0.07059114 0.05420732 0.03485241 0.01602807 0.01428187]
[0.03871416 0.03050686 0.01895028 0.05204038 0.04156615 0.02566263
 0.04219122 0.01809758 0.02694544 0.01772596 0.01011723 0.02824317
 0.01668826 0.17173007 0.15509544 0.04538124 0.03925643 0.03607428
 0.01772596 0.06937633 0.05068234 0.02430978 0.01174614 0.01117268]
[0.03556224 0.03263635 0.02516815 0.05352177 0.05123483 0.02608223
 0.05038    0.01918652 0.03466493 0.01509357 0.01078207 0.03212234
 0.01656902 0.12776    0.11152704 0.04484618 0.03412154 0.04239252
 0.01509357 0.11014427 0.05697934 0.02921045 0.01453881 0.01038235]
[0.03179219 0.03536884 0.02607152 0.05059088 0.04709972 0.02902338
 0.05661995 0.02138785 0.03463348 0.01823819 0.01087516 0.03053506
 0.0200364  0.1464192  0.0984392  0.03424811 0.03461404 0.04210532
 0.01823819 0.08862161 0.05545179 0.04423542 0.01350379 0.01185063]]