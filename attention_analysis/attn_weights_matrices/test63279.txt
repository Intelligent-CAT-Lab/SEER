63279
Test: public void testNullSafe() { TypeAdapter<Person> typeAdapter = new TypeAdapter<Person>() { @Override public Person read(JsonReader in) throws IOException { String[] values = in.nextString().split(","); return new Person(values[0], Integer.parseInt(values[1])); } public void write(JsonWriter out, Person person) throws IOException { out.value(person.name + "," + person.age); } }; Gson gson = new GsonBuilder().registerTypeAdapter( Person.class, typeAdapter).create(); Truck truck = new Truck(); truck.horsePower = 1.0D; truck.passengers = new ArrayList<Person>(); truck.passengers.add(null); truck.passengers.add(new Person("jesse", 30)); try { gson.toJson(truck, Truck.class); fail(); } catch (NullPointerException expected) {} String json = "{horsePower:1.0,passengers:[null,'jesse,30']}"; try { gson.fromJson(json, Truck.class); fail(); } catch (JsonSyntaxException expected) {} gson = new GsonBuilder().registerTypeAdapter(Person.class, typeAdapter.nullSafe()).create(); truck = gson.fromJson(json, Truck.class); }
Code: public void write(JsonWriter out, Boolean value){if (value == null) {;return;};}
tensor([[0.0870, 0.0741, 0.0841, 0.0899, 0.2776, 0.0713, 0.0763, 0.1285, 0.0426,
         0.0687],
        [0.0786, 0.0724, 0.0891, 0.1330, 0.2702, 0.0684, 0.0875, 0.1112, 0.0395,
         0.0499],
        [0.0935, 0.0626, 0.1082, 0.0960, 0.2820, 0.0688, 0.0870, 0.1033, 0.0336,
         0.0651],
        [0.0782, 0.0739, 0.0992, 0.0888, 0.2466, 0.0737, 0.0953, 0.1225, 0.0519,
         0.0700],
        [0.0910, 0.0677, 0.0872, 0.1070, 0.2513, 0.0660, 0.0862, 0.1226, 0.0448,
         0.0762],
        [0.0830, 0.0618, 0.0878, 0.1144, 0.2994, 0.0677, 0.0836, 0.1095, 0.0432,
         0.0496],
        [0.0822, 0.0692, 0.0955, 0.1058, 0.2501, 0.0630, 0.1012, 0.1333, 0.0422,
         0.0575],
        [0.0576, 0.0669, 0.0783, 0.0810, 0.3292, 0.0539, 0.1059, 0.1385, 0.0371,
         0.0515],
        [0.0722, 0.0546, 0.0812, 0.0938, 0.2993, 0.0610, 0.0940, 0.1310, 0.0428,
         0.0701],
        [0.0796, 0.0788, 0.0909, 0.0996, 0.2442, 0.0769, 0.1081, 0.1173, 0.0478,
         0.0567]])