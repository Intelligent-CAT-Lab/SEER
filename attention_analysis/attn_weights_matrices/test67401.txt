67401
Test: public void testEnumHandlers() throws IOException { ObjectMapper mapper = new ObjectMapper(); String json = mapper.writerFor(EnumPOJO.class) .writeValueAsString(new EnumPOJO()); EnumPOJO result = mapper.readerFor(EnumPOJO.class) .readValue(json); byte[] bytes = jdkSerialize(mapper); ObjectMapper mapper2 = jdkDeserialize(bytes); bytes = jdkSerialize(mapper.readerFor(EnumPOJO.class)); ObjectReader r = jdkDeserialize(bytes); bytes = jdkSerialize(mapper.writerFor(EnumPOJO.class)); ObjectWriter w = jdkDeserialize(bytes); String json2 = w.writeValueAsString(new EnumPOJO()); EnumPOJO result2 = r.readValue(json2); }
Code: public void serialize(Object value, JsonGenerator g, SerializerProvider provider){switch (_typeId) {case TYPE_DATE:provider.defaultSerializeDateKey((Date)value, g);break;case TYPE_CALENDAR:provider.defaultSerializeDateKey(((Calendar) value).getTimeInMillis(), g);break;case TYPE_CLASS:g.writeFieldName(((Class<?>)value).getName());break;case TYPE_ENUM:{String str = provider.isEnabled(SerializationFeature.WRITE_ENUMS_USING_TO_STRING)? value.toString() : ((Enum<?>) value).name();;}break;case TYPE_TO_STRING:default:g.writeFieldName(value.toString());}}
tensor([[0.0281, 0.0239, 0.0674, 0.0260, 0.0358, 0.0296, 0.0842, 0.0258, 0.0464,
         0.0759, 0.0273, 0.0121, 0.0443, 0.0530, 0.0121, 0.0092, 0.0230, 0.0201,
         0.0183, 0.1393, 0.0929, 0.0297, 0.0337, 0.0171, 0.0248],
        [0.0216, 0.0223, 0.0627, 0.0166, 0.0255, 0.0259, 0.1167, 0.0165, 0.0376,
         0.0654, 0.0173, 0.0086, 0.0405, 0.0596, 0.0086, 0.0115, 0.0212, 0.0127,
         0.0202, 0.2236, 0.0760, 0.0236, 0.0283, 0.0154, 0.0222],
        [0.0313, 0.0245, 0.0625, 0.0276, 0.0412, 0.0330, 0.0878, 0.0182, 0.0376,
         0.0763, 0.0305, 0.0141, 0.0359, 0.0499, 0.0141, 0.0137, 0.0285, 0.0187,
         0.0172, 0.1564, 0.0799, 0.0234, 0.0313, 0.0210, 0.0254],
        [0.0178, 0.0155, 0.0797, 0.0191, 0.0279, 0.0306, 0.1182, 0.0167, 0.0365,
         0.0676, 0.0223, 0.0103, 0.0424, 0.0471, 0.0103, 0.0097, 0.0185, 0.0150,
         0.0169, 0.1766, 0.1094, 0.0198, 0.0316, 0.0156, 0.0250],
        [0.0251, 0.0213, 0.0815, 0.0203, 0.0289, 0.0227, 0.0980, 0.0222, 0.0405,
         0.0727, 0.0255, 0.0103, 0.0392, 0.0502, 0.0103, 0.0103, 0.0203, 0.0141,
         0.0188, 0.1891, 0.0831, 0.0219, 0.0329, 0.0158, 0.0250],
        [0.0169, 0.0205, 0.0631, 0.0234, 0.0267, 0.0239, 0.1018, 0.0211, 0.0373,
         0.0889, 0.0288, 0.0102, 0.0542, 0.0550, 0.0102, 0.0110, 0.0256, 0.0153,
         0.0167, 0.1705, 0.0869, 0.0294, 0.0254, 0.0154, 0.0218],
        [0.0210, 0.0173, 0.0800, 0.0242, 0.0326, 0.0310, 0.0954, 0.0159, 0.0347,
         0.0983, 0.0173, 0.0089, 0.0412, 0.0477, 0.0089, 0.0084, 0.0180, 0.0129,
         0.0197, 0.1972, 0.0818, 0.0188, 0.0270, 0.0159, 0.0261],
        [0.0241, 0.0228, 0.0851, 0.0227, 0.0337, 0.0291, 0.0869, 0.0201, 0.0388,
         0.0790, 0.0244, 0.0112, 0.0383, 0.0607, 0.0112, 0.0126, 0.0224, 0.0149,
         0.0179, 0.1780, 0.0695, 0.0223, 0.0297, 0.0155, 0.0292],
        [0.0178, 0.0156, 0.0959, 0.0193, 0.0268, 0.0197, 0.1209, 0.0144, 0.0377,
         0.0838, 0.0199, 0.0070, 0.0426, 0.0536, 0.0070, 0.0076, 0.0179, 0.0144,
         0.0142, 0.1905, 0.0894, 0.0213, 0.0274, 0.0115, 0.0238],
        [0.0214, 0.0182, 0.0995, 0.0264, 0.0304, 0.0213, 0.0983, 0.0204, 0.0437,
         0.0861, 0.0225, 0.0098, 0.0477, 0.0514, 0.0098, 0.0091, 0.0186, 0.0173,
         0.0180, 0.1721, 0.0718, 0.0188, 0.0247, 0.0150, 0.0277],
        [0.0257, 0.0244, 0.0614, 0.0254, 0.0334, 0.0304, 0.1045, 0.0184, 0.0419,
         0.0605, 0.0246, 0.0142, 0.0361, 0.0505, 0.0142, 0.0121, 0.0212, 0.0196,
         0.0232, 0.1825, 0.0807, 0.0204, 0.0333, 0.0153, 0.0261],
        [0.0325, 0.0223, 0.0682, 0.0261, 0.0366, 0.0268, 0.0849, 0.0214, 0.0476,
         0.0658, 0.0279, 0.0146, 0.0553, 0.0518, 0.0146, 0.0142, 0.0181, 0.0207,
         0.0196, 0.1552, 0.0741, 0.0227, 0.0328, 0.0203, 0.0261],
        [0.0249, 0.0219, 0.0739, 0.0240, 0.0364, 0.0387, 0.0994, 0.0201, 0.0361,
         0.0714, 0.0263, 0.0121, 0.0473, 0.0488, 0.0121, 0.0131, 0.0227, 0.0190,
         0.0217, 0.1499, 0.0845, 0.0202, 0.0286, 0.0190, 0.0278],
        [0.0230, 0.0244, 0.0637, 0.0235, 0.0365, 0.0305, 0.0815, 0.0185, 0.0426,
         0.0847, 0.0283, 0.0133, 0.0453, 0.0578, 0.0133, 0.0134, 0.0200, 0.0149,
         0.0206, 0.1649, 0.0885, 0.0180, 0.0291, 0.0206, 0.0232],
        [0.0325, 0.0223, 0.0682, 0.0261, 0.0366, 0.0268, 0.0849, 0.0214, 0.0476,
         0.0658, 0.0279, 0.0146, 0.0553, 0.0518, 0.0146, 0.0142, 0.0181, 0.0207,
         0.0196, 0.1552, 0.0741, 0.0227, 0.0328, 0.0203, 0.0261],
        [0.0227, 0.0158, 0.0895, 0.0210, 0.0267, 0.0239, 0.1069, 0.0150, 0.0383,
         0.0749, 0.0218, 0.0095, 0.0408, 0.0529, 0.0095, 0.0095, 0.0201, 0.0106,
         0.0156, 0.2106, 0.0895, 0.0161, 0.0215, 0.0147, 0.0226],
        [0.0225, 0.0234, 0.0595, 0.0236, 0.0311, 0.0301, 0.0939, 0.0184, 0.0397,
         0.0811, 0.0226, 0.0139, 0.0437, 0.0549, 0.0139, 0.0139, 0.0232, 0.0209,
         0.0202, 0.1654, 0.0801, 0.0271, 0.0295, 0.0207, 0.0265],
        [0.0191, 0.0200, 0.1019, 0.0218, 0.0281, 0.0299, 0.0933, 0.0159, 0.0340,
         0.0900, 0.0190, 0.0097, 0.0414, 0.0465, 0.0097, 0.0072, 0.0168, 0.0143,
         0.0151, 0.1785, 0.0974, 0.0228, 0.0262, 0.0162, 0.0250],
        [0.0334, 0.0281, 0.0627, 0.0304, 0.0402, 0.0367, 0.0790, 0.0252, 0.0504,
         0.0493, 0.0297, 0.0211, 0.0441, 0.0487, 0.0211, 0.0214, 0.0262, 0.0184,
         0.0289, 0.1131, 0.0644, 0.0300, 0.0374, 0.0278, 0.0324],
        [0.0254, 0.0181, 0.0708, 0.0201, 0.0265, 0.0352, 0.0949, 0.0175, 0.0329,
         0.0881, 0.0216, 0.0100, 0.0425, 0.0597, 0.0100, 0.0105, 0.0185, 0.0136,
         0.0135, 0.1906, 0.0829, 0.0257, 0.0306, 0.0160, 0.0251],
        [0.0203, 0.0168, 0.0768, 0.0240, 0.0343, 0.0205, 0.1220, 0.0177, 0.0405,
         0.0622, 0.0262, 0.0114, 0.0430, 0.0400, 0.0114, 0.0101, 0.0182, 0.0164,
         0.0195, 0.1568, 0.1196, 0.0235, 0.0317, 0.0147, 0.0227],
        [0.0291, 0.0236, 0.0815, 0.0206, 0.0304, 0.0358, 0.0883, 0.0229, 0.0502,
         0.0598, 0.0247, 0.0127, 0.0385, 0.0507, 0.0127, 0.0126, 0.0214, 0.0238,
         0.0234, 0.1492, 0.0804, 0.0217, 0.0349, 0.0197, 0.0315],
        [0.0218, 0.0184, 0.0757, 0.0240, 0.0285, 0.0291, 0.1023, 0.0183, 0.0414,
         0.0677, 0.0252, 0.0107, 0.0438, 0.0536, 0.0107, 0.0096, 0.0202, 0.0149,
         0.0162, 0.1747, 0.0953, 0.0281, 0.0317, 0.0144, 0.0235],
        [0.0213, 0.0142, 0.0876, 0.0168, 0.0273, 0.0242, 0.1094, 0.0140, 0.0307,
         0.0725, 0.0224, 0.0095, 0.0465, 0.0530, 0.0095, 0.0073, 0.0194, 0.0136,
         0.0129, 0.2077, 0.1044, 0.0183, 0.0248, 0.0126, 0.0202],
        [0.0218, 0.0173, 0.0854, 0.0227, 0.0319, 0.0191, 0.1110, 0.0168, 0.0338,
         0.0751, 0.0240, 0.0090, 0.0453, 0.0484, 0.0090, 0.0092, 0.0172, 0.0125,
         0.0181, 0.1987, 0.0856, 0.0213, 0.0281, 0.0164, 0.0224]])