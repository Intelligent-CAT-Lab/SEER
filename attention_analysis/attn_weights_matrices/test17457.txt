17457
Test: public void testIssue724() { CompilerOptions options = createCompilerOptions(); CompilationLevel.ADVANCED_OPTIMIZATIONS .setOptionsForCompilationLevel(options); String code = "isFunction = function(functionToCheck) {" + " var getType = {};" + " return functionToCheck && " + " getType.toString.apply(functionToCheck) === " + " '[object Function]';" + "};"; String result = "isFunction=function(a){var b={};" + "return a&&\"[object Function]\"===b.b.a(a)}"; test(options, code, result); }
Code: public boolean apply(Node n) { if (n == null) { return false; } if (n.isCall() && NodeUtil.functionCallHasSideEffects(n)) { return true; } if (n.isNew() && NodeUtil.constructorCallHasSideEffects(n)) { return true; } for (Node c = n.getFirstChild(); c != null; c = c.getNext()) { if (!ControlFlowGraph.isEnteringNewCfgNode(c) && apply(c)) { return true; } } return false; }
tensor([[0.0141, 0.0340, 0.0733,  ..., 0.0156, 0.0198, 0.0062],
        [0.0106, 0.0603, 0.0889,  ..., 0.0165, 0.0201, 0.0045],
        [0.0119, 0.0483, 0.0737,  ..., 0.0176, 0.0177, 0.0050],
        ...,
        [0.0096, 0.0484, 0.1151,  ..., 0.0138, 0.0213, 0.0053],
        [0.0149, 0.0394, 0.0559,  ..., 0.0170, 0.0263, 0.0080],
        [0.0101, 0.0363, 0.0575,  ..., 0.0213, 0.0215, 0.0052]])