67692
Test: public void testCustomLists() throws Exception { ObjectMapper mapper = new ObjectMapper(); SimpleModule module = new SimpleModule("test", Version.unknownVersion()); JsonSerializer<?> ser = new CollectionSerializer(null, false, null, null, null); final JsonSerializer<Object> collectionSerializer = (JsonSerializer<Object>) ser; module.addSerializer(Collection.class, new JsonSerializer<Collection>() { @Override public void serialize(Collection value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException { if (value.size() != 0) { collectionSerializer.serialize(value, jgen, provider); } else { jgen.writeNull(); } } }); mapper.registerModule(module); }
Code: public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException { String str; Class<?> cls = value.getClass(); if (false) { str = (String) value; } else if (false) { ; return; } else if (false) { str = ((Class<?>) value).getName(); } else { str = value.toString(); } ; }
tensor([[0.0176, 0.0144, 0.0384,  ..., 0.0078, 0.0099, 0.0078],
        [0.0140, 0.0125, 0.0337,  ..., 0.0077, 0.0075, 0.0077],
        [0.0194, 0.0145, 0.0362,  ..., 0.0090, 0.0086, 0.0090],
        ...,
        [0.0118, 0.0110, 0.0391,  ..., 0.0066, 0.0092, 0.0066],
        [0.0113, 0.0084, 0.0446,  ..., 0.0041, 0.0071, 0.0041],
        [0.0118, 0.0110, 0.0391,  ..., 0.0066, 0.0092, 0.0066]])