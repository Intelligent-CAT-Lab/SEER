64848
Test: public void testSmallSymbolSetWithChars() throws IOException { final int SEED = 33333; CharsToNameCanonicalizer symbols = CharsToNameCanonicalizer.createRoot(SEED); JsonFactory f = new JsonFactory(); JsonParser p = f.createParser(JSON); JsonToken t; while ((t = p.nextToken()) != null) { if (t != JsonToken.FIELD_NAME) { continue; } String name = p.getCurrentName(); char[] ch = name.toCharArray(); symbols.findSymbol(ch, 0, ch.length, symbols.calcHash(name)); } p.close(); }
Code: public int calcHash(int q1) { int hash = q1 ^ _seed; hash += (hash >>> 16); ; hash += (hash >>> 12); return hash; }
[[0.02358752 0.01364204 0.04742206 0.01044989 0.03790001 0.01364204
 0.06840343 0.01525342 0.07433349 0.03543702 0.04618179 0.06840343
 0.04281681 0.08588082 0.0186792  0.04026449 0.01350999 0.06840343
 0.04281681 0.08588082 0.0186792  0.05654678 0.02675544 0.03364916
 0.01146089]
[0.01513058 0.01003624 0.06002127 0.01108802 0.03934408 0.01003624
 0.05980663 0.0127288  0.07243054 0.02951579 0.03789563 0.05980663
 0.04499298 0.08933448 0.01928728 0.04832239 0.01232403 0.05980663
 0.04499298 0.08933448 0.01928728 0.08581126 0.02504012 0.03565913
 0.00796656]
[0.02812987 0.01243125 0.04827254 0.01600701 0.05521743 0.01243125
 0.06487261 0.01994481 0.0576411  0.02977408 0.05092538 0.06487261
 0.05263665 0.07079592 0.02269226 0.03345112 0.01390526 0.06487261
 0.05263665 0.07079592 0.02269226 0.03535171 0.04087067 0.04874912
 0.01002994]
[0.02550126 0.01008861 0.04601081 0.01278486 0.03512731 0.01008861
 0.05298043 0.0164135  0.06936518 0.02979186 0.04956231 0.05298043
 0.04637787 0.10671319 0.02488185 0.0382079  0.01373355 0.05298043
 0.04637787 0.10671319 0.02488185 0.05213115 0.03260383 0.03444577
 0.00925633]
[0.02806125 0.01281631 0.0442116  0.01779388 0.05138373 0.01281631
 0.06170318 0.02364485 0.05612742 0.03524816 0.0467874  0.06170318
 0.04244651 0.08086605 0.02084629 0.04239184 0.01566557 0.06170318
 0.04244651 0.08086605 0.02084629 0.04371367 0.03147571 0.04731729
 0.01711782]
[0.01513058 0.01003624 0.06002127 0.01108802 0.03934408 0.01003624
 0.05980663 0.0127288  0.07243054 0.02951579 0.03789563 0.05980663
 0.04499298 0.08933448 0.01928728 0.04832239 0.01232403 0.05980663
 0.04499298 0.08933448 0.01928728 0.08581126 0.02504012 0.03565913
 0.00796656]
[0.02702681 0.01421415 0.04494275 0.01443992 0.03846182 0.01421415
 0.06610407 0.01799812 0.06761102 0.03290034 0.0440206  0.06610407
 0.04684467 0.0739861  0.02384517 0.03756105 0.01237149 0.06610407
 0.04684467 0.0739861  0.02384517 0.06353839 0.02844555 0.04375942
 0.01083033]
[0.03010261 0.0176223  0.04675133 0.01668637 0.03758338 0.0176223
 0.05829561 0.02599047 0.06529038 0.03522365 0.05393039 0.05829561
 0.04117525 0.06994383 0.02789597 0.03757635 0.01889699 0.05829561
 0.04117525 0.06994383 0.02789597 0.04483979 0.03372147 0.04962748
 0.01561782]
[0.014639   0.0058362  0.04435924 0.01050222 0.03745392 0.0058362
 0.06692332 0.01020385 0.07612398 0.02921516 0.03306384 0.06692332
 0.05458811 0.1106283  0.01333692 0.04479294 0.00662744 0.06692332
 0.05458811 0.1106283  0.01333692 0.05866897 0.0231202  0.03624168
 0.0054386 ]
[0.01983789 0.00743331 0.04793778 0.00975748 0.04598334 0.00743331
 0.0572635  0.01322324 0.06962071 0.0297882  0.03720368 0.0572635
 0.05380787 0.09246019 0.0199278  0.03378163 0.00868812 0.0572635
 0.05380787 0.09246019 0.0199278  0.0720086  0.03366651 0.0527049
 0.00674909]
[0.01674142 0.00944362 0.05371905 0.01246665 0.03983511 0.00944362
 0.05754775 0.01124498 0.07145754 0.03161289 0.04526617 0.05754775
 0.04242578 0.10943309 0.0141789  0.04173499 0.01022238 0.05754775
 0.04242578 0.10943309 0.0141789  0.06760542 0.02204157 0.0445791
 0.00786669]
[0.02702681 0.01421415 0.04494275 0.01443992 0.03846182 0.01421415
 0.06610407 0.01799812 0.06761102 0.03290034 0.0440206  0.06610407
 0.04684467 0.0739861  0.02384517 0.03756105 0.01237149 0.06610407
 0.04684467 0.0739861  0.02384517 0.06353839 0.02844555 0.04375942
 0.01083033]
[0.02185942 0.01068344 0.0477023  0.01323357 0.04958641 0.01068344
 0.07290865 0.0133802  0.06273225 0.03044507 0.03237723 0.07290865
 0.05196601 0.07530139 0.02196147 0.04144544 0.01100142 0.07290865
 0.05196601 0.07530139 0.02196147 0.05273796 0.02120997 0.05473922
 0.00899901]
[0.02131025 0.00991587 0.04708824 0.00798109 0.0353267  0.00991587
 0.06143641 0.01318438 0.08370433 0.02992184 0.04838538 0.06143641
 0.0515172  0.0901844  0.01833062 0.03691362 0.00928592 0.06143641
 0.0515172  0.0901844  0.01833062 0.07824104 0.02164347 0.03504212
 0.00776618]
[0.01907216 0.00883096 0.04973765 0.01180055 0.03636337 0.00883096
 0.05916389 0.01488616 0.05806325 0.02750362 0.04252048 0.05916389
 0.04809559 0.10239948 0.0171991  0.03900594 0.00873863 0.05916389
 0.04809559 0.10239948 0.0171991  0.07621016 0.03058133 0.04341423
 0.01156052]
[0.02503    0.00929519 0.04658392 0.01180815 0.04663489 0.00929519
 0.06255332 0.01292343 0.06224585 0.02746458 0.0497001  0.06255332
 0.03660519 0.10958946 0.01816931 0.03270712 0.01126127 0.06255332
 0.03660519 0.10958946 0.01816931 0.05676075 0.02580902 0.04654955
 0.00954317]
[0.01448677 0.0087477  0.06725027 0.01118319 0.05023012 0.0087477
 0.0500374  0.01295557 0.07152212 0.03278903 0.03989731 0.0500374
 0.04512637 0.09220705 0.01691525 0.04446186 0.00946184 0.0500374
 0.04512637 0.09220705 0.01691525 0.08542272 0.02886944 0.04938967
 0.00597514]
[0.02702681 0.01421415 0.04494275 0.01443992 0.03846182 0.01421415
 0.06610407 0.01799812 0.06761102 0.03290034 0.0440206  0.06610407
 0.04684467 0.0739861  0.02384517 0.03756105 0.01237149 0.06610407
 0.04684467 0.0739861  0.02384517 0.06353839 0.02844555 0.04375942
 0.01083033]
[0.02185942 0.01068344 0.0477023  0.01323357 0.04958641 0.01068344
 0.07290865 0.0133802  0.06273225 0.03044507 0.03237723 0.07290865
 0.05196601 0.07530139 0.02196147 0.04144544 0.01100142 0.07290865
 0.05196601 0.07530139 0.02196147 0.05273796 0.02120997 0.05473922
 0.00899901]
[0.02131025 0.00991587 0.04708824 0.00798109 0.0353267  0.00991587
 0.06143641 0.01318438 0.08370433 0.02992184 0.04838538 0.06143641
 0.0515172  0.0901844  0.01833062 0.03691362 0.00928592 0.06143641
 0.0515172  0.0901844  0.01833062 0.07824104 0.02164347 0.03504212
 0.00776618]
[0.01907216 0.00883096 0.04973765 0.01180055 0.03636337 0.00883096
 0.05916389 0.01488616 0.05806325 0.02750362 0.04252048 0.05916389
 0.04809559 0.10239948 0.0171991  0.03900594 0.00873863 0.05916389
 0.04809559 0.10239948 0.0171991  0.07621016 0.03058133 0.04341423
 0.01156052]
[0.02108686 0.01237792 0.04639197 0.0118994  0.05204167 0.01237792
 0.06676978 0.01315467 0.05959024 0.02489758 0.04447597 0.06676978
 0.03622898 0.11026224 0.02214736 0.03327781 0.01203236 0.06676978
 0.03622898 0.11026224 0.02214736 0.04160877 0.02419559 0.04169023
 0.01131459]
[0.01633048 0.00862139 0.05197024 0.01006813 0.03775987 0.00862139
 0.05508455 0.01632131 0.07287136 0.02712748 0.03963805 0.05508455
 0.05487014 0.10567617 0.02082662 0.03367403 0.00970569 0.05508455
 0.05487014 0.10567617 0.02082662 0.06755184 0.02270829 0.03897898
 0.01005204]
[0.02354967 0.01006314 0.05064648 0.01423629 0.04007911 0.01006314
 0.06286847 0.01454895 0.05990469 0.03860084 0.04230701 0.06286847
 0.05364079 0.08140306 0.01794605 0.03813319 0.01122172 0.06286847
 0.05364079 0.08140306 0.01794605 0.06688528 0.02476057 0.049396
 0.01101867]
[0.016896   0.01269406 0.04656032 0.01448054 0.04564731 0.01269406
 0.06823143 0.01552002 0.07236072 0.02766548 0.04773596 0.06823143
 0.04148594 0.06433067 0.01669579 0.05256066 0.0132656  0.06823143
 0.04148594 0.06433067 0.01669579 0.06863618 0.03754475 0.05630344
 0.0097158 ]]