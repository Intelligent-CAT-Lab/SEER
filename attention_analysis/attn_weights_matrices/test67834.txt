67834
Test: public void testEnumHandlers() throws IOException { ObjectMapper mapper = new ObjectMapper(); String json = mapper.writerFor(EnumPOJO.class) .writeValueAsString(new EnumPOJO()); EnumPOJO result = mapper.readerFor(EnumPOJO.class) .readValue(json); byte[] bytes = jdkSerialize(mapper); ObjectMapper mapper2 = jdkDeserialize(bytes); bytes = jdkSerialize(mapper.readerFor(EnumPOJO.class)); ObjectReader r = jdkDeserialize(bytes); bytes = jdkSerialize(mapper.writerFor(EnumPOJO.class)); ObjectWriter w = jdkDeserialize(bytes); String json2 = w.writeValueAsString(new EnumPOJO()); EnumPOJO result2 = r.readValue(json2); }
Code: public void serialize(Object value, JsonGenerator g, SerializerProvider provider) throws IOException { switch (_typeId) { case TYPE_DATE: ; break; case TYPE_CALENDAR: provider.defaultSerializeDateKey(((Calendar) value).getTimeInMillis(), g); break; case TYPE_CLASS: g.writeFieldName(((Class<?>)value).getName()); break; case TYPE_ENUM: { String str = false ? value.toString() : ((Enum<?>) value).name(); ; } break; case TYPE_TO_STRING: default: g.writeFieldName(value.toString()); } }
tensor([[0.0139, 0.0114, 0.0305,  ..., 0.0261, 0.0062, 0.0062],
        [0.0107, 0.0097, 0.0264,  ..., 0.0437, 0.0061, 0.0061],
        [0.0163, 0.0122, 0.0306,  ..., 0.0281, 0.0077, 0.0077],
        ...,
        [0.0100, 0.0083, 0.0339,  ..., 0.0301, 0.0046, 0.0046],
        [0.0102, 0.0093, 0.0321,  ..., 0.0322, 0.0054, 0.0054],
        [0.0102, 0.0093, 0.0321,  ..., 0.0322, 0.0054, 0.0054]])