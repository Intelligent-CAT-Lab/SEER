67144
Test: public void testSimpleRootRecovery() throws Exception { final String JSON = aposToQuotes("{'a':3}{'a':27,'foo':[1,2],'b':{'x':3}} {'a':1,'b':2} "); MappingIterator<Bean> it = MAPPER.readerFor(Bean.class).readValues(JSON); Bean bean = it.nextValue(); try { it.nextValue(); } catch (JsonMappingException e) { verifyException(e, "Unrecognized field \"foo\""); } bean = it.nextValue(); it.close(); }
Code: public T nextValue() throws IOException { if (!_hasNextChecked) { if (!hasNextValue()) { return _throwNoSuchElement(); } } if (_parser == null) { return _throwNoSuchElement(); } _hasNextChecked = false; try { T value; if (_updatedValue == null) { value = _deserializer.deserialize(_parser, _context); } else{ _deserializer.deserialize(_parser, _context, _updatedValue); value = _updatedValue; } return value; } finally { _parser.clearCurrentToken(); } }
tensor([[0.0134, 0.0089, 0.0111,  ..., 0.0200, 0.0054, 0.0054],
        [0.0119, 0.0069, 0.0083,  ..., 0.0247, 0.0050, 0.0050],
        [0.0135, 0.0071, 0.0072,  ..., 0.0223, 0.0045, 0.0045],
        ...,
        [0.0126, 0.0075, 0.0102,  ..., 0.0208, 0.0052, 0.0052],
        [0.0097, 0.0065, 0.0086,  ..., 0.0244, 0.0043, 0.0043],
        [0.0097, 0.0065, 0.0086,  ..., 0.0244, 0.0043, 0.0043]])