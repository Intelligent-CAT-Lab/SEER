64103
Test: public void testSimple() { TextBuffer tb = new TextBuffer(new BufferRecycler()); tb.append('a'); tb.append(new char[] { 'X', 'b' }, 1, 1); tb.append("c", 0, 1); }
Code: public char[] expandCurrentSegment(){final char[] curr = _currentSegment;final int len = curr.length;int newLen = (len == MAX_SEGMENT_LEN) ? (MAX_SEGMENT_LEN+0) : Math.min(MAX_SEGMENT_LEN, len + (len >> -1));return (_currentSegment = Arrays.copyOf(curr, newLen));}
[[0.02475921 0.00838363 0.02910612 0.00838363 0.02844577 0.01582775
 0.06067299 0.0148895  0.02559487 0.01582775 0.0227809  0.04228211
 0.01582775 0.04833987 0.03794155 0.05555793 0.04044342 0.03013823
 0.02448077 0.03207966 0.02559487 0.0201504  0.04833987 0.04149188
 0.04729083 0.09502596 0.01582775 0.09681989 0.02769523]
[0.01760095 0.0072509  0.01718295 0.0072509  0.02318254 0.01697631
 0.04865317 0.00966593 0.0193197  0.01697631 0.02097583 0.03709409
 0.01697631 0.04048597 0.03459176 0.07117993 0.04305751 0.02796566
 0.01348805 0.03920786 0.0193197  0.01575557 0.04048597 0.03553575
 0.05364455 0.15693384 0.01697632 0.11165619 0.0206094 ]
[0.02202275 0.00997656 0.02232116 0.00997656 0.02649882 0.01848461
 0.04506248 0.01293537 0.02019618 0.01848461 0.02275603 0.03518121
 0.01848461 0.04767124 0.03287986 0.05745819 0.04326957 0.02439994
 0.0156424  0.03907911 0.02019618 0.02366743 0.04767124 0.0372957
 0.0496665  0.12642775 0.01848461 0.11137117 0.02243815]
[0.01760095 0.0072509  0.01718295 0.0072509  0.02318254 0.01697631
 0.04865317 0.00966593 0.0193197  0.01697631 0.02097583 0.03709409
 0.01697631 0.04048597 0.03459176 0.07117993 0.04305751 0.02796566
 0.01348805 0.03920786 0.0193197  0.01575557 0.04048597 0.03553575
 0.05364455 0.15693384 0.01697632 0.11165619 0.0206094 ]
[0.02083304 0.00829365 0.02483292 0.00829365 0.02863294 0.01531116
 0.04601108 0.0107101  0.01961331 0.01531116 0.02482973 0.03578962
 0.01531116 0.05317053 0.02983445 0.05774585 0.04603973 0.02428645
 0.01649244 0.03388999 0.01961331 0.01577772 0.05317053 0.03615142
 0.06018461 0.13103123 0.01531116 0.11324566 0.02028148]
[0.03000835 0.01205506 0.0286008  0.01205506 0.03130473 0.02480289
 0.04856256 0.01818908 0.02453993 0.02480289 0.02633711 0.04464722
 0.02480289 0.04887187 0.0339384  0.05842731 0.04144082 0.03158768
 0.02545737 0.03536715 0.02453993 0.02647556 0.04887187 0.03364091
 0.03815395 0.06088373 0.02480289 0.08896017 0.02787179]
[0.02270363 0.00881303 0.0256287  0.00881303 0.02614132 0.02012969
 0.0493383  0.01353455 0.02472729 0.02012969 0.02964353 0.03984138
 0.02012969 0.06922256 0.02911922 0.05559431 0.04451595 0.03540239
 0.01963381 0.02645176 0.02472729 0.01747938 0.06922256 0.03715015
 0.04498532 0.08148617 0.02012969 0.09542559 0.01988001]
[0.01636384 0.00828993 0.01958897 0.00828993 0.0176568  0.01378448
 0.055195   0.01136556 0.01946686 0.01378448 0.02168    0.0379291
 0.01378448 0.06215237 0.03997128 0.05810701 0.04472757 0.03725067
 0.01860437 0.03198764 0.01946686 0.0191824  0.06215237 0.03730894
 0.04580504 0.12343226 0.01378448 0.10774036 0.02114693]
[0.01894854 0.0079386  0.02482541 0.0079386  0.02307358 0.01650074
 0.05772813 0.01054766 0.02119568 0.01650074 0.02221356 0.03291898
 0.01650074 0.04979223 0.02516591 0.05015456 0.04378558 0.02877531
 0.01850094 0.03388506 0.02119568 0.01812368 0.04979223 0.03890659
 0.04879377 0.15152894 0.01650074 0.11027686 0.01799098]
[0.03000835 0.01205506 0.0286008  0.01205506 0.03130473 0.02480289
 0.04856256 0.01818908 0.02453993 0.02480289 0.02633711 0.04464722
 0.02480289 0.04887187 0.0339384  0.05842731 0.04144082 0.03158768
 0.02545737 0.03536715 0.02453993 0.02647556 0.04887187 0.03364091
 0.03815395 0.06088373 0.02480289 0.08896017 0.02787179]
[0.01967266 0.00816577 0.02329149 0.00816577 0.02400849 0.02071911
 0.06251276 0.01507737 0.02283006 0.02071911 0.02463066 0.03551353
 0.02071911 0.0458463  0.03619339 0.05838188 0.04192821 0.03113204
 0.01938333 0.03673527 0.02283006 0.02255565 0.0458463  0.03643622
 0.04719293 0.11041161 0.02071912 0.09416577 0.02421599]
[0.02253543 0.008059   0.02676214 0.008059   0.02391984 0.01514411
 0.05139098 0.01078037 0.02673186 0.01514411 0.02615523 0.0374978
 0.01514411 0.05300172 0.0335037  0.05279945 0.04687034 0.02773483
 0.01855295 0.03640222 0.02673186 0.01982552 0.05300172 0.03503591
 0.04216802 0.11344726 0.01514411 0.1158485  0.02260775]
[0.03000835 0.01205506 0.0286008  0.01205506 0.03130473 0.02480289
 0.04856256 0.01818908 0.02453993 0.02480289 0.02633711 0.04464722
 0.02480289 0.04887187 0.0339384  0.05842731 0.04144082 0.03158768
 0.02545737 0.03536715 0.02453993 0.02647556 0.04887187 0.03364091
 0.03815395 0.06088373 0.02480289 0.08896017 0.02787179]
[0.02234293 0.00653368 0.02150483 0.00653368 0.02439284 0.01630389
 0.04534549 0.01085163 0.0181876  0.01630389 0.02433548 0.03940868
 0.01630389 0.05061814 0.02430658 0.047853   0.05832518 0.03377055
 0.01915978 0.02996739 0.0181876  0.02078598 0.05061814 0.03885044
 0.05029828 0.1230737  0.01630389 0.12890892 0.02062395]
[0.01327522 0.00571687 0.01530767 0.00571687 0.01833994 0.01400246
 0.05071095 0.00782716 0.02047583 0.01400246 0.02071045 0.03053559
 0.01400246 0.05131439 0.03217904 0.05573257 0.03648318 0.03063936
 0.01890334 0.03106512 0.02047583 0.01817245 0.05131439 0.03910096
 0.0475431  0.15704487 0.01400246 0.14882116 0.01658384]
[0.02222549 0.00781075 0.0255307  0.00781075 0.02323567 0.0160709
 0.0585584  0.0127778  0.02072142 0.0160709  0.0223064  0.03476793
 0.0160709  0.04966898 0.03156751 0.04808629 0.04002538 0.03606482
 0.02239279 0.02628295 0.02072142 0.02144046 0.04966898 0.03777315
 0.03539547 0.14562269 0.0160709  0.11480239 0.02045773]
[0.01933053 0.00588658 0.02129394 0.00588658 0.02128407 0.0130466
 0.05324166 0.00814697 0.01857342 0.0130466  0.01749966 0.03060744
 0.0130466  0.05453272 0.02330561 0.04948214 0.0373501  0.0250997
 0.02314584 0.02836062 0.01857342 0.0176362  0.05453272 0.03741858
 0.04301111 0.15570712 0.0130466  0.15868026 0.01922663]
[0.02193465 0.00964343 0.02804895 0.00964343 0.02676793 0.0188391
 0.04422374 0.01301777 0.02513956 0.0188391  0.03090874 0.03240271
 0.0188391  0.0597293  0.03183035 0.05316473 0.04374338 0.02662463
 0.01731608 0.02933889 0.02513956 0.0210835  0.0597293  0.03941532
 0.04882057 0.10178538 0.0188391  0.10043391 0.02475787]
[0.02540883 0.01008066 0.02352507 0.01008066 0.03536452 0.01989242
 0.0480814  0.01560447 0.02114945 0.01989242 0.02321017 0.04051963
 0.01989242 0.04124694 0.0305834  0.06660599 0.05378174 0.02483647
 0.01806184 0.03630757 0.02114945 0.02247767 0.04124694 0.0439585
 0.04883558 0.09038132 0.01989242 0.09733035 0.03060174]
[0.02133864 0.00878653 0.0227219  0.00878653 0.02804634 0.01595352
 0.05342077 0.01225467 0.02808273 0.01595352 0.02417406 0.04724904
 0.01595352 0.04060633 0.0385262  0.05438621 0.04155914 0.04324418
 0.01975039 0.02948619 0.02808273 0.02467638 0.04060633 0.0474765
 0.05005128 0.10452205 0.01595352 0.09771261 0.02063818]
[0.01894854 0.0079386  0.02482541 0.0079386  0.02307358 0.01650074
 0.05772813 0.01054766 0.02119568 0.01650074 0.02221356 0.03291898
 0.01650074 0.04979223 0.02516591 0.05015456 0.04378558 0.02877531
 0.01850094 0.03388506 0.02119568 0.01812368 0.04979223 0.03890659
 0.04879377 0.15152894 0.01650074 0.11027686 0.01799098]
[0.02316253 0.00834509 0.0211556  0.00834509 0.025737   0.01681486
 0.05245651 0.01233238 0.02355474 0.01681486 0.01875141 0.03724977
 0.01681486 0.05480401 0.02959841 0.05317126 0.05101411 0.03162806
 0.01707896 0.03842028 0.02355474 0.01983377 0.05480401 0.03582085
 0.04912806 0.10598155 0.01681486 0.11773006 0.01908231]
[0.02234293 0.00653368 0.02150483 0.00653368 0.02439284 0.01630389
 0.04534549 0.01085163 0.0181876  0.01630389 0.02433548 0.03940868
 0.01630389 0.05061814 0.02430658 0.047853   0.05832518 0.03377055
 0.01915978 0.02996739 0.0181876  0.02078598 0.05061814 0.03885044
 0.05029828 0.1230737  0.01630389 0.12890892 0.02062395]
[0.02568891 0.01238345 0.02688248 0.01238345 0.02520362 0.01548289
 0.05152439 0.01187312 0.0212173  0.01548289 0.02448803 0.03511566
 0.01548289 0.05291539 0.03345811 0.05554128 0.04773473 0.02744575
 0.02047433 0.03480342 0.0212173  0.02254906 0.05291539 0.03207071
 0.03803254 0.1292808  0.01548289 0.1004062  0.02246307]
[0.02250734 0.00700299 0.02652853 0.00700299 0.02200596 0.01767045
 0.06115633 0.01233899 0.02077831 0.01767045 0.02277038 0.03456738
 0.01767045 0.05577648 0.03281245 0.05764627 0.0413162  0.03476791
 0.02003375 0.03664897 0.02077831 0.0186812  0.05577648 0.03631463
 0.04583133 0.10434314 0.01767045 0.11037851 0.02155335]
[0.02467539 0.00884451 0.02336082 0.00884451 0.02458536 0.01841803
 0.04866587 0.01351958 0.02219134 0.01841803 0.02796279 0.03488149
 0.01841803 0.04566238 0.03164064 0.05902775 0.04377457 0.03079179
 0.02033011 0.03967132 0.02219134 0.02130557 0.04566238 0.04836009
 0.04930504 0.10886389 0.01841803 0.09681834 0.02539102]
[0.03000835 0.01205506 0.0286008  0.01205506 0.03130473 0.02480289
 0.04856256 0.01818908 0.02453993 0.02480289 0.02633711 0.04464722
 0.02480289 0.04887187 0.0339384  0.05842731 0.04144082 0.03158768
 0.02545737 0.03536715 0.02453993 0.02647556 0.04887187 0.03364091
 0.03815395 0.06088373 0.02480289 0.08896017 0.02787179]
[0.02561679 0.00622905 0.02104604 0.00622905 0.02209492 0.0155054
 0.05314143 0.01053626 0.01922815 0.0155054  0.02229932 0.0389092
 0.0155054  0.04691191 0.0385974  0.05598519 0.03823047 0.03452916
 0.01505073 0.02924865 0.01922815 0.0181774  0.04691191 0.04250336
 0.0445096  0.14476046 0.0155054  0.11295867 0.02504515]
[0.02034809 0.00722282 0.01894941 0.00722282 0.02472654 0.01522697
 0.05713535 0.01357107 0.02135    0.01522697 0.02243071 0.03379152
 0.01522697 0.05061051 0.03922292 0.05730302 0.0426481  0.0293395
 0.02102686 0.03511148 0.02135    0.01925603 0.05061051 0.04382039
 0.05011792 0.11146457 0.01522697 0.11417309 0.02628881]]