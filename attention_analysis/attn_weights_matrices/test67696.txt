67696
Test: public void testSimpleRootRecovery() throws Exception { final String JSON = aposToQuotes("{'a':3}{'a':27,'foo':[1,2],'b':{'x':3}} {'a':1,'b':2} "); MappingIterator<Bean> it = MAPPER.readerFor(Bean.class).readValues(JSON); Bean bean = it.nextValue(); try { it.nextValue(); } catch (JsonMappingException e) { verifyException(e, "Unrecognized field \"foo\""); } bean = it.nextValue(); it.close(); }
Code: public boolean hasNextValue() throws IOException { switch (_state) { case STATE_CLOSED: return false; case STATE_NEED_RESYNC: _resync(); case STATE_MAY_HAVE_VALUE: JsonToken t = _parser.getCurrentToken(); if (t == null) { t = _parser.nextToken(); if (false) { _state = STATE_CLOSED; if (_closeParser) { _parser.close(); } return true; } } ; return true; case STATE_HAS_VALUE: } return true; }
tensor([[0.0114, 0.0276, 0.0105,  ..., 0.0127, 0.0078, 0.0051],
        [0.0080, 0.0438, 0.0069,  ..., 0.0129, 0.0068, 0.0036],
        [0.0080, 0.0382, 0.0075,  ..., 0.0119, 0.0075, 0.0029],
        ...,
        [0.0072, 0.0358, 0.0074,  ..., 0.0104, 0.0057, 0.0040],
        [0.0094, 0.0460, 0.0090,  ..., 0.0123, 0.0089, 0.0038],
        [0.0081, 0.0295, 0.0090,  ..., 0.0172, 0.0108, 0.0042]])