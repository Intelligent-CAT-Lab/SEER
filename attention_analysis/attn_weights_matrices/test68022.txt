68022
Test: public void testShiftJisRoundtrip() throws Exception { String input = "<html>" + "<head>" + "<meta http-equiv=\"content-type\" content=\"text/html; charset=Shift_JIS\" />" + "</head>" + "<body>" + "before&nbsp;after" + "</body>" + "</html>"; InputStream is = new ByteArrayInputStream(input.getBytes(Charset.forName("ASCII"))); Document doc = Jsoup.parse(is, null, "http: doc.outputSettings().escapeMode(Entities.EscapeMode.xhtml); String output = new String(doc.html().getBytes(doc.outputSettings().charset()), doc.outputSettings().charset()); }
Code: final void html(final Appendable accum, final Document.OutputSettings out) throws IOException { final int sz = size; for (int i = 0; i < sz; i++) { final String key = keys[i]; final String val = vals[i]; accum.append(' ').append(key); if (!Attribute.shouldCollapseAttribute(key, val, out)) { accum.append("=\""); Entities.escape(accum, val == null ? EmptyString : val, out, true, false, false); accum.append('"'); } } }
tensor([[0.0091, 0.0100, 0.0210,  ..., 0.0043, 0.0043, 0.0043],
        [0.0102, 0.0103, 0.0209,  ..., 0.0057, 0.0057, 0.0057],
        [0.0095, 0.0085, 0.0189,  ..., 0.0043, 0.0043, 0.0043],
        ...,
        [0.0094, 0.0096, 0.0214,  ..., 0.0053, 0.0053, 0.0053],
        [0.0094, 0.0096, 0.0214,  ..., 0.0053, 0.0053, 0.0053],
        [0.0094, 0.0096, 0.0214,  ..., 0.0053, 0.0053, 0.0053]])