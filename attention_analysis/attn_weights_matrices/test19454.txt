19454
Test: public void testUnnormalizeNodeTypes() throws Exception { otherPass = new CompilerPass() { @Override public void process(Node externs, Node root) { getLastCompiler().reportCodeChange(); root.addChildToBack(new Node(Token.EXPR_VOID, Node.newNumber(0))); } }; boolean exceptionCaught = false; try { test("var x = 3;", "var x=3;0;0"); } catch (IllegalStateException e) { exceptionCaught = true; } }
Code: public void process(Node externs, Node root) { ; removeDuplicateDeclarations(root); if (false) { MakeDeclaredNamesUnique renamer = new MakeDeclaredNamesUnique(); NodeTraversal t = new NodeTraversal(compiler, renamer); t.traverseRoots(externs, root); } ; }
[[0.03610504 0.02901246 0.03113563 0.01396273 0.06633204 0.07006161
 0.04660735 0.02015182 0.0185974  0.09716317 0.02620354 0.04660735
 0.02968686 0.02769504 0.02262013 0.01831576 0.04844379 0.03748647
 0.0625792  0.02262013 0.01831576 0.0235589  0.05298024 0.06429432
 0.01921637 0.01504753 0.02015182 0.01504753]
[0.03117749 0.02568757 0.02844702 0.01088428 0.0762721  0.06574088
 0.04734049 0.01636394 0.01429369 0.10264191 0.01958533 0.04734049
 0.02912365 0.02564621 0.02421147 0.01396841 0.06073787 0.02885698
 0.0568416  0.02421147 0.01396841 0.02405865 0.08216161 0.06887743
 0.01580729 0.01469492 0.01636394 0.01469492]
[0.02942205 0.02698989 0.03053994 0.01434164 0.06831571 0.07143794
 0.04377012 0.01708427 0.0148733  0.11048776 0.02240296 0.04377012
 0.02735053 0.02768155 0.02001676 0.01520411 0.0600834  0.04034479
 0.05544872 0.02001676 0.01520411 0.01865341 0.06606825 0.08492035
 0.01852137 0.00998298 0.01708427 0.00998298]
[0.03228435 0.03204491 0.03670198 0.0147024  0.06482218 0.0549658
 0.04878138 0.01805279 0.01610368 0.08923756 0.02473761 0.04878138
 0.02554797 0.02974657 0.01970301 0.01690301 0.0646228  0.02644824
 0.06596258 0.01970301 0.01690301 0.02654884 0.08151246 0.0508349
 0.02290146 0.01669669 0.01805279 0.01669669]
[0.0277577  0.02607677 0.02952304 0.01206951 0.07517587 0.05397574
 0.05320248 0.0172211  0.01566927 0.10452325 0.02331326 0.05320248
 0.02847815 0.02847401 0.02452605 0.01507493 0.06357124 0.03074169
 0.054057   0.02452605 0.01507493 0.02338329 0.08398089 0.06374952
 0.01420277 0.01061397 0.0172211  0.01061397]
[0.03238111 0.02237039 0.03209603 0.01672466 0.07064483 0.06011201
 0.05343838 0.02035058 0.01591526 0.09641174 0.02648383 0.05343838
 0.02540008 0.02490762 0.02172893 0.0170628  0.0609018  0.03291258
 0.06374132 0.02172893 0.0170628  0.02548576 0.05425788 0.05868883
 0.02029404 0.0175544  0.02035058 0.0175544 ]
[0.03579412 0.03092732 0.03407471 0.02010947 0.05818379 0.04805385
 0.0540351  0.02010187 0.01784429 0.06211029 0.02918915 0.0540351
 0.03019074 0.03400679 0.02963973 0.02048041 0.05727096 0.03312811
 0.05088712 0.02963973 0.02048041 0.02320994 0.06803726 0.05821579
 0.02102566 0.01961323 0.02010187 0.01961323]
[0.02540277 0.0182121  0.02170913 0.01207998 0.07443587 0.07516784
 0.06699868 0.01553985 0.01822802 0.11061069 0.02486561 0.06699868
 0.02721094 0.02497859 0.02176631 0.01652585 0.05866909 0.03425691
 0.04748247 0.02176631 0.01652585 0.01852422 0.06950893 0.0651063
 0.01466212 0.00861348 0.01553986 0.00861348]
[0.03489579 0.02318085 0.02827134 0.01238691 0.06086855 0.07026169
 0.04527465 0.015771   0.01540451 0.12322187 0.02601133 0.04527465
 0.03121493 0.02767722 0.01801255 0.01308532 0.06240083 0.03188167
 0.0530818  0.01801255 0.01308532 0.01906183 0.09207521 0.07034643
 0.01590397 0.00878309 0.015771   0.00878309]
[0.02584004 0.01852121 0.02988263 0.00653277 0.08048145 0.07080425
 0.04667471 0.01132965 0.01031639 0.14283854 0.01933913 0.04667471
 0.02521317 0.02196295 0.01956358 0.00968433 0.05465815 0.03218326
 0.06991359 0.01956358 0.00968433 0.02208078 0.09962385 0.06789343
 0.01250109 0.00745435 0.01132966 0.00745435]
[0.02906641 0.02726137 0.02444777 0.01184479 0.08896989 0.06240057
 0.04808323 0.01534258 0.01242986 0.12958272 0.02265567 0.04808323
 0.0245196  0.02653054 0.02000883 0.01607479 0.05637449 0.02569977
 0.06326943 0.02000883 0.01607479 0.02758828 0.07316849 0.0554226
 0.01833547 0.01070666 0.01534258 0.01070666]
[0.03579412 0.03092732 0.03407471 0.02010947 0.05818379 0.04805385
 0.0540351  0.02010187 0.01784429 0.06211029 0.02918915 0.0540351
 0.03019074 0.03400679 0.02963973 0.02048041 0.05727096 0.03312811
 0.05088712 0.02963973 0.02048041 0.02320994 0.06803726 0.05821579
 0.02102566 0.01961323 0.02010187 0.01961323]
[0.02906409 0.02415373 0.02928648 0.01280099 0.07060893 0.06367142
 0.05703788 0.01835381 0.01673649 0.10008129 0.02767573 0.05703788
 0.0317255  0.0225294  0.02121085 0.01703918 0.04760055 0.03530591
 0.06034058 0.02121085 0.01703918 0.02542647 0.0612697  0.07456919
 0.01798777 0.01094121 0.01835381 0.01094121]
[0.02788791 0.02604486 0.03008818 0.01279008 0.06572242 0.05121763
 0.07249047 0.01651153 0.01419381 0.09919507 0.02535403 0.07249047
 0.02836484 0.03398499 0.01800426 0.01322924 0.07395297 0.02452612
 0.06064721 0.01800426 0.01322924 0.02541838 0.06431272 0.05736402
 0.01705042 0.01070666 0.01651153 0.01070666]
[0.03816801 0.03086439 0.03785168 0.02270915 0.0571615  0.05230464
 0.04180984 0.0238462  0.02056292 0.0842303  0.03084326 0.04180984
 0.02827989 0.04012338 0.03127186 0.01788847 0.05136763 0.03377713
 0.05660581 0.03127186 0.01788847 0.02651972 0.05067357 0.04221094
 0.02932648 0.01839345 0.0238462  0.01839345]
[0.0312885  0.0275819  0.03158708 0.01454446 0.05246247 0.06065518
 0.05351487 0.01791199 0.01653749 0.1082011  0.0286935  0.05351487
 0.02526942 0.02540153 0.02529976 0.02070126 0.05806866 0.02720175
 0.0485258  0.02529976 0.02070126 0.02179657 0.06419592 0.06744564
 0.02416109 0.01576309 0.01791199 0.01576309]
[0.03153695 0.02446399 0.02924912 0.01415488 0.07471016 0.06604067
 0.04094391 0.01507198 0.01278619 0.11734384 0.02799906 0.04094391
 0.02689772 0.02876649 0.02135528 0.01488931 0.06001291 0.02741528
 0.06639483 0.02135528 0.01488931 0.0256425  0.07328866 0.0602245
 0.01808733 0.01523195 0.01507198 0.01523195]
[0.0255968  0.01864406 0.02835386 0.0102549  0.06561527 0.06546998
 0.05220249 0.01590219 0.01471264 0.0995692  0.02655071 0.05220249
 0.02111664 0.02244249 0.02264656 0.01587549 0.07451054 0.03248373
 0.07645953 0.02264656 0.01587549 0.02439447 0.06374343 0.07706273
 0.0177453  0.01101013 0.01590219 0.01101013]
[0.03005915 0.02154344 0.03535004 0.01104652 0.08723442 0.05026805
 0.06575134 0.01445724 0.01405279 0.1251235  0.02274711 0.06575134
 0.02440405 0.0249674  0.01718238 0.01324736 0.05818167 0.02489474
 0.05466164 0.01718238 0.01324736 0.02245591 0.08388553 0.04816571
 0.01794963 0.01086605 0.01445724 0.01086605]
[0.03816801 0.03086439 0.03785168 0.02270915 0.0571615  0.05230464
 0.04180984 0.0238462  0.02056292 0.0842303  0.03084326 0.04180984
 0.02827989 0.04012338 0.03127186 0.01788847 0.05136763 0.03377713
 0.05660581 0.03127186 0.01788847 0.02651972 0.05067357 0.04221094
 0.02932648 0.01839345 0.0238462  0.01839345]
[0.0312885  0.0275819  0.03158708 0.01454446 0.05246247 0.06065518
 0.05351487 0.01791199 0.01653749 0.1082011  0.0286935  0.05351487
 0.02526942 0.02540153 0.02529976 0.02070126 0.05806866 0.02720175
 0.0485258  0.02529976 0.02070126 0.02179657 0.06419592 0.06744564
 0.02416109 0.01576309 0.01791199 0.01576309]
[0.03045892 0.03169397 0.03105295 0.014609   0.07787631 0.06149625
 0.0553068  0.01858948 0.01219375 0.09029448 0.02557875 0.0553068
 0.03184213 0.02971898 0.02037567 0.01760934 0.0649525  0.03273768
 0.06362506 0.02037567 0.01760934 0.02099088 0.0658035  0.04892416
 0.01774425 0.01232196 0.01858948 0.01232196]
[0.03561887 0.02669388 0.03815116 0.01631313 0.05890538 0.07079364
 0.0507329  0.01548542 0.0188544  0.0969175  0.03191511 0.0507329
 0.02583814 0.02599918 0.02097095 0.01579634 0.05555674 0.03300545
 0.06483563 0.02097095 0.01579634 0.02660587 0.06602798 0.05439095
 0.01966186 0.01397196 0.01548542 0.01397196]
[0.03420502 0.02178767 0.03155623 0.01362186 0.07023785 0.06786938
 0.05554254 0.0156306  0.01588617 0.09573764 0.02382739 0.05554254
 0.02697726 0.02657182 0.02520451 0.0150962  0.05567871 0.0326979
 0.0592972  0.02520451 0.0150962  0.02050145 0.07014483 0.06929673
 0.01832187 0.01141766 0.01563059 0.01141766]
[0.02539515 0.02193692 0.02668244 0.01085154 0.07642845 0.05586755
 0.05964882 0.01826941 0.01473529 0.12916511 0.02259374 0.05964882
 0.02745899 0.02596633 0.02010932 0.01358984 0.06009703 0.02708361
 0.05264201 0.02010932 0.01358984 0.02228399 0.06218413 0.07774486
 0.01746505 0.0100915  0.01826941 0.0100915 ]
[0.02605914 0.02329136 0.03741373 0.01446605 0.09365904 0.0507281
 0.05809807 0.01939041 0.01572408 0.09862182 0.02111592 0.05809807
 0.02983801 0.02627475 0.02260039 0.0145579  0.06211259 0.03324676
 0.06018256 0.02260039 0.0145579  0.02702963 0.05879888 0.0487678
 0.01751612 0.01293004 0.0193904  0.01293004]
[0.02540277 0.0182121  0.02170913 0.01207998 0.07443587 0.07516784
 0.06699868 0.01553985 0.01822802 0.11061069 0.02486561 0.06699868
 0.02721094 0.02497859 0.02176631 0.01652585 0.05866909 0.03425691
 0.04748247 0.02176631 0.01652585 0.01852422 0.06950893 0.0651063
 0.01466212 0.00861348 0.01553986 0.00861348]
[0.02605914 0.02329136 0.03741373 0.01446605 0.09365904 0.0507281
 0.05809807 0.01939041 0.01572408 0.09862182 0.02111592 0.05809807
 0.02983801 0.02627475 0.02260039 0.0145579  0.06211259 0.03324676
 0.06018256 0.02260039 0.0145579  0.02702963 0.05879888 0.0487678
 0.01751612 0.01293004 0.0193904  0.01293004]]