60869
Test: public void testJdbcPrinterWithResultSet() throws IOException, ClassNotFoundException, SQLException { final StringWriter sw = new StringWriter(); Class.forName("org.h2.Driver"); final Connection connection = geH2Connection(); try { setUpTable(connection); @SuppressWarnings("resource") final Statement stmt = connection.createStatement(); @SuppressWarnings("resource") final ResultSet resultSet = stmt.executeQuery("select ID, NAME from TEST"); final CSVPrinter printer = CSVFormat.DEFAULT.withHeader(resultSet).print(sw); printer.printRecords(resultSet); printer.close(); } finally { connection.close(); } }
Code: private void print(final Object object, final CharSequence value, final int offset, final int len) throws IOException { if (!newRecord) { out.append(format.getDelimiter()); } if (format.isQuoteCharacterSet()) { printAndQuote(object, value, offset, len); } else if (format.isEscapeCharacterSet()) { printAndEscape(value, offset, len); } else { out.append(value, offset, offset + len); } newRecord = false; }
tensor([[0.0207, 0.0108, 0.0428,  ..., 0.0083, 0.0181, 0.0065],
        [0.0153, 0.0099, 0.0383,  ..., 0.0091, 0.0182, 0.0065],
        [0.0180, 0.0098, 0.0279,  ..., 0.0103, 0.0200, 0.0056],
        ...,
        [0.0207, 0.0136, 0.0294,  ..., 0.0139, 0.0221, 0.0083],
        [0.0177, 0.0129, 0.0393,  ..., 0.0125, 0.0253, 0.0082],
        [0.0145, 0.0085, 0.0282,  ..., 0.0083, 0.0203, 0.0053]])