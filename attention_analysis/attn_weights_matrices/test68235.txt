68235
Test: @Test public void testIsValidDocument() { String ok = "<html><head></head><body><p>Hello</p></body><html>"; String nok = "<html><head><script>woops</script><title>Hello</title></head><body><p>Hello</p></body><html>"; Whitelist relaxed = Whitelist.relaxed(); Cleaner cleaner = new Cleaner(relaxed); Document okDoc = Jsoup.parse(ok); }
Code: public boolean isValid(Document dirtyDocument) { Validate.notNull(dirtyDocument); Document clean = Document.createShell(dirtyDocument.baseUri()); int numDiscarded = copySafeNodes(dirtyDocument.body(), clean.body()); return numDiscarded == 0 && dirtyDocument.head().childNodes().size() == 0; }
tensor([[0.0252, 0.0614, 0.0806, 0.0239, 0.0349, 0.0401, 0.0971, 0.0670, 0.0159,
         0.0544, 0.0156, 0.0956, 0.0159, 0.0164, 0.0136, 0.0278, 0.0956, 0.0393,
         0.0200, 0.0163, 0.0584, 0.0393, 0.0347, 0.0110],
        [0.0191, 0.1019, 0.0923, 0.0199, 0.0461, 0.0424, 0.1028, 0.0581, 0.0149,
         0.0525, 0.0094, 0.1011, 0.0149, 0.0116, 0.0099, 0.0309, 0.1011, 0.0291,
         0.0160, 0.0128, 0.0426, 0.0291, 0.0328, 0.0087],
        [0.0161, 0.0864, 0.1089, 0.0267, 0.0444, 0.0374, 0.0972, 0.0639, 0.0190,
         0.0422, 0.0119, 0.0910, 0.0190, 0.0144, 0.0132, 0.0306, 0.0910, 0.0319,
         0.0174, 0.0142, 0.0486, 0.0319, 0.0338, 0.0090],
        [0.0238, 0.0672, 0.1031, 0.0286, 0.0403, 0.0421, 0.0811, 0.0441, 0.0223,
         0.0525, 0.0141, 0.0925, 0.0223, 0.0162, 0.0173, 0.0352, 0.0925, 0.0361,
         0.0263, 0.0222, 0.0363, 0.0361, 0.0347, 0.0131],
        [0.0292, 0.0652, 0.0884, 0.0245, 0.0462, 0.0410, 0.0882, 0.0671, 0.0243,
         0.0483, 0.0141, 0.0743, 0.0243, 0.0179, 0.0186, 0.0337, 0.0743, 0.0314,
         0.0331, 0.0254, 0.0447, 0.0314, 0.0381, 0.0164],
        [0.0222, 0.0781, 0.0798, 0.0285, 0.0411, 0.0448, 0.0910, 0.0539, 0.0140,
         0.0477, 0.0130, 0.0998, 0.0140, 0.0153, 0.0167, 0.0308, 0.0998, 0.0381,
         0.0229, 0.0176, 0.0481, 0.0381, 0.0334, 0.0114],
        [0.0222, 0.0769, 0.0917, 0.0240, 0.0441, 0.0377, 0.0957, 0.0644, 0.0129,
         0.0424, 0.0122, 0.1196, 0.0129, 0.0111, 0.0106, 0.0265, 0.1196, 0.0301,
         0.0193, 0.0130, 0.0349, 0.0301, 0.0402, 0.0082],
        [0.0275, 0.0733, 0.0792, 0.0295, 0.0417, 0.0397, 0.1020, 0.0691, 0.0167,
         0.0505, 0.0145, 0.0807, 0.0167, 0.0210, 0.0165, 0.0261, 0.0807, 0.0407,
         0.0229, 0.0179, 0.0479, 0.0407, 0.0324, 0.0123],
        [0.0329, 0.0690, 0.0739, 0.0281, 0.0366, 0.0442, 0.0753, 0.0688, 0.0271,
         0.0429, 0.0200, 0.0658, 0.0271, 0.0225, 0.0226, 0.0360, 0.0658, 0.0373,
         0.0313, 0.0279, 0.0414, 0.0373, 0.0501, 0.0160],
        [0.0147, 0.0939, 0.0915, 0.0267, 0.0356, 0.0380, 0.0964, 0.0558, 0.0173,
         0.0492, 0.0103, 0.1192, 0.0173, 0.0126, 0.0097, 0.0281, 0.1192, 0.0309,
         0.0173, 0.0103, 0.0417, 0.0309, 0.0263, 0.0070],
        [0.0174, 0.0691, 0.0856, 0.0251, 0.0375, 0.0440, 0.0956, 0.0608, 0.0147,
         0.0429, 0.0129, 0.1079, 0.0147, 0.0127, 0.0127, 0.0279, 0.1079, 0.0448,
         0.0158, 0.0148, 0.0472, 0.0448, 0.0349, 0.0083],
        [0.0272, 0.0770, 0.0746, 0.0262, 0.0378, 0.0475, 0.0881, 0.0618, 0.0196,
         0.0511, 0.0166, 0.0860, 0.0196, 0.0166, 0.0192, 0.0359, 0.0860, 0.0408,
         0.0220, 0.0194, 0.0410, 0.0408, 0.0334, 0.0118],
        [0.0329, 0.0690, 0.0739, 0.0281, 0.0366, 0.0442, 0.0753, 0.0688, 0.0271,
         0.0429, 0.0200, 0.0658, 0.0271, 0.0225, 0.0226, 0.0360, 0.0658, 0.0373,
         0.0313, 0.0279, 0.0414, 0.0373, 0.0501, 0.0160],
        [0.0203, 0.1001, 0.0938, 0.0263, 0.0502, 0.0356, 0.1064, 0.0636, 0.0133,
         0.0476, 0.0097, 0.0931, 0.0133, 0.0137, 0.0113, 0.0326, 0.0931, 0.0331,
         0.0154, 0.0141, 0.0414, 0.0331, 0.0316, 0.0073],
        [0.0225, 0.0644, 0.0905, 0.0196, 0.0395, 0.0461, 0.0918, 0.0571, 0.0149,
         0.0469, 0.0111, 0.1113, 0.0149, 0.0144, 0.0150, 0.0278, 0.1113, 0.0330,
         0.0196, 0.0162, 0.0471, 0.0330, 0.0419, 0.0101],
        [0.0169, 0.0877, 0.1000, 0.0200, 0.0332, 0.0425, 0.0993, 0.0688, 0.0165,
         0.0516, 0.0100, 0.1014, 0.0165, 0.0109, 0.0135, 0.0245, 0.1014, 0.0325,
         0.0184, 0.0119, 0.0499, 0.0325, 0.0310, 0.0091],
        [0.0272, 0.0770, 0.0746, 0.0262, 0.0378, 0.0475, 0.0881, 0.0618, 0.0196,
         0.0511, 0.0166, 0.0860, 0.0196, 0.0166, 0.0192, 0.0359, 0.0860, 0.0408,
         0.0220, 0.0194, 0.0410, 0.0408, 0.0334, 0.0118],
        [0.0127, 0.1061, 0.0837, 0.0196, 0.0331, 0.0499, 0.1114, 0.0540, 0.0132,
         0.0401, 0.0078, 0.1290, 0.0132, 0.0096, 0.0095, 0.0209, 0.1290, 0.0314,
         0.0122, 0.0102, 0.0363, 0.0314, 0.0290, 0.0068],
        [0.0191, 0.0943, 0.0912, 0.0214, 0.0343, 0.0342, 0.0823, 0.0602, 0.0130,
         0.0486, 0.0110, 0.1153, 0.0130, 0.0094, 0.0107, 0.0297, 0.1153, 0.0356,
         0.0182, 0.0134, 0.0570, 0.0356, 0.0299, 0.0072],
        [0.0189, 0.0914, 0.0884, 0.0258, 0.0392, 0.0372, 0.0900, 0.0601, 0.0162,
         0.0443, 0.0100, 0.1174, 0.0162, 0.0116, 0.0158, 0.0242, 0.1174, 0.0324,
         0.0167, 0.0130, 0.0414, 0.0324, 0.0277, 0.0125],
        [0.0191, 0.0792, 0.0847, 0.0245, 0.0349, 0.0411, 0.1065, 0.0596, 0.0130,
         0.0479, 0.0092, 0.1092, 0.0130, 0.0135, 0.0123, 0.0260, 0.1092, 0.0422,
         0.0173, 0.0118, 0.0482, 0.0422, 0.0267, 0.0088],
        [0.0127, 0.1061, 0.0837, 0.0196, 0.0331, 0.0499, 0.1114, 0.0540, 0.0132,
         0.0401, 0.0078, 0.1290, 0.0132, 0.0096, 0.0095, 0.0209, 0.1290, 0.0314,
         0.0122, 0.0102, 0.0363, 0.0314, 0.0290, 0.0068],
        [0.0250, 0.0903, 0.0684, 0.0282, 0.0418, 0.0387, 0.0812, 0.0642, 0.0151,
         0.0555, 0.0139, 0.0963, 0.0151, 0.0143, 0.0151, 0.0307, 0.0963, 0.0349,
         0.0253, 0.0199, 0.0419, 0.0349, 0.0418, 0.0113],
        [0.0188, 0.0694, 0.0880, 0.0248, 0.0419, 0.0331, 0.0819, 0.0555, 0.0163,
         0.0505, 0.0145, 0.1174, 0.0163, 0.0125, 0.0100, 0.0392, 0.1174, 0.0321,
         0.0197, 0.0153, 0.0450, 0.0321, 0.0389, 0.0093]])