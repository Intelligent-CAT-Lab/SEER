67549
Test: public void testSimpleEnum() throws Exception { final Set<String> values = new TreeSet<String>(); ObjectWriter w = MAPPER.writer(SerializationFeature.WRITE_ENUMS_USING_TO_STRING); w.acceptJsonFormatVisitor(TestEnum.class, new JsonFormatVisitorWrapper.Base() { @Override public JsonStringFormatVisitor expectStringFormat(JavaType type) { return new JsonStringFormatVisitor() { @Override public void enumTypes(Set<String> enums) { values.addAll(enums); } @Override public void format(JsonValueFormat format) { } }; } }); TreeSet<String> exp = new TreeSet<String>(Arrays.asList( "ToString:A", "ToString:B", "ToString:C" )); }
Code: public void acceptJsonFormatVisitor(JsonFormatVisitorWrapper visitor, JavaType typeHint){if (true) {visitIntFormat(visitor, typeHint, JsonParser.NumberType.BIG_INTEGER);} else {if (((Class<?>) handledType()) == BigDecimal.class) {;} else {}
[[0.04323912 0.03587125 0.04156021 0.05586565 0.06927307 0.03720704
 0.1051279  0.07181883 0.08286247 0.04519589 0.05813722 0.05182612
 0.04964707 0.02852779 0.06614819 0.04146278 0.02186023 0.05813722
 0.0362319 ]
[0.03235292 0.02934422 0.03547168 0.04056621 0.07825871 0.04119175
 0.15913112 0.06280829 0.10314226 0.04343079 0.06287936 0.03565209
 0.04126008 0.02045845 0.04607417 0.04254803 0.01812855 0.06287938
 0.04442188]
[0.03252771 0.0292421  0.04634973 0.05251686 0.06912619 0.03774598
 0.10827414 0.06303032 0.11106072 0.04509318 0.05751017 0.03861036
 0.05163315 0.01945446 0.05620208 0.05892921 0.0236327  0.05751018
 0.04155078]
[0.04019985 0.03017781 0.03345577 0.05071841 0.06874663 0.03524975
 0.12060337 0.04913221 0.08552685 0.04316346 0.06851931 0.04507285
 0.06273973 0.02118272 0.06087999 0.04763311 0.02224893 0.06851931
 0.04622994]
[0.04268704 0.02467999 0.03412899 0.04913881 0.07679632 0.03337164
 0.13082922 0.0795009  0.09147375 0.04913279 0.05537907 0.02932919
 0.05652567 0.02074766 0.06290444 0.04898249 0.02028498 0.05537909
 0.03872802]
[0.03837121 0.03865243 0.03953734 0.04791506 0.07073195 0.04092382
 0.12529698 0.05774294 0.07661669 0.04120828 0.06664987 0.04535866
 0.04476486 0.02683835 0.0532586  0.04195289 0.02710047 0.06664988
 0.05042979]
[0.02979477 0.02439584 0.03765928 0.04722987 0.06826071 0.03593861
 0.16652413 0.05963573 0.10424512 0.04015776 0.06937549 0.03331909
 0.04518967 0.01563088 0.05353602 0.04233037 0.0153868  0.06937553
 0.04201436]
[0.03008724 0.02798641 0.04598586 0.05449374 0.07878874 0.04542624
 0.12208308 0.07241159 0.10046799 0.03896599 0.06035618 0.03130286
 0.05050807 0.01731283 0.04959891 0.03932619 0.02547099 0.0603562
 0.0490709 ]
[0.03612234 0.02718798 0.04430219 0.05901697 0.06837614 0.03864617
 0.14416987 0.05914173 0.11047275 0.03825806 0.06238222 0.03000005
 0.04982608 0.01845554 0.05483465 0.04384448 0.01703851 0.06238226
 0.03554198]
[0.03318895 0.02850178 0.04748584 0.05298381 0.07794935 0.0353831
 0.14055276 0.06302693 0.10057481 0.04044013 0.05580201 0.02966539
 0.05168469 0.01786238 0.05395612 0.04155465 0.02124034 0.05580202
 0.05234498]
[0.03315351 0.02559389 0.0374214  0.04942375 0.07663332 0.03893324
 0.1480343  0.06213053 0.07703359 0.04544586 0.06419636 0.03560832
 0.0483517  0.01899368 0.05125218 0.06218008 0.02234331 0.06419639
 0.03907461]
[0.02851474 0.02620086 0.04781623 0.05358899 0.06468716 0.04911232
 0.12598222 0.07158594 0.08853491 0.04099046 0.06046439 0.03400311
 0.07250052 0.02049721 0.0614188  0.04460319 0.01620599 0.0604644
 0.03282863]
[0.0390974  0.03390425 0.03079434 0.04564377 0.06594553 0.04136649
 0.12681462 0.05936345 0.07469077 0.05577102 0.07435092 0.04513232
 0.0383742  0.02179937 0.04858872 0.04743398 0.02559904 0.07435095
 0.05097888]
[0.03904764 0.03250312 0.05112237 0.05200862 0.07248656 0.03767318
 0.11655502 0.07242662 0.09570996 0.04438565 0.05472714 0.03800043
 0.0554237  0.02460191 0.06012376 0.04206156 0.01792409 0.05472714
 0.03849147]
[0.02266985 0.02505978 0.04368324 0.04334198 0.07329922 0.03244722
 0.16415511 0.06176791 0.14419122 0.03900477 0.06044544 0.02684532
 0.03970435 0.0156643  0.055522   0.04281264 0.01628032 0.06044546
 0.03265991]
[0.03832427 0.031785   0.03524457 0.04942095 0.07868564 0.03747004
 0.15707824 0.06888175 0.08763631 0.04521412 0.06215398 0.03380506
 0.04413318 0.02157379 0.0452494  0.03542826 0.02413536 0.06215401
 0.04162607]
[0.04095434 0.03182676 0.03428338 0.05658653 0.07021279 0.03882337
 0.15236408 0.06384666 0.08489805 0.03708512 0.06834404 0.03639678
 0.04766179 0.02043116 0.04603599 0.03775645 0.0260243  0.06834406
 0.03812446]
[0.03315351 0.02559389 0.03742139 0.04942375 0.0766333  0.03893324
 0.1480343  0.06213054 0.07703355 0.04544585 0.06419636 0.03560832
 0.04835171 0.01899368 0.05125218 0.06218009 0.02234331 0.06419637
 0.03907461]
[0.04738556 0.03304794 0.0429155  0.05740665 0.07446374 0.0363101
 0.1349436  0.06518707 0.08440612 0.04678392 0.05238635 0.04431183
 0.04250485 0.02294288 0.04839773 0.04698248 0.02091279 0.05238637
 0.04632448]]