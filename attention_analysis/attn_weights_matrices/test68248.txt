68248
Test: @Test public void testMatches() { Document doc = Jsoup.parse("<p id=1>The <i>Rain</i></p> <p id=2>There are 99 bottles.</p> <p id=3>Harder (this)</p> <p id=4>Rain</p>"); Elements p1 = doc.select("p:matches(The rain)"); Elements p2 = doc.select("p:matches((?i)the rain)"); Elements p4 = doc.select("p:matches((?i)^rain$)"); Elements p5 = doc.select("p:matches(\\d+)"); Elements p6 = doc.select("p:matches(\\w+\\s+\\(\\w+\\))"); Elements p7 = doc.select("p:matches((?i)the):has(i)"); }
Code: private Elements select() { tq.consumeWhitespace(); if (tq.matchesAny(combinators)) { elements.add(root); combinator(tq.consume().toString()); } else if (tq.matches(":has(")) { elements.addAll(root.getAllElements()); } else { addElements(findElements()); } while (!tq.isEmpty()) { boolean seenWhite = tq.consumeWhitespace(); if (tq.matchChomp(",")) { while (!tq.isEmpty()) { String subQuery = tq.chompTo(","); elements.addAll(select(subQuery, root)); } } else if (tq.matchesAny(combinators)) { combinator(tq.consume().toString()); } else if (seenWhite) { combinator(" "); } else { Elements candidates = findElements(); intersectElements(filterForSelf(elements, candidates)); } } return new Elements(elements); }
tensor([[0.0145, 0.0068, 0.0114,  ..., 0.0053, 0.0176, 0.0045],
        [0.0130, 0.0060, 0.0121,  ..., 0.0050, 0.0149, 0.0040],
        [0.0096, 0.0066, 0.0127,  ..., 0.0045, 0.0219, 0.0035],
        ...,
        [0.0130, 0.0064, 0.0110,  ..., 0.0055, 0.0170, 0.0047],
        [0.0118, 0.0066, 0.0131,  ..., 0.0045, 0.0156, 0.0039],
        [0.0114, 0.0059, 0.0122,  ..., 0.0041, 0.0161, 0.0040]])