17481
Test: public void testRecordTypeLeastSuperType1() { RecordTypeBuilder builder = new RecordTypeBuilder(registry); builder.addProperty("a", NUMBER_TYPE); builder.addProperty("b", STRING_TYPE); builder.addProperty("c", STRING_TYPE); JSType subRecordType = builder.build(); JSType leastSupertype = recordType.getLeastSupertype(subRecordType); }
Code: public JSType getLeastSupertype(JSType that) { if (!that.isUnknownType()) { for (JSType alternate : alternates) { if (!alternate.isUnknownType() && that.isSubtype(alternate)) { return this; } } } return getLeastSupertype(this, that); }
tensor([[0.0271, 0.0711, 0.0115, 0.0486, 0.0339, 0.0729, 0.0244, 0.0339, 0.0268,
         0.0406, 0.1041, 0.0241, 0.0481, 0.0339, 0.0729, 0.0315, 0.0170, 0.0815,
         0.0339, 0.0296, 0.0228, 0.0111, 0.0111, 0.0111, 0.0296, 0.0165, 0.0194,
         0.0111],
        [0.0188, 0.0912, 0.0099, 0.0542, 0.0375, 0.0742, 0.0213, 0.0375, 0.0234,
         0.0370, 0.1198, 0.0179, 0.0400, 0.0375, 0.0742, 0.0243, 0.0153, 0.0789,
         0.0375, 0.0304, 0.0196, 0.0091, 0.0091, 0.0091, 0.0304, 0.0145, 0.0183,
         0.0091],
        [0.0220, 0.0864, 0.0132, 0.0543, 0.0346, 0.0755, 0.0254, 0.0346, 0.0273,
         0.0405, 0.1247, 0.0160, 0.0447, 0.0346, 0.0755, 0.0211, 0.0165, 0.0795,
         0.0346, 0.0264, 0.0189, 0.0100, 0.0100, 0.0100, 0.0264, 0.0137, 0.0138,
         0.0100],
        [0.0167, 0.0846, 0.0077, 0.0620, 0.0358, 0.0786, 0.0174, 0.0358, 0.0273,
         0.0317, 0.1250, 0.0136, 0.0524, 0.0358, 0.0786, 0.0306, 0.0147, 0.0803,
         0.0358, 0.0277, 0.0179, 0.0080, 0.0080, 0.0080, 0.0277, 0.0155, 0.0146,
         0.0080],
        [0.0288, 0.0448, 0.0161, 0.0689, 0.0410, 0.0503, 0.0248, 0.0410, 0.0297,
         0.0355, 0.0981, 0.0230, 0.0498, 0.0410, 0.0503, 0.0232, 0.0243, 0.0769,
         0.0410, 0.0338, 0.0233, 0.0153, 0.0153, 0.0153, 0.0338, 0.0195, 0.0201,
         0.0153],
        [0.0154, 0.1211, 0.0048, 0.0696, 0.0324, 0.0869, 0.0206, 0.0324, 0.0194,
         0.0246, 0.1456, 0.0113, 0.0412, 0.0324, 0.0869, 0.0180, 0.0079, 0.1070,
         0.0324, 0.0203, 0.0123, 0.0050, 0.0050, 0.0050, 0.0203, 0.0085, 0.0088,
         0.0050],
        [0.0240, 0.0810, 0.0106, 0.0589, 0.0441, 0.0717, 0.0269, 0.0441, 0.0257,
         0.0385, 0.1008, 0.0144, 0.0434, 0.0441, 0.0717, 0.0194, 0.0165, 0.0765,
         0.0441, 0.0345, 0.0152, 0.0071, 0.0071, 0.0071, 0.0345, 0.0158, 0.0152,
         0.0071],
        [0.0288, 0.0448, 0.0161, 0.0689, 0.0410, 0.0503, 0.0248, 0.0410, 0.0297,
         0.0355, 0.0981, 0.0230, 0.0498, 0.0410, 0.0503, 0.0232, 0.0243, 0.0769,
         0.0410, 0.0338, 0.0233, 0.0153, 0.0153, 0.0153, 0.0338, 0.0195, 0.0201,
         0.0153],
        [0.0259, 0.0812, 0.0093, 0.0524, 0.0412, 0.0794, 0.0220, 0.0412, 0.0266,
         0.0406, 0.1185, 0.0151, 0.0370, 0.0412, 0.0794, 0.0297, 0.0162, 0.0731,
         0.0412, 0.0275, 0.0161, 0.0071, 0.0071, 0.0071, 0.0275, 0.0162, 0.0130,
         0.0071],
        [0.0222, 0.0906, 0.0088, 0.0520, 0.0432, 0.0682, 0.0266, 0.0432, 0.0286,
         0.0376, 0.1143, 0.0150, 0.0442, 0.0432, 0.0682, 0.0191, 0.0130, 0.0818,
         0.0432, 0.0278, 0.0176, 0.0082, 0.0082, 0.0082, 0.0278, 0.0178, 0.0131,
         0.0082],
        [0.0400, 0.0568, 0.0130, 0.0563, 0.0373, 0.0671, 0.0268, 0.0373, 0.0270,
         0.0449, 0.0820, 0.0242, 0.0451, 0.0373, 0.0671, 0.0241, 0.0232, 0.0692,
         0.0373, 0.0312, 0.0298, 0.0130, 0.0130, 0.0130, 0.0312, 0.0182, 0.0218,
         0.0130],
        [0.0255, 0.0820, 0.0116, 0.0525, 0.0382, 0.0628, 0.0305, 0.0382, 0.0264,
         0.0352, 0.1080, 0.0173, 0.0449, 0.0382, 0.0628, 0.0228, 0.0223, 0.0702,
         0.0382, 0.0321, 0.0200, 0.0134, 0.0134, 0.0134, 0.0321, 0.0199, 0.0150,
         0.0134],
        [0.0226, 0.0887, 0.0079, 0.0524, 0.0333, 0.0718, 0.0247, 0.0333, 0.0280,
         0.0268, 0.1233, 0.0141, 0.0516, 0.0333, 0.0718, 0.0234, 0.0142, 0.0962,
         0.0333, 0.0299, 0.0195, 0.0092, 0.0092, 0.0092, 0.0299, 0.0189, 0.0143,
         0.0092],
        [0.0288, 0.0448, 0.0161, 0.0689, 0.0410, 0.0503, 0.0248, 0.0410, 0.0297,
         0.0355, 0.0981, 0.0230, 0.0498, 0.0410, 0.0503, 0.0232, 0.0243, 0.0769,
         0.0410, 0.0338, 0.0233, 0.0153, 0.0153, 0.0153, 0.0338, 0.0195, 0.0201,
         0.0153],
        [0.0154, 0.1211, 0.0048, 0.0696, 0.0324, 0.0869, 0.0206, 0.0324, 0.0194,
         0.0246, 0.1456, 0.0113, 0.0412, 0.0324, 0.0869, 0.0180, 0.0079, 0.1070,
         0.0324, 0.0203, 0.0123, 0.0050, 0.0050, 0.0050, 0.0203, 0.0085, 0.0088,
         0.0050],
        [0.0237, 0.0982, 0.0105, 0.0625, 0.0329, 0.0723, 0.0266, 0.0329, 0.0236,
         0.0400, 0.1254, 0.0187, 0.0396, 0.0329, 0.0723, 0.0201, 0.0138, 0.0864,
         0.0329, 0.0254, 0.0178, 0.0096, 0.0096, 0.0096, 0.0254, 0.0138, 0.0137,
         0.0096],
        [0.0209, 0.0883, 0.0084, 0.0653, 0.0373, 0.0629, 0.0188, 0.0373, 0.0236,
         0.0319, 0.1139, 0.0207, 0.0454, 0.0373, 0.0629, 0.0231, 0.0137, 0.0995,
         0.0373, 0.0267, 0.0189, 0.0122, 0.0122, 0.0122, 0.0267, 0.0131, 0.0173,
         0.0122],
        [0.0242, 0.0620, 0.0157, 0.0542, 0.0399, 0.0654, 0.0212, 0.0399, 0.0279,
         0.0385, 0.0928, 0.0252, 0.0442, 0.0399, 0.0654, 0.0215, 0.0215, 0.0747,
         0.0399, 0.0338, 0.0227, 0.0147, 0.0147, 0.0147, 0.0338, 0.0166, 0.0207,
         0.0147],
        [0.0288, 0.0448, 0.0161, 0.0689, 0.0410, 0.0503, 0.0248, 0.0410, 0.0297,
         0.0355, 0.0981, 0.0230, 0.0498, 0.0410, 0.0503, 0.0232, 0.0243, 0.0769,
         0.0410, 0.0338, 0.0233, 0.0153, 0.0153, 0.0153, 0.0338, 0.0195, 0.0201,
         0.0153],
        [0.0172, 0.0825, 0.0103, 0.0766, 0.0324, 0.0715, 0.0219, 0.0324, 0.0297,
         0.0366, 0.1293, 0.0157, 0.0381, 0.0324, 0.0715, 0.0213, 0.0119, 0.1108,
         0.0324, 0.0251, 0.0154, 0.0089, 0.0089, 0.0089, 0.0251, 0.0121, 0.0119,
         0.0089],
        [0.0268, 0.0976, 0.0097, 0.0557, 0.0402, 0.0650, 0.0199, 0.0402, 0.0212,
         0.0296, 0.1034, 0.0173, 0.0504, 0.0402, 0.0650, 0.0244, 0.0206, 0.0727,
         0.0402, 0.0326, 0.0165, 0.0111, 0.0111, 0.0111, 0.0326, 0.0159, 0.0179,
         0.0111],
        [0.0197, 0.0711, 0.0105, 0.0560, 0.0425, 0.0741, 0.0244, 0.0425, 0.0263,
         0.0343, 0.1008, 0.0164, 0.0468, 0.0425, 0.0741, 0.0223, 0.0159, 0.0665,
         0.0425, 0.0406, 0.0175, 0.0095, 0.0095, 0.0095, 0.0406, 0.0177, 0.0161,
         0.0095],
        [0.0197, 0.0711, 0.0105, 0.0560, 0.0425, 0.0741, 0.0244, 0.0425, 0.0263,
         0.0343, 0.1008, 0.0164, 0.0468, 0.0425, 0.0741, 0.0223, 0.0159, 0.0665,
         0.0425, 0.0406, 0.0175, 0.0095, 0.0095, 0.0095, 0.0406, 0.0177, 0.0161,
         0.0095],
        [0.0197, 0.0711, 0.0105, 0.0560, 0.0425, 0.0741, 0.0244, 0.0425, 0.0263,
         0.0343, 0.1008, 0.0164, 0.0468, 0.0425, 0.0741, 0.0223, 0.0159, 0.0665,
         0.0425, 0.0406, 0.0175, 0.0095, 0.0095, 0.0095, 0.0406, 0.0177, 0.0161,
         0.0095],
        [0.0172, 0.0825, 0.0103, 0.0766, 0.0324, 0.0715, 0.0219, 0.0324, 0.0297,
         0.0366, 0.1293, 0.0157, 0.0381, 0.0324, 0.0715, 0.0213, 0.0119, 0.1108,
         0.0324, 0.0251, 0.0154, 0.0089, 0.0089, 0.0089, 0.0251, 0.0121, 0.0119,
         0.0089],
        [0.0216, 0.0959, 0.0109, 0.0644, 0.0319, 0.0694, 0.0250, 0.0319, 0.0274,
         0.0334, 0.1079, 0.0188, 0.0414, 0.0319, 0.0694, 0.0194, 0.0119, 0.1032,
         0.0319, 0.0325, 0.0174, 0.0102, 0.0102, 0.0102, 0.0325, 0.0127, 0.0165,
         0.0102],
        [0.0148, 0.0900, 0.0067, 0.0616, 0.0455, 0.0765, 0.0193, 0.0455, 0.0231,
         0.0276, 0.1362, 0.0145, 0.0333, 0.0455, 0.0765, 0.0216, 0.0088, 0.0841,
         0.0455, 0.0297, 0.0129, 0.0076, 0.0076, 0.0076, 0.0297, 0.0113, 0.0094,
         0.0076],
        [0.0197, 0.0711, 0.0105, 0.0560, 0.0425, 0.0741, 0.0244, 0.0425, 0.0263,
         0.0343, 0.1008, 0.0164, 0.0468, 0.0425, 0.0741, 0.0223, 0.0159, 0.0665,
         0.0425, 0.0406, 0.0175, 0.0095, 0.0095, 0.0095, 0.0406, 0.0177, 0.0161,
         0.0095]])