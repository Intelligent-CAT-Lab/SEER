63862
Test: public void testSimple() { TextBuffer tb = new TextBuffer(new BufferRecycler()); tb.append('a'); tb.append(new char[] { 'X', 'b' }, 1, 1); tb.append("c", 0, 1); }
Code: public char[] expandCurrentSegment() { final char[] curr = _currentSegment; final int len = curr.length; int newLen = len + (len >> 1); if (newLen > MAX_SEGMENT_LEN) { newLen = len + (len >> 2); } return (_currentSegment = Arrays.copyOf(curr, newLen)); }
tensor([[0.0186, 0.0063, 0.0167,  ..., 0.0729, 0.0363, 0.0086],
        [0.0134, 0.0055, 0.0128,  ..., 0.0859, 0.0456, 0.0055],
        [0.0175, 0.0064, 0.0136,  ..., 0.0863, 0.0402, 0.0062],
        ...,
        [0.0185, 0.0045, 0.0176,  ..., 0.0809, 0.0476, 0.0063],
        [0.0194, 0.0059, 0.0189,  ..., 0.0643, 0.0467, 0.0087],
        [0.0135, 0.0062, 0.0150,  ..., 0.0868, 0.0374, 0.0078]])