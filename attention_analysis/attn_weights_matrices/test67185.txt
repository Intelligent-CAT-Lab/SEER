67185
Test: public void testDeserializeMyContainer() throws Exception { Module module = new SimpleModule().addAbstractTypeMapping(IContainer.class, MyContainer.class); final ObjectMapper mapper = new ObjectMapper().registerModule(module); String json = "{\"ts\": [ { \"msg\": \"hello\"} ] }"; final Object o = mapper.readValue(json, mapper.getTypeFactory().constructParametricType(IContainer.class, MyObject.class)); MyContainer<?> myc = (MyContainer<?>) o; Object value = myc.ts.get(0); }
Code: public JavaType constructParametricType(Class<?> parametrized, Class<?>... parameterClasses) { int len = parameterClasses.length; JavaType[] pt = new JavaType[len]; for (int i = 0; i < len; ++i) { pt[i] = _fromClass(null, parameterClasses[i], EMPTY_BINDINGS); } return constructParametricType(parametrized, pt); }
tensor([[0.0228, 0.0377, 0.0576,  ..., 0.0175, 0.0275, 0.0097],
        [0.0240, 0.0436, 0.0518,  ..., 0.0126, 0.0297, 0.0086],
        [0.0214, 0.0391, 0.0739,  ..., 0.0124, 0.0341, 0.0071],
        ...,
        [0.0173, 0.0368, 0.0878,  ..., 0.0093, 0.0260, 0.0060],
        [0.0183, 0.0381, 0.0633,  ..., 0.0133, 0.0344, 0.0087],
        [0.0177, 0.0396, 0.0594,  ..., 0.0123, 0.0273, 0.0088]])