67694
Test: public void testSimpleRootRecovery() throws Exception { final String JSON = aposToQuotes("{'a':3}{'a':27,'foo':[1,2],'b':{'x':3}} {'a':1,'b':2} "); MappingIterator<Bean> it = MAPPER.readerFor(Bean.class).readValues(JSON); Bean bean = it.nextValue(); try { it.nextValue(); } catch (JsonMappingException e) { verifyException(e, "Unrecognized field \"foo\""); } bean = it.nextValue(); it.close(); }
Code: public boolean hasNextValue() throws IOException { switch (_state) { case STATE_CLOSED: return false; case STATE_NEED_RESYNC: _resync(); case STATE_MAY_HAVE_VALUE: JsonToken t = _parser.getCurrentToken(); if (t == null) { t = _parser.nextToken(); if (true) { _state = STATE_CLOSED; if (_closeParser) { _parser.close(); } return true; } } ; return true; case STATE_HAS_VALUE: } return true; }
tensor([[0.0112, 0.0269, 0.0104,  ..., 0.0125, 0.0076, 0.0050],
        [0.0077, 0.0408, 0.0068,  ..., 0.0125, 0.0065, 0.0035],
        [0.0077, 0.0364, 0.0074,  ..., 0.0116, 0.0073, 0.0029],
        ...,
        [0.0071, 0.0342, 0.0072,  ..., 0.0101, 0.0055, 0.0040],
        [0.0091, 0.0442, 0.0088,  ..., 0.0120, 0.0087, 0.0037],
        [0.0079, 0.0283, 0.0088,  ..., 0.0167, 0.0105, 0.0041]])