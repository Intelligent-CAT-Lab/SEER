64108
Test: public void testSimple() { TextBuffer tb = new TextBuffer(new BufferRecycler()); tb.append('a'); tb.append(new char[] { 'X', 'b' }, 1, 1); tb.append("c", 0, 1); }
Code: public char[] expandCurrentSegment(){final char[] curr = _currentSegment;final int len = curr.length;int newLen = (len == MAX_SEGMENT_LEN) ? (MAX_SEGMENT_LEN+1) : Math.min(MAX_SEGMENT_LEN, len + (len >> 1));return (_currentSegment = Arrays.copyOf(curr, newLen));}
[[0.02464941 0.00844619 0.02886336 0.00844619 0.02845892 0.01580963
 0.06079276 0.01466164 0.025512   0.01580963 0.02291287 0.0421763
 0.01580963 0.0479323  0.03754052 0.05581293 0.03951256 0.04648946
 0.02471481 0.03235774 0.025512   0.02007967 0.0479323  0.04147238
 0.03701451 0.09319032 0.01580963 0.09451978 0.02776053]
[0.01742011 0.00731665 0.01709498 0.00731665 0.02325684 0.01688838
 0.0487037  0.00950013 0.01920814 0.01688838 0.02113796 0.03686348
 0.01688838 0.04007601 0.03403142 0.07171077 0.04186809 0.04777163
 0.01353004 0.03970487 0.01920814 0.01570335 0.04007601 0.03514965
 0.0446023  0.15222877 0.01688838 0.10843738 0.0205294 ]
[0.02167981 0.00987583 0.02199052 0.00987583 0.02614305 0.01821603
 0.04442327 0.01270471 0.01988986 0.01821603 0.02249184 0.03459674
 0.01821603 0.04690237 0.03229062 0.05668785 0.04235522 0.04991832
 0.01543122 0.03869047 0.01988986 0.0233513  0.04690237 0.03668816
 0.04000027 0.12344598 0.01821603 0.10879713 0.02211326]
[0.01742011 0.00731665 0.01709498 0.00731665 0.02325684 0.01688838
 0.0487037  0.00950013 0.01920814 0.01688838 0.02113796 0.03686348
 0.01688838 0.04007601 0.03403142 0.07171077 0.04186809 0.04777163
 0.01353004 0.03970487 0.01920814 0.01570335 0.04007601 0.03514965
 0.0446023  0.15222877 0.01688838 0.10843738 0.0205294 ]
[0.02061571 0.00832513 0.02474619 0.00832513 0.02867678 0.01522375
 0.0460231  0.01059594 0.01953907 0.01522375 0.02488107 0.03561082
 0.01522375 0.05286648 0.02958134 0.05773743 0.04529186 0.05398945
 0.01653556 0.03406613 0.01953907 0.01571596 0.05286648 0.03589341
 0.03722287 0.12875415 0.01522375 0.11150642 0.02019955]
[0.02939725 0.01185619 0.02805274 0.01185619 0.03075718 0.02435634
 0.04768199 0.01778576 0.02407664 0.02435634 0.02591638 0.04372735
 0.02435634 0.0479632  0.03319466 0.05742551 0.04049168 0.0439908
 0.02501258 0.03481875 0.02407664 0.02598615 0.0479632  0.03295155
 0.04390477 0.05955125 0.02435634 0.08681088 0.02732539]
[0.02264549 0.00887039 0.0255459  0.00887039 0.0262702  0.01997039
 0.04938982 0.01337861 0.02477542 0.01997039 0.02993007 0.03980347
 0.01997039 0.06914614 0.02887619 0.055988   0.04394932 0.04940704
 0.01971091 0.02662675 0.02477542 0.01742845 0.06914614 0.03698187
 0.03480054 0.08027586 0.01997039 0.09368555 0.01984044]
[0.01641671 0.00845437 0.01966142 0.00845437 0.01786217 0.01382431
 0.05567458 0.01127008 0.01961803 0.01382431 0.02200753 0.03824009
 0.01382431 0.06203578 0.0397231  0.05898019 0.04417619 0.04705998
 0.01888665 0.0326179  0.01961803 0.01917309 0.06203578 0.03733613
 0.03647032 0.12177165 0.01382431 0.1060125  0.02114605]
[0.01882884 0.00808116 0.02496057 0.00808116 0.02335229 0.01656551
 0.05829434 0.01044789 0.02119492 0.01656551 0.02257775 0.03286459
 0.01656551 0.04966285 0.02505823 0.05064616 0.04289315 0.04748041
 0.01865245 0.0344671  0.02119492 0.01818638 0.04966285 0.03891234
 0.03443707 0.14797273 0.01656551 0.10775428 0.01807353]
[0.02939725 0.01185619 0.02805274 0.01185619 0.03075718 0.02435634
 0.04768199 0.01778576 0.02407664 0.02435634 0.02591638 0.04372735
 0.02435634 0.0479632  0.03319466 0.05742551 0.04049168 0.0439908
 0.02501258 0.03481875 0.02407664 0.02598615 0.0479632  0.03295155
 0.04390477 0.05955125 0.02435634 0.08681088 0.02732539]
[0.01937077 0.00811485 0.02304416 0.00811485 0.02376972 0.02039411
 0.06164864 0.01477987 0.02258288 0.02039411 0.02455184 0.03507571
 0.02039411 0.04536405 0.03532819 0.05815881 0.04101487 0.05150715
 0.01920304 0.03667156 0.02258288 0.02225538 0.04536405 0.03571963
 0.04104036 0.10744479 0.02039411 0.09183846 0.02387707]
[0.02212083 0.0079665  0.02625737 0.0079665  0.02355179 0.0148406
 0.0506517  0.01051718 0.02625433 0.0148406  0.02584814 0.03679714
 0.0148406  0.05184712 0.03274108 0.05199723 0.04546831 0.0508597
 0.01830014 0.03600432 0.02625433 0.01946104 0.05184712 0.03427495
 0.03915678 0.11001083 0.0148406  0.11227222 0.02221094]
[0.02939725 0.01185619 0.02805274 0.01185619 0.03075718 0.02435634
 0.04768199 0.01778576 0.02407664 0.02435634 0.02591638 0.04372735
 0.02435634 0.0479632  0.03319466 0.05742551 0.04049168 0.0439908
 0.02501258 0.03481875 0.02407664 0.02598615 0.0479632  0.03295155
 0.04390477 0.05955125 0.02435634 0.08681088 0.02732539]
[0.02260044 0.00669219 0.02177811 0.00669219 0.02485429 0.01649256
 0.04590284 0.0108313  0.0184203  0.01649256 0.02486046 0.03979705
 0.01649256 0.0508406  0.02430071 0.04861219 0.05795391 0.04444193
 0.0195661  0.03067184 0.0184203  0.02108241 0.0508406  0.03921954
 0.03604699 0.12159709 0.01649256 0.12715214 0.02085425]
[0.0134461  0.00594516 0.01562776 0.00594516 0.01889245 0.01426438
 0.05177583 0.00779637 0.02092329 0.01426438 0.0214244  0.03119258
 0.01426438 0.05198905 0.03236329 0.05769508 0.03597078 0.0371529
 0.01961563 0.0321961  0.02092329 0.01855117 0.05198905 0.03960504
 0.03601233 0.15376174 0.01426438 0.14515346 0.01699451]
[0.02192815 0.00777601 0.02529063 0.00777601 0.02306037 0.01591378
 0.05799388 0.01257764 0.02051107 0.01591378 0.02220646 0.0344097
 0.01591378 0.04906591 0.03107321 0.04777766 0.03931037 0.04806398
 0.02228123 0.02615016 0.02051107 0.02122349 0.04906591 0.03736792
 0.03501248 0.14301783 0.01591379 0.11264039 0.02025331]
[0.01928112 0.00593015 0.02129049 0.00593015 0.02139355 0.01306686
 0.05324356 0.0081038  0.01850266 0.01306686 0.01754329 0.030623
 0.01306686 0.05431937 0.02320884 0.04970995 0.03687134 0.04139103
 0.02331912 0.0285638  0.01850266 0.0176754  0.05431937 0.03735635
 0.03231379 0.15313636 0.01306685 0.15593228 0.0192712 ]
[0.02092625 0.01016977 0.01763448 0.01016977 0.02485189 0.01335004
 0.04097122 0.0107165  0.02574871 0.01335004 0.02109454 0.03933061
 0.01335004 0.05182732 0.03031074 0.05069581 0.04635228 0.04887963
 0.01790307 0.03864257 0.02574871 0.02001196 0.05182732 0.03918281
 0.03395662 0.11927618 0.01335003 0.12985393 0.02051711]
[0.02495756 0.00994253 0.02307001 0.00994253 0.03485835 0.01958833
 0.04722383 0.01523712 0.02075001 0.01958833 0.02284686 0.03965213
 0.01958833 0.04039618 0.02992852 0.06560853 0.05227094 0.05015785
 0.0178326  0.03593384 0.02075001 0.02204552 0.04039618 0.04321613
 0.04205867 0.08789659 0.01958833 0.09463075 0.03004344]
[0.02123099 0.00898013 0.02267919 0.00898013 0.02831604 0.0159681
 0.05353168 0.01204301 0.02811075 0.0159681  0.02449317 0.04720575
 0.0159681  0.04077736 0.03802185 0.05532829 0.04055024 0.05035957
 0.01998156 0.03010795 0.02811075 0.02443949 0.04077736 0.04711685
 0.04848706 0.10153601 0.0159681  0.09434217 0.02062028]
[0.01882884 0.00808116 0.02496057 0.00808116 0.02335229 0.01656551
 0.05829434 0.01044789 0.02119492 0.01656551 0.02257775 0.03286459
 0.01656551 0.04966285 0.02505823 0.05064616 0.04289315 0.04748041
 0.01865245 0.0344671  0.02119492 0.01818638 0.04966285 0.03891234
 0.03443707 0.14797273 0.01656551 0.10775428 0.01807353]
[0.0232248  0.0084685  0.02124315 0.0084685  0.02610234 0.01687992
 0.05282483 0.0122955  0.02365208 0.01687992 0.01898403 0.03749284
 0.01687992 0.05471376 0.02958646 0.05372414 0.05055777 0.04132285
 0.01727717 0.0390062  0.02365208 0.02000177 0.05471376 0.03591506
 0.03892429 0.10478713 0.01687992 0.11633207 0.01920919]
[0.02260044 0.00669219 0.02177811 0.00669219 0.02485429 0.01649256
 0.04590284 0.0108313  0.0184203  0.01649256 0.02486046 0.03979705
 0.01649256 0.0508406  0.02430071 0.04861219 0.05795391 0.04444193
 0.0195661  0.03067184 0.0184203  0.02108241 0.0508406  0.03921954
 0.03604699 0.12159709 0.01649256 0.12715214 0.02085425]
[0.02548259 0.01238074 0.02660717 0.01238074 0.02507902 0.0153669
 0.05081726 0.01169924 0.02099969 0.0153669  0.0243618  0.03467263
 0.0153669  0.05228612 0.03289652 0.05528532 0.04677275 0.04434498
 0.02043718 0.03477612 0.02099969 0.02229649 0.05228612 0.03160641
 0.03384446 0.12601934 0.0153669  0.09795557 0.02224446]
[0.01962095 0.00758745 0.02220306 0.00758745 0.02286979 0.01409109
 0.06150861 0.01184149 0.01971364 0.01409109 0.02440694 0.03313634
 0.01409109 0.04529215 0.03508807 0.06348408 0.03757864 0.04633491
 0.01823347 0.03807931 0.01971364 0.01742183 0.04529215 0.03592239
 0.03338295 0.1342336  0.01409109 0.1236283  0.01947442]
[0.02461825 0.00890079 0.02334804 0.00890079 0.0247141  0.01840172
 0.04852048 0.01340345 0.02224919 0.01840172 0.02815541 0.03474658
 0.01840172 0.04549111 0.03145622 0.05939085 0.04324481 0.04544783
 0.02048726 0.04009339 0.02224919 0.02127675 0.04549111 0.04829903
 0.03776009 0.10743117 0.01840173 0.09536027 0.02535695]
[0.02939725 0.01185619 0.02805274 0.01185619 0.03075718 0.02435634
 0.04768199 0.01778576 0.02407664 0.02435634 0.02591638 0.04372735
 0.02435634 0.0479632  0.03319466 0.05742551 0.04049168 0.0439908
 0.02501258 0.03481875 0.02407664 0.02598615 0.0479632  0.03295155
 0.04390477 0.05955125 0.02435634 0.08681088 0.02732539]
[0.02526187 0.00623182 0.02065293 0.00623182 0.02196464 0.01536855
 0.05262271 0.01028838 0.01897839 0.01536855 0.02226929 0.03819818
 0.01536855 0.04595589 0.03786068 0.05567795 0.0369635  0.05945929
 0.01492032 0.02929179 0.01897839 0.01789101 0.04595589 0.04193386
 0.0388312  0.13894151 0.01536855 0.10831472 0.02484979]
[0.02020079 0.00725143 0.01877311 0.00725143 0.02472989 0.01509918
 0.05686955 0.01334193 0.02119553 0.01509918 0.02248722 0.03348298
 0.01509918 0.05015172 0.03867123 0.05728875 0.04175067 0.05125688
 0.02110077 0.03520108 0.02119553 0.01912893 0.05015172 0.04338543
 0.03792334 0.10908885 0.01509918 0.11151484 0.02620972]]