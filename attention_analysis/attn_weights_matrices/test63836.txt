63836
Test: public void testUtf8BOMHandling() throws Exception { ByteArrayOutputStream bytes = new ByteArrayOutputStream(); bytes.write(0xEF); bytes.write(0xBB); bytes.write(0xBF); bytes.write("[ 1 ]".getBytes("UTF-8")); JsonParser jp = JSON_FACTORY.createParser(bytes.toByteArray()); JsonLocation loc = jp.getTokenLocation(); jp.close(); }
Code: public JsonLocation getTokenLocation() { final Object src = _ioContext.getSourceReference(); if (_currToken == JsonToken.FIELD_NAME) { return new JsonLocation(src, _nameInputTotal, -1L, _nameInputRow, _tokenInputCol); } return new JsonLocation(src, getTokenCharacterOffset(), -1L, getTokenLineNr(), getTokenColumnNr()); }
tensor([[0.0231, 0.0172, 0.0731, 0.0332, 0.0189, 0.0179, 0.1337, 0.0147, 0.0280,
         0.0626, 0.0231, 0.0358, 0.0350, 0.0332, 0.0257, 0.0115, 0.0227, 0.0133,
         0.0340, 0.0293, 0.0540, 0.0104, 0.0257, 0.0115, 0.0227, 0.0356, 0.0340,
         0.0794, 0.0302, 0.0104],
        [0.0181, 0.0204, 0.0847, 0.0305, 0.0172, 0.0145, 0.1272, 0.0176, 0.0194,
         0.0768, 0.0234, 0.0320, 0.0330, 0.0305, 0.0270, 0.0110, 0.0232, 0.0094,
         0.0351, 0.0269, 0.0648, 0.0076, 0.0270, 0.0110, 0.0232, 0.0263, 0.0351,
         0.0908, 0.0284, 0.0076],
        [0.0152, 0.0180, 0.0749, 0.0300, 0.0125, 0.0135, 0.1975, 0.0111, 0.0211,
         0.0684, 0.0224, 0.0311, 0.0369, 0.0300, 0.0242, 0.0089, 0.0297, 0.0076,
         0.0351, 0.0236, 0.0497, 0.0085, 0.0242, 0.0089, 0.0297, 0.0285, 0.0351,
         0.0653, 0.0298, 0.0085],
        [0.0237, 0.0217, 0.0684, 0.0380, 0.0232, 0.0141, 0.1036, 0.0197, 0.0235,
         0.0408, 0.0211, 0.0253, 0.0327, 0.0380, 0.0272, 0.0132, 0.0252, 0.0163,
         0.0433, 0.0258, 0.0621, 0.0134, 0.0272, 0.0132, 0.0252, 0.0500, 0.0433,
         0.0752, 0.0320, 0.0134],
        [0.0202, 0.0194, 0.0675, 0.0361, 0.0137, 0.0145, 0.1727, 0.0156, 0.0222,
         0.0666, 0.0212, 0.0296, 0.0398, 0.0361, 0.0294, 0.0089, 0.0244, 0.0126,
         0.0356, 0.0224, 0.0462, 0.0070, 0.0294, 0.0089, 0.0244, 0.0369, 0.0356,
         0.0693, 0.0268, 0.0070],
        [0.0199, 0.0212, 0.0968, 0.0430, 0.0144, 0.0138, 0.1623, 0.0143, 0.0204,
         0.0604, 0.0219, 0.0322, 0.0307, 0.0430, 0.0243, 0.0090, 0.0233, 0.0107,
         0.0355, 0.0245, 0.0446, 0.0079, 0.0243, 0.0090, 0.0233, 0.0318, 0.0355,
         0.0643, 0.0300, 0.0079],
        [0.0214, 0.0207, 0.0789, 0.0321, 0.0192, 0.0187, 0.1256, 0.0152, 0.0199,
         0.0650, 0.0253, 0.0320, 0.0291, 0.0321, 0.0276, 0.0108, 0.0238, 0.0117,
         0.0408, 0.0258, 0.0664, 0.0081, 0.0276, 0.0108, 0.0238, 0.0309, 0.0408,
         0.0778, 0.0299, 0.0081],
        [0.0287, 0.0198, 0.0719, 0.0314, 0.0242, 0.0186, 0.0697, 0.0235, 0.0348,
         0.0634, 0.0238, 0.0327, 0.0259, 0.0314, 0.0313, 0.0135, 0.0270, 0.0199,
         0.0433, 0.0307, 0.0601, 0.0138, 0.0313, 0.0135, 0.0270, 0.0358, 0.0433,
         0.0712, 0.0249, 0.0138],
        [0.0180, 0.0183, 0.0683, 0.0341, 0.0177, 0.0129, 0.1921, 0.0123, 0.0245,
         0.0591, 0.0229, 0.0353, 0.0315, 0.0341, 0.0298, 0.0103, 0.0230, 0.0103,
         0.0327, 0.0237, 0.0523, 0.0089, 0.0298, 0.0103, 0.0230, 0.0280, 0.0327,
         0.0705, 0.0246, 0.0089],
        [0.0121, 0.0144, 0.0782, 0.0302, 0.0103, 0.0091, 0.2745, 0.0099, 0.0140,
         0.0702, 0.0192, 0.0232, 0.0289, 0.0302, 0.0163, 0.0049, 0.0166, 0.0049,
         0.0257, 0.0163, 0.0610, 0.0044, 0.0163, 0.0049, 0.0166, 0.0266, 0.0257,
         0.1101, 0.0208, 0.0044],
        [0.0215, 0.0201, 0.0851, 0.0352, 0.0160, 0.0133, 0.1506, 0.0114, 0.0245,
         0.0722, 0.0242, 0.0279, 0.0368, 0.0352, 0.0281, 0.0087, 0.0219, 0.0099,
         0.0341, 0.0203, 0.0547, 0.0074, 0.0281, 0.0087, 0.0219, 0.0345, 0.0341,
         0.0765, 0.0298, 0.0074],
        [0.0114, 0.0189, 0.0772, 0.0339, 0.0112, 0.0128, 0.2417, 0.0121, 0.0158,
         0.0622, 0.0239, 0.0273, 0.0245, 0.0339, 0.0190, 0.0078, 0.0218, 0.0061,
         0.0346, 0.0204, 0.0587, 0.0067, 0.0190, 0.0078, 0.0218, 0.0237, 0.0346,
         0.0804, 0.0241, 0.0067],
        [0.0262, 0.0278, 0.0831, 0.0387, 0.0236, 0.0170, 0.0790, 0.0164, 0.0310,
         0.0566, 0.0264, 0.0379, 0.0368, 0.0387, 0.0325, 0.0133, 0.0253, 0.0151,
         0.0376, 0.0286, 0.0428, 0.0104, 0.0325, 0.0133, 0.0253, 0.0440, 0.0376,
         0.0595, 0.0323, 0.0104],
        [0.0237, 0.0217, 0.0684, 0.0380, 0.0232, 0.0141, 0.1036, 0.0197, 0.0235,
         0.0408, 0.0211, 0.0253, 0.0327, 0.0380, 0.0272, 0.0132, 0.0252, 0.0163,
         0.0433, 0.0258, 0.0621, 0.0134, 0.0272, 0.0132, 0.0252, 0.0500, 0.0433,
         0.0752, 0.0320, 0.0134],
        [0.0150, 0.0220, 0.0760, 0.0314, 0.0140, 0.0142, 0.2038, 0.0148, 0.0213,
         0.0605, 0.0207, 0.0276, 0.0282, 0.0314, 0.0214, 0.0088, 0.0231, 0.0116,
         0.0364, 0.0210, 0.0612, 0.0085, 0.0214, 0.0088, 0.0231, 0.0318, 0.0364,
         0.0685, 0.0287, 0.0085],
        [0.0194, 0.0220, 0.0939, 0.0372, 0.0157, 0.0149, 0.1359, 0.0154, 0.0258,
         0.0648, 0.0223, 0.0341, 0.0280, 0.0372, 0.0274, 0.0124, 0.0280, 0.0123,
         0.0425, 0.0235, 0.0406, 0.0107, 0.0274, 0.0124, 0.0280, 0.0262, 0.0425,
         0.0579, 0.0311, 0.0107],
        [0.0169, 0.0177, 0.0690, 0.0498, 0.0202, 0.0152, 0.1041, 0.0156, 0.0234,
         0.0628, 0.0214, 0.0280, 0.0385, 0.0498, 0.0285, 0.0124, 0.0215, 0.0125,
         0.0407, 0.0242, 0.0705, 0.0111, 0.0285, 0.0124, 0.0215, 0.0339, 0.0407,
         0.0672, 0.0309, 0.0111],
        [0.0167, 0.0253, 0.0901, 0.0324, 0.0202, 0.0127, 0.1764, 0.0109, 0.0176,
         0.0558, 0.0246, 0.0257, 0.0251, 0.0324, 0.0203, 0.0086, 0.0298, 0.0098,
         0.0409, 0.0226, 0.0517, 0.0087, 0.0203, 0.0086, 0.0298, 0.0322, 0.0409,
         0.0736, 0.0280, 0.0087],
        [0.0190, 0.0171, 0.0772, 0.0309, 0.0188, 0.0179, 0.1162, 0.0145, 0.0226,
         0.0743, 0.0294, 0.0306, 0.0295, 0.0309, 0.0249, 0.0123, 0.0236, 0.0108,
         0.0418, 0.0250, 0.0616, 0.0094, 0.0249, 0.0123, 0.0236, 0.0309, 0.0418,
         0.0870, 0.0314, 0.0094],
        [0.0155, 0.0133, 0.0712, 0.0332, 0.0165, 0.0093, 0.2519, 0.0109, 0.0187,
         0.0620, 0.0186, 0.0231, 0.0330, 0.0332, 0.0189, 0.0072, 0.0179, 0.0059,
         0.0321, 0.0188, 0.0536, 0.0051, 0.0189, 0.0072, 0.0179, 0.0338, 0.0321,
         0.0925, 0.0225, 0.0051],
        [0.0172, 0.0176, 0.0779, 0.0451, 0.0152, 0.0115, 0.1649, 0.0124, 0.0183,
         0.0661, 0.0239, 0.0241, 0.0314, 0.0451, 0.0244, 0.0078, 0.0206, 0.0077,
         0.0344, 0.0227, 0.0736, 0.0071, 0.0244, 0.0078, 0.0206, 0.0330, 0.0344,
         0.0743, 0.0296, 0.0071],
        [0.0166, 0.0189, 0.0931, 0.0405, 0.0149, 0.0167, 0.1274, 0.0148, 0.0225,
         0.0637, 0.0199, 0.0286, 0.0326, 0.0405, 0.0357, 0.0093, 0.0221, 0.0121,
         0.0399, 0.0218, 0.0528, 0.0088, 0.0357, 0.0093, 0.0221, 0.0337, 0.0399,
         0.0699, 0.0273, 0.0088],
        [0.0150, 0.0220, 0.0760, 0.0314, 0.0140, 0.0142, 0.2038, 0.0148, 0.0213,
         0.0605, 0.0207, 0.0276, 0.0282, 0.0314, 0.0214, 0.0088, 0.0231, 0.0116,
         0.0364, 0.0210, 0.0612, 0.0085, 0.0214, 0.0088, 0.0231, 0.0318, 0.0364,
         0.0685, 0.0287, 0.0085],
        [0.0194, 0.0220, 0.0939, 0.0372, 0.0157, 0.0149, 0.1359, 0.0154, 0.0258,
         0.0648, 0.0223, 0.0341, 0.0280, 0.0372, 0.0274, 0.0124, 0.0280, 0.0123,
         0.0425, 0.0235, 0.0406, 0.0107, 0.0274, 0.0124, 0.0280, 0.0262, 0.0425,
         0.0579, 0.0311, 0.0107],
        [0.0169, 0.0177, 0.0690, 0.0498, 0.0202, 0.0152, 0.1041, 0.0156, 0.0234,
         0.0628, 0.0214, 0.0280, 0.0385, 0.0498, 0.0285, 0.0124, 0.0215, 0.0125,
         0.0407, 0.0242, 0.0705, 0.0111, 0.0285, 0.0124, 0.0215, 0.0339, 0.0407,
         0.0672, 0.0309, 0.0111],
        [0.0192, 0.0196, 0.0691, 0.0348, 0.0167, 0.0139, 0.1538, 0.0102, 0.0184,
         0.0745, 0.0202, 0.0313, 0.0253, 0.0348, 0.0227, 0.0080, 0.0201, 0.0097,
         0.0379, 0.0290, 0.0695, 0.0071, 0.0227, 0.0080, 0.0201, 0.0311, 0.0379,
         0.1007, 0.0264, 0.0071],
        [0.0190, 0.0171, 0.0772, 0.0309, 0.0188, 0.0179, 0.1162, 0.0145, 0.0226,
         0.0743, 0.0294, 0.0306, 0.0295, 0.0309, 0.0249, 0.0123, 0.0236, 0.0108,
         0.0418, 0.0250, 0.0616, 0.0094, 0.0249, 0.0123, 0.0236, 0.0309, 0.0418,
         0.0870, 0.0314, 0.0094],
        [0.0198, 0.0153, 0.1012, 0.0315, 0.0168, 0.0136, 0.1566, 0.0118, 0.0218,
         0.0708, 0.0212, 0.0298, 0.0281, 0.0315, 0.0222, 0.0076, 0.0220, 0.0087,
         0.0419, 0.0205, 0.0574, 0.0074, 0.0222, 0.0076, 0.0220, 0.0386, 0.0419,
         0.0771, 0.0259, 0.0074],
        [0.0188, 0.0201, 0.0872, 0.0345, 0.0148, 0.0196, 0.1397, 0.0150, 0.0230,
         0.0608, 0.0244, 0.0306, 0.0307, 0.0345, 0.0311, 0.0091, 0.0273, 0.0127,
         0.0304, 0.0289, 0.0587, 0.0081, 0.0311, 0.0091, 0.0273, 0.0321, 0.0304,
         0.0767, 0.0254, 0.0081],
        [0.0166, 0.0189, 0.0931, 0.0405, 0.0149, 0.0167, 0.1274, 0.0148, 0.0225,
         0.0637, 0.0199, 0.0286, 0.0326, 0.0405, 0.0357, 0.0093, 0.0221, 0.0121,
         0.0399, 0.0218, 0.0528, 0.0088, 0.0357, 0.0093, 0.0221, 0.0337, 0.0399,
         0.0699, 0.0273, 0.0088]])