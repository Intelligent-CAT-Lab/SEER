64838
Test: public void testShortQuotedDirectChars() throws IOException { final int COUNT = 400; CharsToNameCanonicalizer symbols = CharsToNameCanonicalizer.createRoot(1); for (int i = 0; i < COUNT; ++i) { String id = String.format("\\u%04x", i); char[] ch = id.toCharArray(); symbols.findSymbol(ch, 0, ch.length, symbols.calcHash(id)); } }
Code: public int calcHash(int q1) { int hash = q1 ^ _seed; ; hash ^= (hash << 3); hash += (hash >>> 12); return hash; }
tensor([[0.0233, 0.0131, 0.0463, 0.0106, 0.0393, 0.0131, 0.0674, 0.0152, 0.0755,
         0.0337, 0.0451, 0.0134, 0.0674, 0.0182, 0.0797, 0.0355, 0.0677, 0.0674,
         0.0413, 0.0797, 0.0187, 0.0587, 0.0267, 0.0312, 0.0117],
        [0.0155, 0.0100, 0.0604, 0.0116, 0.0418, 0.0100, 0.0604, 0.0130, 0.0760,
         0.0291, 0.0381, 0.0126, 0.0604, 0.0196, 0.0864, 0.0292, 0.0550, 0.0604,
         0.0441, 0.0864, 0.0201, 0.0916, 0.0258, 0.0342, 0.0083],
        [0.0281, 0.0120, 0.0467, 0.0163, 0.0572, 0.0120, 0.0648, 0.0200, 0.0580,
         0.0288, 0.0496, 0.0139, 0.0648, 0.0220, 0.0668, 0.0311, 0.0686, 0.0648,
         0.0506, 0.0668, 0.0229, 0.0366, 0.0413, 0.0459, 0.0102],
        [0.0256, 0.0099, 0.0454, 0.0129, 0.0363, 0.0099, 0.0526, 0.0165, 0.0703,
         0.0285, 0.0488, 0.0138, 0.0526, 0.0225, 0.1002, 0.0348, 0.0682, 0.0526,
         0.0445, 0.1002, 0.0253, 0.0540, 0.0328, 0.0322, 0.0094],
        [0.0283, 0.0128, 0.0443, 0.0180, 0.0528, 0.0128, 0.0617, 0.0239, 0.0570,
         0.0348, 0.0467, 0.0158, 0.0617, 0.0279, 0.0789, 0.0367, 0.0427, 0.0617,
         0.0419, 0.0789, 0.0211, 0.0449, 0.0316, 0.0460, 0.0174],
        [0.0155, 0.0100, 0.0604, 0.0116, 0.0418, 0.0100, 0.0604, 0.0130, 0.0760,
         0.0291, 0.0381, 0.0126, 0.0604, 0.0196, 0.0864, 0.0292, 0.0550, 0.0604,
         0.0441, 0.0864, 0.0201, 0.0916, 0.0258, 0.0342, 0.0083],
        [0.0270, 0.0142, 0.0452, 0.0148, 0.0398, 0.0142, 0.0664, 0.0182, 0.0695,
         0.0326, 0.0437, 0.0125, 0.0664, 0.0228, 0.0723, 0.0332, 0.0497, 0.0664,
         0.0461, 0.0723, 0.0243, 0.0660, 0.0289, 0.0425, 0.0111],
        [0.0301, 0.0175, 0.0468, 0.0168, 0.0382, 0.0175, 0.0579, 0.0262, 0.0663,
         0.0348, 0.0536, 0.0189, 0.0579, 0.0293, 0.0685, 0.0413, 0.0396, 0.0579,
         0.0407, 0.0685, 0.0281, 0.0457, 0.0338, 0.0482, 0.0158],
        [0.0150, 0.0059, 0.0448, 0.0110, 0.0398, 0.0059, 0.0691, 0.0106, 0.0800,
         0.0289, 0.0330, 0.0068, 0.0691, 0.0124, 0.1065, 0.0261, 0.0655, 0.0691,
         0.0532, 0.1065, 0.0139, 0.0624, 0.0239, 0.0348, 0.0057],
        [0.0199, 0.0072, 0.0474, 0.0100, 0.0481, 0.0072, 0.0570, 0.0133, 0.0715,
         0.0286, 0.0368, 0.0087, 0.0570, 0.0156, 0.0867, 0.0315, 0.0722, 0.0570,
         0.0515, 0.0867, 0.0204, 0.0755, 0.0341, 0.0490, 0.0070],
        [0.0165, 0.0092, 0.0520, 0.0128, 0.0413, 0.0092, 0.0571, 0.0112, 0.0730,
         0.0300, 0.0437, 0.0102, 0.0571, 0.0196, 0.1002, 0.0349, 0.0686, 0.0571,
         0.0402, 0.1002, 0.0144, 0.0703, 0.0220, 0.0408, 0.0081],
        [0.0143, 0.0084, 0.0665, 0.0115, 0.0536, 0.0084, 0.0505, 0.0130, 0.0746,
         0.0312, 0.0389, 0.0095, 0.0505, 0.0165, 0.0847, 0.0285, 0.0723, 0.0505,
         0.0426, 0.0847, 0.0174, 0.0912, 0.0292, 0.0451, 0.0063],
        [0.0270, 0.0142, 0.0452, 0.0148, 0.0398, 0.0142, 0.0664, 0.0182, 0.0695,
         0.0326, 0.0437, 0.0125, 0.0664, 0.0228, 0.0723, 0.0332, 0.0497, 0.0664,
         0.0461, 0.0723, 0.0243, 0.0660, 0.0289, 0.0425, 0.0111],
        [0.0236, 0.0107, 0.0434, 0.0139, 0.0470, 0.0107, 0.0619, 0.0145, 0.0587,
         0.0295, 0.0486, 0.0115, 0.0619, 0.0216, 0.1005, 0.0364, 0.0585, 0.0619,
         0.0370, 0.1005, 0.0151, 0.0476, 0.0266, 0.0451, 0.0131],
        [0.0208, 0.0094, 0.0460, 0.0080, 0.0360, 0.0094, 0.0606, 0.0130, 0.0845,
         0.0282, 0.0464, 0.0091, 0.0606, 0.0189, 0.0837, 0.0376, 0.0747, 0.0606,
         0.0488, 0.0837, 0.0181, 0.0801, 0.0213, 0.0325, 0.0078],
        [0.0188, 0.0120, 0.0480, 0.0118, 0.0551, 0.0120, 0.0609, 0.0180, 0.0653,
         0.0348, 0.0452, 0.0139, 0.0609, 0.0266, 0.0713, 0.0442, 0.0499, 0.0609,
         0.0405, 0.0713, 0.0203, 0.0629, 0.0266, 0.0588, 0.0101],
        [0.0103, 0.0071, 0.0505, 0.0072, 0.0368, 0.0071, 0.0576, 0.0102, 0.0881,
         0.0223, 0.0304, 0.0082, 0.0576, 0.0118, 0.0948, 0.0247, 0.0802, 0.0576,
         0.0590, 0.0948, 0.0186, 0.1042, 0.0221, 0.0333, 0.0055],
        [0.0270, 0.0142, 0.0452, 0.0148, 0.0398, 0.0142, 0.0664, 0.0182, 0.0695,
         0.0326, 0.0437, 0.0125, 0.0664, 0.0228, 0.0723, 0.0332, 0.0497, 0.0664,
         0.0461, 0.0723, 0.0243, 0.0660, 0.0289, 0.0425, 0.0111],
        [0.0220, 0.0106, 0.0473, 0.0136, 0.0516, 0.0106, 0.0730, 0.0134, 0.0643,
         0.0300, 0.0322, 0.0111, 0.0730, 0.0211, 0.0722, 0.0317, 0.0669, 0.0730,
         0.0500, 0.0722, 0.0225, 0.0549, 0.0215, 0.0522, 0.0093],
        [0.0208, 0.0094, 0.0460, 0.0080, 0.0360, 0.0094, 0.0606, 0.0130, 0.0845,
         0.0282, 0.0464, 0.0091, 0.0606, 0.0189, 0.0837, 0.0376, 0.0747, 0.0606,
         0.0488, 0.0837, 0.0181, 0.0801, 0.0213, 0.0325, 0.0078],
        [0.0189, 0.0087, 0.0481, 0.0120, 0.0376, 0.0087, 0.0578, 0.0148, 0.0587,
         0.0261, 0.0417, 0.0087, 0.0578, 0.0180, 0.0942, 0.0356, 0.0761, 0.0578,
         0.0456, 0.0942, 0.0174, 0.0791, 0.0307, 0.0398, 0.0119],
        [0.0211, 0.0121, 0.0454, 0.0121, 0.0537, 0.0121, 0.0665, 0.0132, 0.0605,
         0.0239, 0.0430, 0.0120, 0.0665, 0.0173, 0.1031, 0.0361, 0.0567, 0.0665,
         0.0347, 0.1031, 0.0225, 0.0430, 0.0243, 0.0389, 0.0116],
        [0.0164, 0.0085, 0.0509, 0.0103, 0.0389, 0.0085, 0.0546, 0.0164, 0.0740,
         0.0260, 0.0391, 0.0097, 0.0546, 0.0181, 0.0990, 0.0355, 0.0732, 0.0546,
         0.0524, 0.0990, 0.0212, 0.0697, 0.0226, 0.0367, 0.0103],
        [0.0239, 0.0100, 0.0502, 0.0146, 0.0418, 0.0100, 0.0626, 0.0147, 0.0613,
         0.0375, 0.0419, 0.0114, 0.0626, 0.0223, 0.0776, 0.0298, 0.0644, 0.0626,
         0.0521, 0.0776, 0.0183, 0.0700, 0.0250, 0.0468, 0.0114],
        [0.0163, 0.0121, 0.0453, 0.0148, 0.0482, 0.0121, 0.0673, 0.0154, 0.0739,
         0.0258, 0.0451, 0.0132, 0.0673, 0.0213, 0.0582, 0.0298, 0.0822, 0.0673,
         0.0386, 0.0582, 0.0170, 0.0730, 0.0374, 0.0502, 0.0101]])