17871
Test: public void testPartialTraversalOfScope() { Compiler compiler = new Compiler(); ControlFlowAnalysis cfa = new ControlFlowAnalysis(compiler, true); Node script1 = compiler.parseSyntheticCode("cfgtest", "var foo;"); Node script2 = compiler.parseSyntheticCode("cfgtest2", "var bar;"); Node root = new Node(Token.BLOCK, script1, script2); cfa.process(null, script1); ControlFlowGraph<Node> cfg = cfa.getCfg(); }
Code: public void process(Node externs, Node root) { NodeTraversal.traverse(compiler, root, new NormalizeStatements(compiler, assertOnChange)); if (MAKE_LOCAL_NAMES_UNIQUE) { MakeDeclaredNamesUnique renamer = new MakeDeclaredNamesUnique(); NodeTraversal t = new NodeTraversal(compiler, renamer); t.traverseRoots(externs, root); } removeDuplicateDeclarations(root); new PropogateConstantAnnotations(compiler, assertOnChange) .process(externs, root); }
[[0.02667157 0.02168642 0.02234642 0.01048589 0.05089792 0.05024888
 0.03647028 0.03904038 0.02527761 0.01338934 0.01740778 0.05238656
 0.07198435 0.03627414 0.03647028 0.02258681 0.02028608 0.01684022
 0.01338934 0.03513757 0.02858851 0.04765889 0.01684022 0.01338934
 0.01811049 0.03761279 0.04648655 0.01464461 0.01156236 0.01409438
 0.01338934 0.02421851 0.0283945  0.0395247  0.0146446  0.01156236]
[0.02259606 0.01923061 0.01991874 0.00827361 0.05808923 0.04604127
 0.03712348 0.03923406 0.02885468 0.01023624 0.01385196 0.05497238
 0.07482626 0.03733308 0.03712348 0.0220675  0.01857134 0.01802136
 0.01023624 0.04330216 0.02205035 0.04300727 0.01802136 0.01023624
 0.01875762 0.05721633 0.04847567 0.01224688 0.01139063 0.01091275
 0.01023624 0.02430715 0.02337611 0.04622418 0.01224688 0.01139063]
[0.02123373 0.01996969 0.02089181 0.01083357 0.05148497 0.04937977
 0.0339677  0.04826463 0.03385968 0.01092395 0.01612094 0.04843367
 0.08042511 0.04025697 0.0339677  0.02035814 0.01979629 0.01445626
 0.01092395 0.04148823 0.0307929  0.04142127 0.01445626 0.01092395
 0.01421303 0.0443636  0.05798978 0.01402181 0.00752733 0.0111668
 0.01092395 0.02037986 0.02404693 0.04918666 0.01402181 0.00752733]
[0.02365467 0.02362847 0.02565827 0.01090872 0.04826284 0.03878331
 0.03749824 0.03929757 0.02411273 0.01226659 0.01564751 0.05720646
 0.06512306 0.04139809 0.03749824 0.01897247 0.02150555 0.01435983
 0.01226659 0.04572812 0.01990844 0.049002   0.01435983 0.01226659
 0.02027442 0.05656222 0.03623587 0.01716194 0.01259463 0.0119832
 0.01226659 0.02651992 0.02339582 0.04393461 0.01716195 0.01259463]
[0.02021163 0.01978297 0.02052426 0.00903311 0.05732368 0.03809145
 0.04219591 0.04464764 0.03181843 0.01101208 0.01398941 0.04619519
 0.07503745 0.03516364 0.04219591 0.02148896 0.02051791 0.01837928
 0.01101208 0.04485591 0.02363573 0.04149035 0.01837928 0.01101208
 0.01823609 0.05776667 0.04471784 0.01095179 0.00817381 0.01186802
 0.01101208 0.02373    0.02741053 0.04901326 0.01095179 0.00817381]
[0.0243957  0.01701393 0.0238732  0.01283825 0.05441202 0.04453553
 0.04214678 0.03741321 0.02444473 0.01297001 0.01551338 0.04197588
 0.07370155 0.03313698 0.04214678 0.01926311 0.01869878 0.01638146
 0.01297001 0.0454172  0.02551964 0.04919174 0.01638146 0.01297001
 0.01986908 0.04006228 0.04354921 0.01575752 0.01364956 0.01233647
 0.01297001 0.02049296 0.02678469 0.04780982 0.01575752 0.01364956]
[0.02692946 0.02342173 0.02490176 0.01517696 0.04438821 0.03574036
 0.04241094 0.03453165 0.01993496 0.01515358 0.01977912 0.04625082
 0.046497   0.03987987 0.04241094 0.02302638 0.02549065 0.02237883
 0.01515358 0.04179567 0.02548506 0.03888968 0.02237883 0.01515358
 0.01793661 0.04935937 0.04271282 0.01603751 0.01509527 0.01356868
 0.01515358 0.02496812 0.02692838 0.03994732 0.01603751 0.01509527]
[0.02130732 0.02070852 0.01926731 0.01012456 0.05356313 0.04702266
 0.03600516 0.03824227 0.02519188 0.01381996 0.01717536 0.0650889
 0.07313246 0.03835373 0.03600516 0.01875192 0.02081448 0.01513063
 0.01381996 0.03969711 0.02932667 0.04696915 0.01513063 0.01381996
 0.02274189 0.04188778 0.04567615 0.01671179 0.01082358 0.01141146
 0.01381996 0.02021205 0.02374944 0.03696163 0.01671179 0.01082358]
[0.02452888 0.0172438  0.01962441 0.0122859  0.05470845 0.04656827
 0.0364555  0.04792775 0.02827884 0.01131751 0.01958346 0.0354199
 0.06986769 0.04555143 0.0364555  0.02682132 0.02127953 0.01909554
 0.01131751 0.04403454 0.03631587 0.04701776 0.01909554 0.01131751
 0.01772129 0.03412275 0.04271481 0.01416831 0.01069152 0.01401285
 0.01131751 0.02155836 0.02645403 0.04026634 0.01416831 0.01069152]
[0.02265359 0.02051467 0.02163324 0.01082676 0.03867775 0.04164372
 0.04109212 0.039912   0.02282189 0.01471856 0.01582471 0.0678308
 0.07693353 0.04210553 0.04109212 0.01841688 0.01822819 0.01811942
 0.01471856 0.04018638 0.02012046 0.03562993 0.01811942 0.01471856
 0.01650044 0.04364273 0.04630211 0.01814181 0.01192744 0.0122585
 0.01471856 0.0275472  0.02303069 0.0393225  0.01814181 0.01192744]
[0.02204783 0.02056093 0.0217696  0.00982772 0.04874039 0.04498714
 0.03818462 0.03960514 0.02319982 0.01408161 0.01633275 0.04250822
 0.07323836 0.04420197 0.03818462 0.02067313 0.01986696 0.02023143
 0.01408161 0.03865504 0.02645226 0.04572209 0.02023143 0.01408161
 0.01805195 0.04990475 0.05069084 0.01369094 0.01175865 0.01226739
 0.01408161 0.02526662 0.02472844 0.03664292 0.01369094 0.01175866]
[0.01905503 0.01683145 0.01765921 0.00758377 0.05429725 0.042974
 0.04570696 0.04195052 0.03163483 0.00962777 0.01638593 0.04554604
 0.07667828 0.0424976  0.04570696 0.02073835 0.0209456  0.01681869
 0.00962777 0.04576679 0.02527887 0.04971531 0.01681869 0.00962777
 0.01979932 0.04804569 0.05235897 0.01085193 0.00977427 0.00965087
 0.00962777 0.02437522 0.02281395 0.04260229 0.01085193 0.00977427]
[0.01912547 0.01413429 0.02075162 0.00518697 0.06379083 0.05030428
 0.03804678 0.04450852 0.02396366 0.007311   0.01105994 0.04938547
 0.10702991 0.04435086 0.03804678 0.01993154 0.01600503 0.01478099
 0.007311   0.03881671 0.02582526 0.05533977 0.01478099 0.007311
 0.01791883 0.06861781 0.04736671 0.01000346 0.00591414 0.00818511
 0.007311   0.01949228 0.02119752 0.04097683 0.01000346 0.00591414]
[0.0249591  0.01717704 0.02674277 0.01404383 0.05070343 0.04322775
 0.03421764 0.04499244 0.02146951 0.0144742  0.01861577 0.04829836
 0.07195428 0.03725272 0.03421764 0.02326425 0.0267909  0.01691152
 0.0144742  0.04075165 0.02144274 0.04360138 0.01691152 0.0144742
 0.02304489 0.04910996 0.0372983  0.01703788 0.01110854 0.0130615
 0.0144742  0.02462115 0.025019   0.03610938 0.01703788 0.01110854]
[0.02692946 0.02342173 0.02490176 0.01517696 0.04438821 0.03574036
 0.04241094 0.03453165 0.01993496 0.01515358 0.01977912 0.04625082
 0.046497   0.03987987 0.04241094 0.02302638 0.02549065 0.02237883
 0.01515358 0.04179567 0.02548506 0.03888968 0.02237883 0.01515358
 0.01793661 0.04935937 0.04271282 0.01603751 0.01509527 0.01356868
 0.01515358 0.02496812 0.02692838 0.03994732 0.01603751 0.01509527]
[0.02140761 0.0181579  0.02085587 0.00971384 0.05468949 0.04614836
 0.04542851 0.03837273 0.02428833 0.0125462  0.01660064 0.04576527
 0.07500824 0.04341884 0.04542851 0.02446426 0.01642714 0.01575908
 0.0125462  0.03465144 0.0273793  0.04650042 0.01575908 0.0125462
 0.01995838 0.04319641 0.05382224 0.01386247 0.00840303 0.01302496
 0.0125462  0.02089532 0.02143415 0.04672787 0.01386247 0.00840303]
[0.02126879 0.02009774 0.02235161 0.0098209  0.05125216 0.03831884
 0.05789282 0.04474557 0.02397786 0.01010242 0.01406263 0.03512982
 0.07584834 0.04468422 0.05789282 0.02197731 0.02579984 0.01375785
 0.01010242 0.05501181 0.01932034 0.04696565 0.01375785 0.01010242
 0.02007507 0.04750402 0.04290523 0.01337616 0.00836957 0.01106737
 0.01010242 0.01647394 0.02509617 0.03904234 0.01337616 0.00836957]
[0.0293295  0.02371692 0.02908706 0.01745043 0.04392361 0.0401931
 0.03212676 0.04079978 0.01892233 0.013746   0.02060145 0.03742852
 0.06472497 0.03022633 0.03212676 0.02173071 0.03083194 0.02402993
 0.013746   0.03947293 0.02595492 0.04349643 0.02402993 0.013746
 0.02037793 0.03894023 0.03243645 0.02253486 0.01413381 0.015801
 0.013746   0.02622633 0.03276011 0.03493235 0.02253486 0.01413381]
[0.02265359 0.02051467 0.02163324 0.01082676 0.03867775 0.04164372
 0.04109212 0.039912   0.02282189 0.01471856 0.01582471 0.0678308
 0.07693353 0.04210553 0.04109212 0.01841688 0.01822819 0.01811942
 0.01471856 0.04018638 0.02012046 0.03562993 0.01811942 0.01471856
 0.01650044 0.04364273 0.04630211 0.01814181 0.01192744 0.0122585
 0.01471856 0.0275472  0.02303069 0.0393225  0.01814181 0.01192744]
[0.02349826 0.01835914 0.02103349 0.01067261 0.0566454  0.04769392
 0.03174834 0.04107263 0.0258656  0.01111997 0.01590511 0.05169301
 0.08541488 0.03872774 0.03174834 0.02026435 0.02121296 0.01611952
 0.01111997 0.0433042  0.02094121 0.05016484 0.01611952 0.01111997
 0.01974727 0.05226575 0.04341644 0.01382971 0.0117175  0.00971824
 0.01111997 0.02486787 0.0243235  0.04188155 0.01382971 0.0117175 ]
[0.0187645  0.01406809 0.01983776 0.00774797 0.05093732 0.04600296
 0.04195568 0.04062419 0.02045073 0.01191057 0.01600962 0.05293426
 0.07573984 0.04808271 0.04195568 0.01592002 0.01605588 0.01665313
 0.01191057 0.05313013 0.02518527 0.05929691 0.01665313 0.01191057
 0.01937944 0.04415359 0.05423767 0.01387083 0.0086043  0.01144713
 0.01191057 0.01718895 0.0242761  0.03871873 0.01387083 0.0086043 ]
[0.02223492 0.01618745 0.02564108 0.0082978  0.06743812 0.03685768
 0.05163894 0.04043679 0.02271586 0.01000851 0.01371443 0.03924195
 0.09344715 0.03768584 0.05163894 0.01851255 0.01857172 0.01299489
 0.01000851 0.04289893 0.01915327 0.04157725 0.01299489 0.01000851
 0.01751415 0.06077214 0.03533745 0.01387701 0.00836214 0.01072706
 0.01000851 0.02215665 0.02928595 0.0458139  0.01387702 0.00836214]
[0.0293295  0.02371692 0.02908706 0.01745043 0.04392361 0.0401931
 0.03212676 0.04079978 0.01892233 0.013746   0.02060145 0.03742852
 0.06472497 0.03022633 0.03212676 0.02173071 0.03083194 0.02402993
 0.013746   0.03947293 0.02595492 0.04349643 0.02402993 0.013746
 0.02037793 0.03894023 0.03243645 0.02253486 0.01413381 0.015801
 0.013746   0.02622633 0.03276011 0.03493235 0.02253486 0.01413381]
[0.02265359 0.02051467 0.02163324 0.01082676 0.03867775 0.04164372
 0.04109212 0.039912   0.02282189 0.01471856 0.01582471 0.0678308
 0.07693353 0.04210553 0.04109212 0.01841688 0.01822819 0.01811942
 0.01471856 0.04018638 0.02012046 0.03562993 0.01811942 0.01471856
 0.01650044 0.04364273 0.04630211 0.01814181 0.01192744 0.0122585
 0.01471856 0.0275472  0.02303069 0.0393225  0.01814181 0.01192744]
[0.0221702  0.02375811 0.02201871 0.01089071 0.05845231 0.04397536
 0.04305436 0.04043366 0.02675123 0.01284933 0.01938924 0.04297698
 0.06665738 0.0445446  0.04305436 0.02372252 0.02170725 0.01534012
 0.01284933 0.04617862 0.02478634 0.04797893 0.01534012 0.01284933
 0.01611643 0.04641423 0.03486814 0.01344285 0.00939163 0.00909069
 0.01284933 0.02503221 0.02538906 0.04284197 0.01344285 0.00939163]
[0.02655924 0.0200657  0.02730351 0.01240685 0.04542011 0.05154484
 0.04017376 0.03122107 0.02134934 0.01189131 0.01826627 0.0519696
 0.07237558 0.04049697 0.04017376 0.01980458 0.01924265 0.01584272
 0.01189131 0.04006965 0.02549655 0.04924955 0.01584272 0.01189131
 0.02066295 0.04694435 0.03964499 0.01524964 0.01062975 0.01450391
 0.01189131 0.02068498 0.02646047 0.04689921 0.01524964 0.01062975]
[0.02510165 0.01632508 0.02263904 0.01025661 0.05367327 0.04867304
 0.04347805 0.04142381 0.02016775 0.01123225 0.0166586  0.04860357
 0.07105008 0.04511344 0.04347805 0.02037534 0.01949967 0.01891238
 0.01123225 0.04043016 0.02506372 0.04526332 0.01891238 0.01123225
 0.01587683 0.05006475 0.04992755 0.0140842  0.00878455 0.01217016
 0.01123225 0.02346623 0.02558501 0.03714395 0.0140842  0.00878455]
[0.018631   0.01643173 0.01897797 0.00828342 0.05875865 0.03984569
 0.04724968 0.04992164 0.02620948 0.01008884 0.01557009 0.04559755
 0.09454744 0.04004022 0.04724968 0.02086748 0.01921421 0.01499386
 0.01008884 0.04309366 0.02072446 0.03983548 0.01499386 0.01008884
 0.0173889  0.04398355 0.0551523  0.01359257 0.00782235 0.01130547
 0.01008884 0.02121685 0.02110197 0.04562848 0.01359257 0.00782235]
[0.01941611 0.0176258  0.02721311 0.01099989 0.07254362 0.03734569
 0.04603225 0.05079803 0.02304711 0.01086145 0.01553848 0.03388959
 0.07408315 0.04139896 0.04603225 0.02281122 0.01938699 0.01713718
 0.01086145 0.04576591 0.02578769 0.04648344 0.01713718 0.01086145
 0.0212615  0.04259319 0.03621892 0.01355213 0.01009224 0.01199062
 0.01086145 0.02064372 0.0278767  0.03820714 0.01355213 0.01009224]
[0.02606607 0.01738982 0.02005977 0.00956418 0.04654358 0.04991199
 0.03583987 0.04341273 0.02802077 0.00976152 0.01598576 0.06378347
 0.08955683 0.03598499 0.03583987 0.02393179 0.02041463 0.01344485
 0.00976152 0.04396454 0.02483606 0.04073197 0.01344485 0.00976152
 0.01490843 0.06324728 0.05003212 0.01239694 0.00682494 0.01204561
 0.00976152 0.01870287 0.02162556 0.04321992 0.01239694 0.00682494]
[0.02265359 0.02051467 0.02163324 0.01082676 0.03867775 0.04164372
 0.04109212 0.039912   0.02282189 0.01471856 0.01582471 0.0678308
 0.07693353 0.04210553 0.04109212 0.01841688 0.01822819 0.01811942
 0.01471856 0.04018638 0.02012046 0.03562993 0.01811942 0.01471856
 0.01650044 0.04364273 0.04630211 0.01814181 0.01192744 0.0122585
 0.01471856 0.0275472  0.02303069 0.0393225  0.01814181 0.01192744]
[0.02274619 0.01694243 0.02086911 0.00965457 0.04671964 0.04383521
 0.0409154  0.03934509 0.03131508 0.01297068 0.01816997 0.05381605
 0.076455   0.0369501  0.0409154  0.02351617 0.01990142 0.0158617
 0.01297068 0.04231593 0.02144956 0.04199077 0.0158617  0.01297068
 0.01868633 0.0387708  0.05498854 0.01484162 0.01112586 0.01197662
 0.01297068 0.02436653 0.02339909 0.04444797 0.01484163 0.01112586]
[0.02043598 0.01682488 0.02841634 0.01128577 0.0524617  0.0421272
 0.04708582 0.04025483 0.02430075 0.01098798 0.01852788 0.04580345
 0.06108501 0.04889674 0.04708582 0.02002999 0.02004466 0.01949985
 0.01098798 0.035959   0.0236706  0.03680205 0.01949985 0.01098798
 0.02184133 0.04680904 0.04148855 0.01445911 0.01132965 0.01438669
 0.01098798 0.02447845 0.02667461 0.04869368 0.01445911 0.01132965]
[0.02152777 0.01663456 0.02416987 0.00772651 0.06110013 0.04885907
 0.04843578 0.0459695  0.02762266 0.01059788 0.01446667 0.04587352
 0.07549524 0.03278532 0.04843578 0.02497445 0.0155482  0.01455378
 0.01059788 0.04292101 0.03493546 0.04283653 0.01455378 0.01059788
 0.01800219 0.05486616 0.04057557 0.01127909 0.00689756 0.01229758
 0.01059788 0.02125799 0.02226363 0.04256646 0.01127909 0.00689756]
[0.018631   0.01643173 0.01897797 0.00828342 0.05875865 0.03984569
 0.04724968 0.04992164 0.02620948 0.01008884 0.01557009 0.04559755
 0.09454744 0.04004022 0.04724968 0.02086748 0.01921421 0.01499386
 0.01008884 0.04309366 0.02072446 0.03983548 0.01499386 0.01008884
 0.0173889  0.04398355 0.0551523  0.01359257 0.00782235 0.01130547
 0.01008884 0.02121685 0.02110197 0.04562848 0.01359257 0.00782235]
[0.01941611 0.0176258  0.02721311 0.01099989 0.07254362 0.03734569
 0.04603225 0.05079803 0.02304711 0.01086145 0.01553848 0.03388959
 0.07408315 0.04139896 0.04603225 0.02281122 0.01938699 0.01713718
 0.01086145 0.04576591 0.02578769 0.04648344 0.01713718 0.01086145
 0.0212615  0.04259319 0.03621892 0.01355213 0.01009224 0.01199062
 0.01086145 0.02064372 0.0278767  0.03820714 0.01355213 0.01009224]]