62822
Test: public void testNullSafe() { TypeAdapter<Person> typeAdapter = new TypeAdapter<Person>() { @Override public Person read(JsonReader in) throws IOException { String[] values = in.nextString().split(","); return new Person(values[0], Integer.parseInt(values[1])); } public void write(JsonWriter out, Person person) throws IOException { out.value(person.name + "," + person.age); } }; Gson gson = new GsonBuilder().registerTypeAdapter( Person.class, typeAdapter).create(); Truck truck = new Truck(); truck.horsePower = 1.0D; truck.passengers = new ArrayList<Person>(); truck.passengers.add(null); truck.passengers.add(new Person("jesse", 30)); try { gson.toJson(truck, Truck.class); fail(); } catch (NullPointerException expected) {} String json = "{horsePower:1.0,passengers:[null,'jesse,30']}"; try { gson.fromJson(json, Truck.class); fail(); } catch (JsonSyntaxException expected) {} gson = new GsonBuilder().registerTypeAdapter(Person.class, typeAdapter.nullSafe()).create(); truck = gson.fromJson(json, Truck.class); }
Code: public void write(JsonWriter out, Boolean value) throws IOException { out.value(value); }
[[0.06760196 0.05695858 0.06708264 0.06947218 0.22139297 0.07040983
 0.14679588 0.03963861 0.10842133 0.11942282 0.03280316]
[0.05344932 0.04805015 0.06122269 0.08745112 0.18596832 0.07444569
 0.1876561  0.03146566 0.09956074 0.14069448 0.03003567]
[0.06422254 0.04244708 0.07731504 0.06442364 0.20203543 0.0683856
 0.1783616  0.03845083 0.12604855 0.11719964 0.02111002]
[0.06253019 0.05582424 0.08111303 0.06758833 0.19753978 0.10059845
 0.14406279 0.04440715 0.10616243 0.11440653 0.02576713]
[0.06668627 0.04913381 0.06550062 0.07594739 0.18879652 0.07381556
 0.16843036 0.0392868  0.12210071 0.1233914  0.02691052]
[0.06277785 0.04701609 0.06921925 0.0735758  0.20130388 0.06983695
 0.18946184 0.03694675 0.11452595 0.10794701 0.02738865]
[0.04419037 0.04411366 0.0675108  0.08103502 0.19278565 0.07912514
 0.20599848 0.02997129 0.11601546 0.11717172 0.02208244]
[0.05311872 0.04279638 0.06117935 0.08101477 0.20886675 0.06649588
 0.20138484 0.03313216 0.10822576 0.12181412 0.02197122]
[0.07309615 0.06372036 0.078072   0.07572123 0.15215394 0.0789947
 0.12937054 0.04897203 0.11678112 0.14182302 0.04129492]
[0.04788591 0.04717646 0.06837033 0.07612748 0.21404204 0.06182098
 0.18338013 0.03573716 0.11795227 0.11748767 0.03001953]
[0.04849704 0.04519115 0.06859443 0.08591477 0.17781913 0.05725013
 0.20408623 0.03929521 0.12674654 0.11943201 0.02717341]]