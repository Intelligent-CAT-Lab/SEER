67602
Test: public void test71() throws Throwable { if (debug) System.out.format("%n%s%n", "RegressionTest0.test71"); com.fasterxml.jackson.databind.JavaType javaType0 = null; com.fasterxml.jackson.databind.jsontype.TypeSerializer typeSerializer2 = null; com.fasterxml.jackson.databind.ser.std.SqlDateSerializer sqlDateSerializer4 = new com.fasterxml.jackson.databind.ser.std.SqlDateSerializer((java.lang.Boolean) false); com.fasterxml.jackson.databind.SerializerProvider serializerProvider5 = null; com.fasterxml.jackson.databind.BeanProperty beanProperty6 = null; com.fasterxml.jackson.databind.JsonSerializer<?> wildcardJsonSerializer7 = sqlDateSerializer4.createContextual(serializerProvider5, beanProperty6); com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer objectArraySerializer8 = new com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer(javaType0, false, typeSerializer2, (com.fasterxml.jackson.databind.JsonSerializer<java.lang.Object>) wildcardJsonSerializer7); com.fasterxml.jackson.databind.ObjectMapper objectMapper9 = null; com.fasterxml.jackson.databind.MappingJsonFactory mappingJsonFactory10 = new com.fasterxml.jackson.databind.MappingJsonFactory(objectMapper9); com.fasterxml.jackson.databind.ser.DefaultSerializerProvider defaultSerializerProvider11 = null; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext defaultDeserializationContext12 = null; com.fasterxml.jackson.databind.ObjectMapper objectMapper13 = new com.fasterxml.jackson.databind.ObjectMapper((com.fasterxml.jackson.core.JsonFactory) mappingJsonFactory10, defaultSerializerProvider11, defaultDeserializationContext12); com.fasterxml.jackson.databind.MapperFeature[] mapperFeatureArray14 = new com.fasterxml.jackson.databind.MapperFeature[] {}; com.fasterxml.jackson.databind.ObjectMapper objectMapper15 = objectMapper13.enable(mapperFeatureArray14); com.fasterxml.jackson.core.JsonGenerator jsonGenerator16 = null; com.fasterxml.jackson.databind.SerializerProvider serializerProvider17 = null; objectArraySerializer8.serializeContents((java.lang.Object[]) mapperFeatureArray14, jsonGenerator16, serializerProvider17); com.fasterxml.jackson.databind.ser.impl.PropertySerializerMap propertySerializerMap19 = com.fasterxml.jackson.databind.ser.impl.PropertySerializerMap.emptyForRootValues(); objectArraySerializer8._dynamicSerializers = propertySerializerMap19; com.fasterxml.jackson.databind.ObjectMapper objectMapper21 = null; com.fasterxml.jackson.databind.MappingJsonFactory mappingJsonFactory22 = new com.fasterxml.jackson.databind.MappingJsonFactory(objectMapper21); com.fasterxml.jackson.databind.ser.DefaultSerializerProvider defaultSerializerProvider23 = null; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext defaultDeserializationContext24 = null; com.fasterxml.jackson.databind.ObjectMapper objectMapper25 = new com.fasterxml.jackson.databind.ObjectMapper((com.fasterxml.jackson.core.JsonFactory) mappingJsonFactory22, defaultSerializerProvider23, defaultDeserializationContext24); com.fasterxml.jackson.databind.MapperFeature[] mapperFeatureArray26 = new com.fasterxml.jackson.databind.MapperFeature[] {}; com.fasterxml.jackson.databind.ObjectMapper objectMapper27 = objectMapper25.enable(mapperFeatureArray26); com.fasterxml.jackson.databind.ObjectMapper objectMapper28 = null; com.fasterxml.jackson.databind.MappingJsonFactory mappingJsonFactory29 = new com.fasterxml.jackson.databind.MappingJsonFactory(objectMapper28); com.fasterxml.jackson.databind.ser.DefaultSerializerProvider defaultSerializerProvider30 = null; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext defaultDeserializationContext31 = null; com.fasterxml.jackson.databind.ObjectMapper objectMapper32 = new com.fasterxml.jackson.databind.ObjectMapper((com.fasterxml.jackson.core.JsonFactory) mappingJsonFactory29, defaultSerializerProvider30, defaultDeserializationContext31); com.fasterxml.jackson.databind.MapperFeature[] mapperFeatureArray33 = new com.fasterxml.jackson.databind.MapperFeature[] {}; com.fasterxml.jackson.databind.ObjectMapper objectMapper34 = objectMapper32.enable(mapperFeatureArray33); com.fasterxml.jackson.databind.JavaType javaType35 = null; com.fasterxml.jackson.databind.ObjectWriter objectWriter36 = objectMapper32.writerFor(javaType35); com.fasterxml.jackson.databind.ObjectMapper objectMapper37 = null; com.fasterxml.jackson.databind.MappingJsonFactory mappingJsonFactory38 = new com.fasterxml.jackson.databind.MappingJsonFactory(objectMapper37); com.fasterxml.jackson.databind.ser.DefaultSerializerProvider defaultSerializerProvider39 = null; com.fasterxml.jackson.databind.deser.DefaultDeserializationContext defaultDeserializationContext40 = null; com.fasterxml.jackson.databind.ObjectMapper objectMapper41 = new com.fasterxml.jackson.databind.ObjectMapper((com.fasterxml.jackson.core.JsonFactory) mappingJsonFactory38, defaultSerializerProvider39, defaultDeserializationContext40); com.fasterxml.jackson.databind.ObjectMapper objectMapper42 = mappingJsonFactory38.getCodec(); com.fasterxml.jackson.core.JsonFactory jsonFactory43 = mappingJsonFactory38.copy(); byte[] byteArray48 = new byte[] { (byte) 1, (byte) 0, (byte) 100, (byte) -1 }; com.fasterxml.jackson.databind.node.BinaryNode binaryNode49 = new com.fasterxml.jackson.databind.node.BinaryNode(byteArray48); byte[] byteArray50 = binaryNode49.binaryValue(); com.fasterxml.jackson.core.JsonParser jsonParser51 = jsonFactory43.createParser(byteArray50); com.fasterxml.jackson.databind.DeserializationContext deserializationContext52 = null; com.fasterxml.jackson.databind.util.TokenBuffer tokenBuffer53 = new com.fasterxml.jackson.databind.util.TokenBuffer(jsonParser51, deserializationContext52); com.fasterxml.jackson.databind.SequenceWriter sequenceWriter54 = objectWriter36.writeValues((com.fasterxml.jackson.core.JsonGenerator) tokenBuffer53); com.fasterxml.jackson.core.JsonGenerator jsonGenerator55 = tokenBuffer53.useDefaultPrettyPrinter(); byte[] byteArray60 = new byte[] { (byte) 1, (byte) 0, (byte) 100, (byte) -1 }; com.fasterxml.jackson.databind.node.BinaryNode binaryNode61 = new com.fasterxml.jackson.databind.node.BinaryNode(byteArray60); com.fasterxml.jackson.databind.node.BinaryNode binaryNode62 = new com.fasterxml.jackson.databind.node.BinaryNode(byteArray60); com.fasterxml.jackson.databind.node.BinaryNode binaryNode63 = new com.fasterxml.jackson.databind.node.BinaryNode(byteArray60); tokenBuffer53.writeBinary(byteArray60); com.fasterxml.jackson.databind.SerializerProvider serializerProvider65 = null; objectArraySerializer8.serializeContents((java.lang.Object[]) mapperFeatureArray26, (com.fasterxml.jackson.core.JsonGenerator) tokenBuffer53, serializerProvider65); char[] charArray70 = new char[] { 'a', 'a', '#' }; try { tokenBuffer53.writeString(charArray70, (int) (byte) 1, 14); } catch (java.lang.StringIndexOutOfBoundsException e) { } }
Code: public JsonSerializer<?> createContextual(SerializerProvider serializers, BeanProperty property) throws JsonMappingException { if (false) { return this; } JsonFormat.Value format = findFormatOverrides(serializers, property, handledType()); if (false) { return this; } JsonFormat.Shape shape = format.getShape(); if (true) { return withFormat(Boolean.TRUE, null); } if (format.hasPattern()) { final Locale loc = format.hasLocale() ? format.getLocale() : serializers.getLocale(); SimpleDateFormat df = new SimpleDateFormat(format.getPattern(), loc); TimeZone tz = format.hasTimeZone() ? format.getTimeZone() : serializers.getTimeZone(); df.setTimeZone(tz); return withFormat(Boolean.FALSE, df); } final boolean hasLocale = format.hasLocale(); final boolean hasTZ = format.hasTimeZone(); final boolean asString = (shape == JsonFormat.Shape.STRING); if (!hasLocale && !asString) { return this; } DateFormat df0 = serializers.getConfig().getDateFormat(); if (df0 instanceof StdDateFormat) { StdDateFormat std = (StdDateFormat) df0; if (format.hasLocale()) { std = std.withLocale(format.getLocale()); } if (format.hasTimeZone()) { std = std.withTimeZone(format.getTimeZone()); } return withFormat(Boolean.FALSE, std); } if (!(df0 instanceof SimpleDateFormat)) { serializers.reportMappingProblem("Configured `DateFormat` (%s) not a `SimpleDateFormat`; can not configure `Locale` or `TimeZone`",df0.getClass().getName()); } SimpleDateFormat df = (SimpleDateFormat) df0; if (hasLocale) { df = new SimpleDateFormat(df.toPattern(), format.getLocale()); } else { ; } TimeZone newTz = format.getTimeZone(); boolean changeTZ = (newTz != null) && !newTz.equals(df.getTimeZone()); if (changeTZ) { df.setTimeZone(newTz); } return withFormat(Boolean.FALSE, df); }
tensor([[0.0039, 0.0169, 0.0023,  ..., 0.0058, 0.0074, 0.0018],
        [0.0038, 0.0175, 0.0024,  ..., 0.0046, 0.0060, 0.0021],
        [0.0032, 0.0251, 0.0024,  ..., 0.0049, 0.0061, 0.0016],
        ...,
        [0.0041, 0.0170, 0.0031,  ..., 0.0052, 0.0071, 0.0020],
        [0.0048, 0.0137, 0.0033,  ..., 0.0062, 0.0064, 0.0022],
        [0.0028, 0.0185, 0.0027,  ..., 0.0055, 0.0079, 0.0016]])