64516
Test: public void testRootSeparator() throws IOException { DefaultPrettyPrinter pp = new DefaultPrettyPrinter() .withRootSeparator("|"); final String EXP = "1|2|3"; StringWriter sw = new StringWriter(); JsonGenerator gen = JSON_F.createGenerator(sw); gen.setPrettyPrinter(pp); gen.writeNumber(1); gen.writeNumber(2); gen.writeNumber(3); gen.close(); ByteArrayOutputStream bytes = new ByteArrayOutputStream(); gen = JSON_F.createGenerator(bytes); gen.setPrettyPrinter(pp); gen.writeNumber(1); gen.writeNumber(2); gen.writeNumber(3); gen.close(); pp = pp.withRootSeparator((String) null) .withArrayIndenter(null) .withObjectIndenter(null) .withoutSpacesInObjectEntries(); sw = new StringWriter(); gen = JSON_F.createGenerator(sw); gen.setPrettyPrinter(pp); gen.writeNumber(1); gen.writeStartArray(); gen.writeNumber(2); gen.writeEndArray(); gen.writeStartObject(); gen.writeFieldName("a"); gen.writeNumber(3); gen.writeEndObject(); gen.close(); }
Code: public void writeNumber(BigDecimal value){;if (value == null) {;} else if (true) {String raw = Feature.WRITE_BIGDECIMAL_AS_PLAIN.enabledIn(_features) ? value.toPlainString() : value.toString();_writeQuotedRaw(raw);} else if (Feature.WRITE_BIGDECIMAL_AS_PLAIN.enabledIn(_features)) {writeRaw(value.toPlainString());} else {writeRaw(_asString(value));}}
[[0.03156824 0.02641779 0.01788221 0.04844771 0.02917179 0.04777024
 0.01598763 0.01636889 0.04125234 0.08581302 0.07473712 0.0553081
 0.02017041 0.02031603 0.03941055 0.04961051 0.05590335 0.03210462
 0.04627062 0.04125234 0.08581302 0.02795047 0.02425868 0.04125234
 0.02496205]
[0.0252624  0.02372551 0.01495355 0.06914413 0.02748026 0.03540909
 0.01269433 0.01508798 0.04602702 0.08523767 0.11717887 0.0530122
 0.01848725 0.02186763 0.03522415 0.0499036  0.04658649 0.0241809
 0.02958575 0.04602702 0.08523767 0.03304413 0.017377   0.04602702
 0.02123829]
[0.0199113  0.02250225 0.01660049 0.06061013 0.0332914  0.04580482
 0.01592944 0.01826183 0.04993625 0.07613999 0.09075526 0.06039397
 0.02117222 0.02379634 0.03462154 0.0561514  0.05136195 0.02074979
 0.03290449 0.04993625 0.07613999 0.03075617 0.0184966  0.04993625
 0.02383984]
[0.02485114 0.02063232 0.01302011 0.0551634  0.02351553 0.04111329
 0.0122231  0.01278364 0.04646242 0.10907467 0.0990667  0.04384841
 0.0197689  0.01971505 0.03381918 0.04907047 0.04703257 0.0227311
 0.03627617 0.04646242 0.10907467 0.02508205 0.02262773 0.04646242
 0.02012254]
[0.0272348  0.02282209 0.01579002 0.05371558 0.03402335 0.04435834
 0.01408565 0.01534115 0.04257929 0.08396174 0.09364414 0.03945291
 0.0233023  0.02212976 0.04243147 0.05525279 0.04668146 0.02753631
 0.04607315 0.04257929 0.08396174 0.03433716 0.02036959 0.04257929
 0.02575661]
[0.0175772  0.02058339 0.01107267 0.06706109 0.03193715 0.04213361
 0.01129788 0.01373943 0.04211286 0.09609163 0.11347185 0.05384186
 0.0175209  0.01870824 0.03298008 0.04628444 0.05652197 0.02599454
 0.03811765 0.04211286 0.09609163 0.02382111 0.01536077 0.04211286
 0.02345237]
[0.02403838 0.01820944 0.01283692 0.0523957  0.03091429 0.04345396
 0.01418926 0.01560595 0.03780662 0.1074387  0.09984086 0.05106777
 0.01744893 0.01595132 0.03784713 0.04941339 0.04822484 0.01908743
 0.04547227 0.03780662 0.1074387  0.03339047 0.01616405 0.03780662
 0.02615044]
[0.02988466 0.02361656 0.01167713 0.07657286 0.0334316  0.03270024
 0.0159939  0.01972869 0.04722607 0.07202508 0.1049974  0.05565065
 0.02158317 0.01869074 0.04340617 0.05230415 0.04568466 0.01917763
 0.03782886 0.04722607 0.07202508 0.0283478  0.02000609 0.04722607
 0.02298865]
[0.02443295 0.0190745  0.01550936 0.07267092 0.03356506 0.037232
 0.01225411 0.01698965 0.04510733 0.07848284 0.10392859 0.0547174
 0.02223116 0.01764042 0.03334482 0.04966788 0.0559335  0.02251003
 0.04345772 0.04510733 0.07848284 0.03031127 0.02024794 0.04510733
 0.02199302]
[0.01872363 0.01537878 0.00944841 0.07642306 0.02442212 0.03450051
 0.00697201 0.01401217 0.05674441 0.10951633 0.12426235 0.04362825
 0.0136453  0.01556008 0.02842289 0.04021238 0.04455958 0.01627038
 0.02905107 0.05674441 0.10951633 0.02270628 0.0162947  0.05674441
 0.01624019]
[0.02258915 0.01884863 0.01249796 0.06171247 0.03175437 0.03975873
 0.01047321 0.01216961 0.04895657 0.08924645 0.1182552  0.05921987
 0.01938404 0.01983087 0.02929275 0.04583551 0.04835703 0.02318323
 0.03660459 0.04895657 0.08924645 0.0276807  0.0178272  0.04895657
 0.0193622 ]
[0.0289773  0.02268527 0.01746732 0.06596997 0.02515053 0.04173511
 0.01692835 0.02033947 0.04233186 0.08651837 0.07411557 0.05902986
 0.02521838 0.0251169  0.03896013 0.03911846 0.04890715 0.02532509
 0.04855955 0.04233186 0.08651837 0.029173   0.02463325 0.04233186
 0.02255701]
[0.02704176 0.02225343 0.01246126 0.06758547 0.02796748 0.04285815
 0.01450229 0.0163249  0.04584395 0.09625688 0.09205787 0.04801755
 0.0188583  0.01923659 0.03640687 0.04503454 0.04412726 0.02375481
 0.04604804 0.04584395 0.09625688 0.02185567 0.02195228 0.04584395
 0.02160986]
[0.03478248 0.02891356 0.01964215 0.05172908 0.02770443 0.03855755
 0.02165899 0.02001721 0.0410854  0.07752603 0.06480019 0.05887639
 0.02749465 0.02961687 0.03917658 0.04647347 0.04594512 0.03059923
 0.04965238 0.0410854  0.07752603 0.03348873 0.02541419 0.0410854
 0.02714845]
[0.02508613 0.02214481 0.0178842  0.05759511 0.02762054 0.03795665
 0.01673406 0.02062601 0.04300183 0.08912996 0.09355514 0.0649514
 0.02186024 0.01885736 0.03779587 0.0475956  0.05012048 0.02638266
 0.0336281  0.04300183 0.08912996 0.02747134 0.02169158 0.04300183
 0.02317728]
[0.02525908 0.01896084 0.00983386 0.05893857 0.03308974 0.03048481
 0.01252044 0.01561433 0.04816429 0.08995753 0.10231896 0.06942407
 0.0142405  0.01700246 0.03660336 0.04912998 0.05166704 0.03004748
 0.03103359 0.04816429 0.08995753 0.02567832 0.02129572 0.04816429
 0.02244901]
[0.0233896  0.01977807 0.01255512 0.06006204 0.0301205  0.04866368
 0.01226988 0.01126741 0.04631621 0.08610187 0.08328298 0.04582007
 0.02078659 0.01652154 0.03784826 0.06527247 0.05342028 0.03319521
 0.04239675 0.04631621 0.08610187 0.02693392 0.024625   0.04631621
 0.02063819]
[0.03270338 0.02630877 0.01788741 0.05074079 0.03317544 0.03851116
 0.01703402 0.0180367  0.04077406 0.07360938 0.07785594 0.05031401
 0.02655296 0.02597881 0.048886   0.06498209 0.04634246 0.02394583
 0.05258225 0.04077406 0.07360938 0.03384881 0.0197255  0.04077406
 0.02504671]
[0.02837823 0.02327486 0.01529156 0.06076172 0.0276034  0.03584911
 0.01390773 0.01874038 0.04730605 0.09529508 0.08847226 0.05048095
 0.0240981  0.02030787 0.02957045 0.04304659 0.05165903 0.02343896
 0.04178216 0.04730605 0.09529508 0.02593076 0.0232202  0.04730605
 0.0216774 ]
[0.02443295 0.0190745  0.01550936 0.07267092 0.03356506 0.037232
 0.01225411 0.01698965 0.04510733 0.07848284 0.10392859 0.0547174
 0.02223116 0.01764042 0.03334482 0.04966788 0.0559335  0.02251003
 0.04345772 0.04510733 0.07848284 0.03031127 0.02024794 0.04510733
 0.02199302]
[0.01872363 0.01537878 0.00944841 0.07642306 0.02442212 0.03450051
 0.00697201 0.01401217 0.05674441 0.10951633 0.12426235 0.04362825
 0.0136453  0.01556008 0.02842289 0.04021238 0.04455958 0.01627038
 0.02905107 0.05674441 0.10951633 0.02270628 0.0162947  0.05674441
 0.01624019]
[0.01967605 0.01525456 0.01349721 0.06524497 0.03049129 0.04263104
 0.01125894 0.0133824  0.04693091 0.10694748 0.10795201 0.04656039
 0.0187788  0.01707697 0.02675645 0.04257697 0.0484672  0.02080048
 0.0384629  0.04693091 0.10694748 0.0187455  0.02888056 0.04693091
 0.01881765]
[0.02566138 0.02107734 0.01314893 0.04896441 0.02759724 0.04378181
 0.0120604  0.01315583 0.05255941 0.09708227 0.09404439 0.04825455
 0.01585415 0.01941832 0.03616586 0.04381691 0.06104801 0.02817069
 0.03498597 0.05255941 0.09708227 0.02235005 0.01661976 0.05255941
 0.02198125]
[0.02443295 0.0190745  0.01550936 0.07267092 0.03356506 0.037232
 0.01225411 0.01698965 0.04510733 0.07848284 0.10392859 0.0547174
 0.02223116 0.01764042 0.03334482 0.04966788 0.0559335  0.02251003
 0.04345772 0.04510733 0.07848284 0.03031127 0.02024794 0.04510733
 0.02199302]
[0.02917999 0.01751567 0.01563374 0.05650046 0.0295503  0.04599164
 0.0125663  0.01905489 0.04862581 0.09111688 0.08586328 0.04683942
 0.02144277 0.02293671 0.03189193 0.06120165 0.05435083 0.02037099
 0.03472193 0.04862581 0.09111688 0.02733927 0.01941323 0.04862581
 0.01952378]]