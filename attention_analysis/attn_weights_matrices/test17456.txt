17456
Test: public void testIssue724() { CompilerOptions options = createCompilerOptions(); CompilationLevel.ADVANCED_OPTIMIZATIONS .setOptionsForCompilationLevel(options); String code = "isFunction = function(functionToCheck) {" + " var getType = {};" + " return functionToCheck && " + " getType.toString.apply(functionToCheck) === " + " '[object Function]';" + "};"; String result = "isFunction=function(a){var b={};" + "return a&&\"[object Function]\"===b.b.a(a)}"; test(options, code, result); }
Code: public boolean apply(Node n) { if (n == null) { return false; } if (n.isCall() && NodeUtil.functionCallHasSideEffects(n)) { return true; } if (n.isNew() && NodeUtil.constructorCallHasSideEffects(n)) { return true; } if (n.isDelProp()) { return true; } for (Node c = n.getFirstChild(); c != null; c = c.getNext()) { if (!ControlFlowGraph.isEnteringNewCfgNode(c) && apply(c)) { return true; } } return false; }
tensor([[0.0128, 0.0311, 0.0673,  ..., 0.0141, 0.0179, 0.0056],
        [0.0096, 0.0559, 0.0821,  ..., 0.0148, 0.0181, 0.0040],
        [0.0107, 0.0441, 0.0672,  ..., 0.0159, 0.0159, 0.0045],
        ...,
        [0.0087, 0.0448, 0.1068,  ..., 0.0126, 0.0193, 0.0047],
        [0.0135, 0.0360, 0.0512,  ..., 0.0154, 0.0238, 0.0072],
        [0.0090, 0.0329, 0.0519,  ..., 0.0190, 0.0192, 0.0046]])