17710
Test: public void testFunctionGetCallsites() { String source = "function A() {var x; x()}\n" + "var B = function() {\n" + "(function C(){A()})()\n" + "};\n"; CallGraph callgraph = compileAndRunForward(source); CallGraph.Function functionA = callgraph.getUniqueFunctionWithName("A"); Collection<CallGraph.Callsite> callsitesInA = functionA.getCallsitesInFunction(); CallGraph.Callsite firstCallsiteInA = callsitesInA.iterator().next(); Node aTargetExpression = firstCallsiteInA.getAstNode().getFirstChild(); CallGraph.Function functionB = callgraph.getUniqueFunctionWithName("B"); Collection<CallGraph.Callsite> callsitesInB = functionB.getCallsitesInFunction(); CallGraph.Callsite firstCallsiteInB = callsitesInB.iterator().next(); Node bTargetExpression = firstCallsiteInB.getAstNode().getFirstChild(); CallGraph.Function functionC = callgraph.getUniqueFunctionWithName("C"); Collection<CallGraph.Callsite> callsitesInC = functionC.getCallsitesInFunction(); CallGraph.Callsite firstCallsiteInC = callsitesInC.iterator().next(); Node cTargetExpression = firstCallsiteInC.getAstNode().getFirstChild(); }
Code: @Override public Class getType() { return proxy.getType(); }
tensor([[0.1911, 0.1049, 0.1394, 0.1446, 0.1699, 0.1409, 0.0667, 0.0425],
        [0.1657, 0.1248, 0.1441, 0.1511, 0.1500, 0.1353, 0.0795, 0.0496],
        [0.1493, 0.1112, 0.1545, 0.1524, 0.1700, 0.1250, 0.0916, 0.0460],
        [0.1659, 0.0886, 0.1599, 0.1392, 0.1801, 0.1379, 0.0936, 0.0347],
        [0.1347, 0.1177, 0.1365, 0.1625, 0.1658, 0.1385, 0.0821, 0.0622],
        [0.1645, 0.0912, 0.1691, 0.1640, 0.1516, 0.1370, 0.0797, 0.0429],
        [0.1319, 0.1038, 0.1746, 0.1523, 0.1603, 0.1377, 0.0767, 0.0627],
        [0.1630, 0.0839, 0.1082, 0.1557, 0.1915, 0.1763, 0.0788, 0.0424]])