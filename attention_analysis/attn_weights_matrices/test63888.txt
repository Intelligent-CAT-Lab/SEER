63888
Test: public void testArrayCount() throws Exception { final String EXP = "[6,[1,2,9(3)](2)]"; final JsonFactory jf = new JsonFactory(); for (int i = 0; i < 2; ++i) { boolean useBytes = (i > 0); ByteArrayOutputStream bytes = new ByteArrayOutputStream(); StringWriter sw = new StringWriter(); JsonGenerator gen = useBytes ? jf.createGenerator(bytes) : jf.createGenerator(sw); gen.setPrettyPrinter(new CountPrinter()); gen.writeStartArray(); gen.writeNumber(6); gen.writeStartArray(); gen.writeNumber(1); gen.writeNumber(2); gen.writeNumber(9); gen.writeEndArray(); gen.writeEndArray(); gen.close(); String json = useBytes ? bytes.toString("UTF-8") : sw.toString(); } }
Code: public void writeNumber(BigDecimal value) throws IOException { _verifyValueWrite(WRITE_NUMBER); if (value == null) { _writeNull(); } else if (_cfgNumbersAsStrings) { _writeQuotedRaw(_asString(value)); } else { writeRaw(_asString(value)); } }
tensor([[0.0272, 0.0221, 0.0147, 0.0318, 0.0637, 0.0143, 0.0373, 0.0336, 0.0734,
         0.0270, 0.0426, 0.0145, 0.0373, 0.1211, 0.0118, 0.0389, 0.0734, 0.0820,
         0.0373, 0.0694, 0.0118, 0.0389, 0.0373, 0.0151, 0.0118, 0.0118],
        [0.0215, 0.0186, 0.0117, 0.0314, 0.0765, 0.0119, 0.0369, 0.0254, 0.0713,
         0.0254, 0.0312, 0.0108, 0.0369, 0.1643, 0.0113, 0.0449, 0.0713, 0.0737,
         0.0369, 0.0594, 0.0113, 0.0449, 0.0369, 0.0130, 0.0113, 0.0113],
        [0.0174, 0.0184, 0.0134, 0.0268, 0.0707, 0.0157, 0.0420, 0.0313, 0.0659,
         0.0326, 0.0428, 0.0141, 0.0420, 0.1212, 0.0105, 0.0510, 0.0659, 0.0819,
         0.0420, 0.0563, 0.0105, 0.0510, 0.0420, 0.0137, 0.0105, 0.0105],
        [0.0249, 0.0177, 0.0120, 0.0295, 0.0774, 0.0138, 0.0415, 0.0327, 0.0734,
         0.0288, 0.0366, 0.0117, 0.0415, 0.1291, 0.0102, 0.0395, 0.0734, 0.0860,
         0.0415, 0.0555, 0.0102, 0.0395, 0.0415, 0.0116, 0.0102, 0.0102],
        [0.0177, 0.0171, 0.0107, 0.0349, 0.0867, 0.0113, 0.0427, 0.0254, 0.0792,
         0.0242, 0.0275, 0.0107, 0.0427, 0.1495, 0.0083, 0.0480, 0.0792, 0.0644,
         0.0427, 0.0488, 0.0083, 0.0480, 0.0427, 0.0127, 0.0083, 0.0083],
        [0.0220, 0.0174, 0.0125, 0.0300, 0.0850, 0.0123, 0.0387, 0.0277, 0.0904,
         0.0237, 0.0432, 0.0096, 0.0387, 0.1288, 0.0083, 0.0495, 0.0904, 0.0528,
         0.0387, 0.0530, 0.0083, 0.0495, 0.0387, 0.0144, 0.0083, 0.0083],
        [0.0302, 0.0261, 0.0159, 0.0339, 0.0541, 0.0198, 0.0458, 0.0352, 0.0524,
         0.0354, 0.0330, 0.0201, 0.0458, 0.1023, 0.0166, 0.0519, 0.0524, 0.0649,
         0.0458, 0.0510, 0.0166, 0.0519, 0.0458, 0.0198, 0.0166, 0.0166],
        [0.0168, 0.0153, 0.0128, 0.0305, 0.0740, 0.0142, 0.0402, 0.0317, 0.0850,
         0.0264, 0.0404, 0.0136, 0.0402, 0.1225, 0.0104, 0.0449, 0.0850, 0.0692,
         0.0402, 0.0569, 0.0104, 0.0449, 0.0402, 0.0135, 0.0104, 0.0104],
        [0.0152, 0.0117, 0.0069, 0.0196, 0.0882, 0.0101, 0.0340, 0.0228, 0.0863,
         0.0236, 0.0303, 0.0058, 0.0340, 0.1634, 0.0051, 0.0579, 0.0863, 0.0921,
         0.0340, 0.0563, 0.0051, 0.0579, 0.0340, 0.0091, 0.0051, 0.0051],
        [0.0238, 0.0190, 0.0137, 0.0306, 0.0601, 0.0161, 0.0391, 0.0266, 0.0746,
         0.0344, 0.0406, 0.0132, 0.0391, 0.1235, 0.0104, 0.0432, 0.0746, 0.0771,
         0.0391, 0.0744, 0.0104, 0.0432, 0.0391, 0.0132, 0.0104, 0.0104],
        [0.0151, 0.0162, 0.0088, 0.0301, 0.0711, 0.0115, 0.0387, 0.0225, 0.0835,
         0.0312, 0.0376, 0.0098, 0.0387, 0.1647, 0.0079, 0.0428, 0.0835, 0.0830,
         0.0387, 0.0483, 0.0079, 0.0428, 0.0387, 0.0110, 0.0079, 0.0079],
        [0.0208, 0.0157, 0.0111, 0.0305, 0.0731, 0.0140, 0.0453, 0.0227, 0.0949,
         0.0308, 0.0394, 0.0131, 0.0453, 0.1231, 0.0071, 0.0379, 0.0949, 0.0672,
         0.0453, 0.0500, 0.0071, 0.0379, 0.0453, 0.0133, 0.0071, 0.0071],
        [0.0302, 0.0261, 0.0159, 0.0339, 0.0541, 0.0198, 0.0458, 0.0352, 0.0524,
         0.0354, 0.0330, 0.0201, 0.0458, 0.1023, 0.0166, 0.0519, 0.0524, 0.0649,
         0.0458, 0.0510, 0.0166, 0.0519, 0.0458, 0.0198, 0.0166, 0.0166],
        [0.0367, 0.0228, 0.0159, 0.0417, 0.0545, 0.0176, 0.0509, 0.0336, 0.0682,
         0.0302, 0.0317, 0.0188, 0.0509, 0.0983, 0.0133, 0.0380, 0.0682, 0.0564,
         0.0509, 0.0571, 0.0133, 0.0380, 0.0509, 0.0153, 0.0133, 0.0133],
        [0.0197, 0.0179, 0.0123, 0.0239, 0.0832, 0.0150, 0.0465, 0.0344, 0.0751,
         0.0397, 0.0338, 0.0125, 0.0465, 0.1153, 0.0102, 0.0490, 0.0751, 0.0511,
         0.0465, 0.0526, 0.0102, 0.0490, 0.0465, 0.0135, 0.0102, 0.0102],
        [0.0215, 0.0161, 0.0128, 0.0364, 0.0732, 0.0130, 0.0394, 0.0290, 0.0680,
         0.0331, 0.0344, 0.0113, 0.0394, 0.1399, 0.0083, 0.0463, 0.0680, 0.0832,
         0.0394, 0.0620, 0.0083, 0.0463, 0.0394, 0.0148, 0.0083, 0.0083],
        [0.0152, 0.0117, 0.0069, 0.0196, 0.0882, 0.0101, 0.0340, 0.0228, 0.0863,
         0.0236, 0.0303, 0.0058, 0.0340, 0.1634, 0.0051, 0.0579, 0.0863, 0.0921,
         0.0340, 0.0563, 0.0051, 0.0579, 0.0340, 0.0091, 0.0051, 0.0051],
        [0.0206, 0.0151, 0.0103, 0.0248, 0.0730, 0.0130, 0.0477, 0.0307, 0.0693,
         0.0382, 0.0324, 0.0115, 0.0477, 0.1366, 0.0097, 0.0452, 0.0693, 0.0702,
         0.0477, 0.0515, 0.0097, 0.0452, 0.0477, 0.0132, 0.0097, 0.0097],
        [0.0302, 0.0261, 0.0159, 0.0339, 0.0541, 0.0198, 0.0458, 0.0352, 0.0524,
         0.0354, 0.0330, 0.0201, 0.0458, 0.1023, 0.0166, 0.0519, 0.0524, 0.0649,
         0.0458, 0.0510, 0.0166, 0.0519, 0.0458, 0.0198, 0.0166, 0.0166],
        [0.0243, 0.0159, 0.0118, 0.0313, 0.0557, 0.0112, 0.0357, 0.0298, 0.0797,
         0.0343, 0.0390, 0.0102, 0.0357, 0.1528, 0.0076, 0.0439, 0.0797, 0.0759,
         0.0357, 0.0747, 0.0076, 0.0439, 0.0357, 0.0126, 0.0076, 0.0076],
        [0.0197, 0.0179, 0.0123, 0.0239, 0.0832, 0.0150, 0.0465, 0.0344, 0.0751,
         0.0397, 0.0338, 0.0125, 0.0465, 0.1153, 0.0102, 0.0490, 0.0751, 0.0511,
         0.0465, 0.0526, 0.0102, 0.0490, 0.0465, 0.0135, 0.0102, 0.0102],
        [0.0215, 0.0161, 0.0128, 0.0364, 0.0732, 0.0130, 0.0394, 0.0290, 0.0680,
         0.0331, 0.0344, 0.0113, 0.0394, 0.1399, 0.0083, 0.0463, 0.0680, 0.0832,
         0.0394, 0.0620, 0.0083, 0.0463, 0.0394, 0.0148, 0.0083, 0.0083],
        [0.0302, 0.0261, 0.0159, 0.0339, 0.0541, 0.0198, 0.0458, 0.0352, 0.0524,
         0.0354, 0.0330, 0.0201, 0.0458, 0.1023, 0.0166, 0.0519, 0.0524, 0.0649,
         0.0458, 0.0510, 0.0166, 0.0519, 0.0458, 0.0198, 0.0166, 0.0166],
        [0.0204, 0.0195, 0.0129, 0.0333, 0.0833, 0.0113, 0.0424, 0.0257, 0.0618,
         0.0243, 0.0339, 0.0104, 0.0424, 0.1610, 0.0110, 0.0515, 0.0618, 0.0621,
         0.0424, 0.0477, 0.0110, 0.0515, 0.0424, 0.0138, 0.0110, 0.0110],
        [0.0197, 0.0179, 0.0123, 0.0239, 0.0832, 0.0150, 0.0465, 0.0344, 0.0751,
         0.0397, 0.0338, 0.0125, 0.0465, 0.1153, 0.0102, 0.0490, 0.0751, 0.0511,
         0.0465, 0.0526, 0.0102, 0.0490, 0.0465, 0.0135, 0.0102, 0.0102],
        [0.0197, 0.0179, 0.0123, 0.0239, 0.0832, 0.0150, 0.0465, 0.0344, 0.0751,
         0.0397, 0.0338, 0.0125, 0.0465, 0.1153, 0.0102, 0.0490, 0.0751, 0.0511,
         0.0465, 0.0526, 0.0102, 0.0490, 0.0465, 0.0135, 0.0102, 0.0102]])