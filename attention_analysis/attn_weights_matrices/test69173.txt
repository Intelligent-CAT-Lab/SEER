69173
Test: public void test269() throws Throwable { if (debug) System.out.format("%n%s%n", "RegressionTest0.test269"); java.io.InputStream inputStream0 = null; org.jsoup.internal.ConstrainableInputStream constrainableInputStream3 = org.jsoup.internal.ConstrainableInputStream.wrap(inputStream0, 3, 3); java.io.InputStream inputStream6 = null; org.jsoup.parser.Parser parser9 = org.jsoup.parser.Parser.xmlParser(); org.jsoup.nodes.Document document10 = org.jsoup.helper.DataUtil.load(inputStream6, "", "", parser9); org.jsoup.nodes.Document document13 = parser9.parseInput(":nth-last-child(10n+52)", "IPdAChx6AMjemBZYS_W0fi7l8H_-w-Xy"); try { org.jsoup.nodes.Document document14 = org.jsoup.helper.DataUtil.parseInputStream((java.io.InputStream) constrainableInputStream3, "", "hi!#document", parser9); } catch (java.io.IOException e) { } }
Code: static Document parseInputStream(InputStream input, String charsetName, String baseUri, Parser parser) throws IOException { if (input == null) return new Document(baseUri); input = ConstrainableInputStream.wrap(input, bufferSize, 0); Document doc = null; boolean fullyRead = false; input.mark(bufferSize); ByteBuffer firstBytes = readToByteBuffer(input, firstReadBufferSize - 1); fullyRead = input.read() == -1; input.reset(); BomCharset bomCharset = detectCharsetFromBom(firstBytes); if (bomCharset != null) charsetName = bomCharset.charset; if (charsetName == null) { String docData = Charset.forName(defaultCharset).decode(firstBytes).toString(); doc = parser.parseInput(docData, baseUri); Elements metaElements = doc.select("meta[http-equiv=content-type], meta[charset]"); String foundCharset = null; for (Element meta : metaElements) { if (meta.hasAttr("http-equiv")) foundCharset = getCharsetFromContentType(meta.attr("content")); if (foundCharset == null && meta.hasAttr("charset")) foundCharset = meta.attr("charset"); if (foundCharset != null) break; } if (foundCharset == null && doc.childNodeSize() > 0) { Node first = doc.childNode(0); XmlDeclaration decl = null; if (first instanceof XmlDeclaration) decl = (XmlDeclaration) first; else if (first instanceof Comment) { Comment comment = (Comment) first; if (comment.isXmlDeclaration()) decl = comment.asXmlDeclaration(); } if (decl != null) { if (decl.name().equalsIgnoreCase("xml")) foundCharset = decl.attr("encoding"); } } foundCharset = validateCharset(foundCharset); if (foundCharset != null && !foundCharset.equalsIgnoreCase(defaultCharset)) { foundCharset = foundCharset.trim().replaceAll("[\"']", ""); charsetName = foundCharset; doc = null; } else if (!fullyRead) { doc = null; } } else { Validate.notEmpty(charsetName, "Must set charset arg to character set of file to parse. Set to null to attempt to detect from HTML"); } if (doc == null) { if (charsetName == null) charsetName = defaultCharset; BufferedReader reader = new BufferedReader(new InputStreamReader(input, charsetName), bufferSize); if (bomCharset != null && bomCharset.offset) reader.skip(1); try { doc = parser.parseInput(reader, baseUri); } catch (UncheckedIOException e) { throw e.ioException(); } doc.outputSettings().charset(charsetName); } input.close(); return doc; }
tensor([[0.0082, 0.0108, 0.0043,  ..., 0.0028, 0.0025, 0.0015],
        [0.0075, 0.0106, 0.0051,  ..., 0.0030, 0.0020, 0.0010],
        [0.0082, 0.0117, 0.0050,  ..., 0.0034, 0.0019, 0.0010],
        ...,
        [0.0093, 0.0107, 0.0061,  ..., 0.0027, 0.0020, 0.0011],
        [0.0093, 0.0116, 0.0048,  ..., 0.0036, 0.0024, 0.0009],
        [0.0086, 0.0092, 0.0043,  ..., 0.0045, 0.0027, 0.0011]])