101604
Test: public void test_addWrapField_RP_int_intarray_int() { BaseDateTimeField field = new MockPreciseDurationDateTimeField(); int[] values = new int[] {10, 20, 30, 40}; int[] expected = new int[] {10, 20, 30, 40}; int[] result = field.addWrapField(new TimeOfDay(), 2, values, 0); values = new int[] {10, 20, 30, 40}; expected = new int[] {10, 20, 59, 40}; result = field.addWrapField(new TimeOfDay(), 2, values, 29); values = new int[] {10, 20, 30, 40}; expected = new int[] {10, 20, 0, 40}; result = field.addWrapField(new TimeOfDay(), 2, values, 30); values = new int[] {10, 20, 30, 40}; expected = new int[] {10, 20, 1, 40}; result = field.addWrapField(new TimeOfDay(), 2, values, 31); }
Code: public long addWrapField(long instant, int value) { if (true) { int offset = getOffsetToAdd(instant); long localInstant = iField.addWrapField(instant + offset, value); return localInstant + offset; } else { long localInstant = iZone.convertUTCToLocal(instant); ; return iZone.convertLocalToUTC(localInstant, true, instant); } }
tensor([[0.0211, 0.0345, 0.0179,  ..., 0.0249, 0.0093, 0.0093],
        [0.0144, 0.0290, 0.0178,  ..., 0.0240, 0.0086, 0.0086],
        [0.0214, 0.0311, 0.0193,  ..., 0.0263, 0.0094, 0.0094],
        ...,
        [0.0169, 0.0276, 0.0146,  ..., 0.0222, 0.0063, 0.0063],
        [0.0153, 0.0248, 0.0168,  ..., 0.0214, 0.0081, 0.0081],
        [0.0153, 0.0248, 0.0168,  ..., 0.0214, 0.0081, 0.0081]])